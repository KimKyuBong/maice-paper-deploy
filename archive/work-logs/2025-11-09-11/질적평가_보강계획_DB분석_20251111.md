# MAICE ì§ˆì  í‰ê°€ ë³´ê°• ê³„íš (DB ë°ì´í„° í™œìš©)

**ì‘ì„±ì¼**: 2025ë…„ 11ì›” 11ì¼  
**ë°ì´í„° ì¶œì²˜**: PostgreSQL DB `maice_agent` (192.168.1.110)  
**ë¶„ì„ ê¸°ê°„**: 2025ë…„ 10ì›” 27ì¼ ~ 2025ë…„ 11ì›” 11ì¼

---

## ğŸ“Š ë°œê²¬ëœ ë°ì´í„° í˜„í™©

### 1. ì „ì²´ ë°ì´í„° ê·œëª¨
- **ì´ í”„ë¡¬í”„íŠ¸ ë¡œê·¸**: 1,589ê±´
- **ë¶„ì„ ê¸°ê°„**: ì•½ 16ì¼ê°„ì˜ ì‹¤ì œ ì‚¬ìš© ë°ì´í„°
- **ê³ ìœ  ì„¸ì…˜**: 229ê°œ (freetalker ê¸°ì¤€)
- **ë°ì´í„° í’ˆì§ˆ**: í”„ë¡¬í”„íŠ¸, ì‘ë‹µ, ì„¸ì…˜ ì •ë³´ ëª¨ë‘ í¬í•¨ëœ ì™„ì „í•œ ë°ì´í„°ì…‹

### 2. ì—ì´ì „íŠ¸ë³„ ë°ì´í„° ë¶„í¬

| ì—ì´ì „íŠ¸ | ë ˆì½”ë“œ ìˆ˜ | ê³ ìœ  ì„¸ì…˜ | ì„¤ëª… |
|---------|----------|----------|------|
| freetalker_llm | 628ê±´ | 229ê°œ | í•™ìƒê³¼ ììœ ë¡œìš´ ëŒ€í™” |
| classifier_llm | 278ê±´ | 172ê°œ | ì§ˆë¬¸ ìœ í˜• ë¶„ë¥˜ (K1~K4) |
| answer_generator_llm | 237ê±´ | 159ê°œ | êµìœ¡ì  ë‹µë³€ ìƒì„± |
| observer_llm | 255ê±´ | 165ê°œ | í•™ìŠµ ê³¼ì • ìš”ì•½ |
| question_improvement_llm | 100ê±´ | 1ê°œ | ì§ˆë¬¸ ê°œì„  ì œì•ˆ |

### 3. ë°ì´í„° êµ¬ì¡°
```sql
llm_prompt_logs:
- input_prompt (ì‹œìŠ¤í…œ í”„ë¡¬í”„íŠ¸ + í•™ìƒ ì§ˆë¬¸)
- session_id (ì„¸ì…˜ë³„ ì¶”ì  ê°€ëŠ¥)
- timestamp (ì‹œê°„ìˆœ ë¶„ì„ ê°€ëŠ¥)
- agent_name (ì—ì´ì „íŠ¸ë³„ ì—­í•  êµ¬ë¶„)

llm_response_logs:
- response_content (AIì˜ ì‹¤ì œ ë‹µë³€)
- prompt_id (í”„ë¡¬í”„íŠ¸ì™€ ë§¤ì¹­)
```

---

## ğŸ¯ ì§ˆì  í‰ê°€ ë³´ê°• ì „ëµ

### Part A: ê¸°ì¡´ ë…¼ë¬¸ê³¼ì˜ ì‹œë„ˆì§€ í™œìš©

#### ê¸°ì¡´ ê°•ì 
- âœ… êµì‚¬ 2ëª…ì˜ ë£¨ë¸Œë¦­ ê¸°ë°˜ í‰ê°€ (100ê±´)
- âœ… LLM-êµì‚¬ ì´ì¤‘ í‰ê°€ ìƒê´€ê´€ê³„ (r=0.743)
- âœ… í•™ìƒ ì‚¬í›„ ì„¤ë¬¸ ì‘ë‹µ

#### DB ë°ì´í„°ë¡œ ë³´ê°•í•  ì˜ì—­
1. **ì‹¤ì œ í•™ìŠµ ëŒ€í™” íŒ¨í„´** (ê¸°ì¡´ ë…¼ë¬¸ì— ë¶€ì¡±í•œ ë¶€ë¶„)
2. **AIì˜ êµìœ¡ì  ì „ëµ ì‹¤í–‰ ì‚¬ë¡€** (Dewey, Bloom ì´ë¡  ì—°ê³„)
3. **í•™ìƒ-AI ìƒí˜¸ì‘ìš©ì˜ ì§ˆì  íŠ¹ì„±**
4. **ëª…ë£Œí™” ëŒ€í™”ì˜ ì‹¤ì œ íš¨ê³¼**

---

## ğŸ“‹ êµ¬ì²´ì  ë¶„ì„ ê³„íš

### Phase 1: ë°ì´í„° ì¶”ì¶œ ë° ì •ì œ (1ì¼)

#### 1.1 í•µì‹¬ ë°ì´í„°ì…‹ êµ¬ì¶•
```sql
-- í•™ìƒ ì§ˆë¬¸-AI ë‹µë³€ ìŒ ì¶”ì¶œ
SELECT 
  lp.session_id,
  lp.timestamp,
  lp.agent_name,
  lp.input_prompt::json->'user' as student_question,
  lr.response_content as ai_answer
FROM llm_prompt_logs lp
JOIN llm_response_logs lr ON lp.id = lr.prompt_id
WHERE lp.agent_name = 'answer_generator_llm'
  AND lp.success = true
ORDER BY lp.session_id, lp.timestamp
```

**ëª©í‘œ**: ì•½ 237ê±´ì˜ í•™ìƒ ì§ˆë¬¸-AI ë‹µë³€ ìŒ í™•ë³´

#### 1.2 ì§ˆë¬¸ ë¶„ë¥˜ ë°ì´í„° ì¶”ì¶œ
```sql
-- ì§ˆë¬¸ ìœ í˜• ë¶„ë¥˜ ì •ë³´ (K1~K4)
SELECT 
  session_id,
  input_prompt::json->'user' as question,
  response_content::json->'knowledge_code' as question_type,
  response_content::json->'quality' as quality,
  response_content::json->'reasoning' as classification_reasoning
FROM llm_prompt_logs lp
JOIN llm_response_logs lr ON lp.id = lr.prompt_id
WHERE agent_name = 'classifier_llm'
```

**ëª©í‘œ**: ì§ˆë¬¸ ìœ í˜•ë³„ ë¶„í¬ íŒŒì•… ë° ëŒ€í‘œ ì‚¬ë¡€ ì„ ì •

#### 1.3 ëª…ë£Œí™” ëŒ€í™” ì¶”ì¶œ
```sql
-- ëª…ë£Œí™” ê³¼ì •ì´ í¬í•¨ëœ ì„¸ì…˜ ì¶”ì¶œ
SELECT 
  session_id,
  COUNT(*) as turn_count,
  jsonb_agg(jsonb_build_object(
    'timestamp', timestamp,
    'agent', agent_name,
    'content', response_content
  ) ORDER BY timestamp) as conversation_flow
FROM llm_prompt_logs lp
JOIN llm_response_logs lr ON lp.id = lr.prompt_id
WHERE session_id IN (
  SELECT DISTINCT session_id 
  FROM llm_prompt_logs 
  WHERE agent_name LIKE '%clarification%'
)
GROUP BY session_id
```

**ëª©í‘œ**: ëª…ë£Œí™”ê°€ ì‹¤ì œë¡œ ì‘ë™í•œ ì‚¬ë¡€ 10~15ê±´ í™•ë³´

---

### Phase 2: ì§ˆì  ì½”ë”© ë° ë¶„ì„ (3~4ì¼)

#### 2.1 Bloomì˜ êµìœ¡ ëª©í‘œ ë¶„ë¥˜ ì²´ê³„ ë§¤í•‘

**ë¶„ì„ ëŒ€ìƒ**: answer_generator_llmì˜ ë‹µë³€ 237ê±´

| Bloom ë‹¨ê³„ | íƒìƒ‰í•  íŠ¹ì§• | ì˜ˆìƒ í‚¤ì›Œë“œ |
|-----------|-----------|----------|
| ê¸°ì–µ(Remember) | ì‚¬ì‹¤ ì „ë‹¬ | "ì •ì˜ëŠ”", "ê³µì‹ì€", "~ë¼ê³  í•©ë‹ˆë‹¤" |
| ì´í•´(Understand) | ê°œë… ì„¤ëª… | "ë‹¤ì‹œ ë§í•˜ë©´", "ì´í•´í•˜ê¸° ì‰½ê²Œ" |
| ì ìš©(Apply) | ì ˆì°¨ ì•ˆë‚´ | "ë‹¨ê³„ë³„ë¡œ", "ë¨¼ì €~ë‹¤ìŒìœ¼ë¡œ" |
| ë¶„ì„(Analyze) | ë¹„êµ/ëŒ€ì¡° | "ì°¨ì´ì ì€", "ê´€ê³„ë¥¼ ë³´ë©´" |
| í‰ê°€(Evaluate) | íŒë‹¨ ìœ ë„ | "ì˜¬ë°”ë¥¸ì§€", "ì–´ë–¤ ë°©ë²•ì´ ë”" |
| ì°½ì¡°(Create) | ë¬¸ì œ í•´ê²° | "ìŠ¤ìŠ¤ë¡œ", "ë‹¤ë¥¸ ë°©ë²•ìœ¼ë¡œ" |

**ë¶„ì„ ë°©ë²•**:
1. ê° ë‹µë³€ì„ Bloom ë‹¨ê³„ë³„ë¡œ ì½”ë”©
2. K1~K4 ì§ˆë¬¸ ìœ í˜•ê³¼ Bloom ë‹¨ê³„ì˜ ê´€ê³„ ë¶„ì„
3. ëŒ€í‘œ ì‚¬ë¡€ 10~15ê±´ ì„ ì •

#### 2.2 Deweyì˜ ë°˜ì„±ì  ì‚¬ê³  íŒ¨í„´ ë¶„ì„

**ë¶„ì„ ëŒ€ìƒ**: classifier_llmì˜ ëª…ë£Œí™” ì§ˆë¬¸ 278ê±´

| Dewey ë‹¨ê³„ | íƒìƒ‰í•  íŠ¹ì§• | DB í•„ë“œ |
|-----------|-----------|---------|
| ë¬¸ì œ ì¸ì‹ | "ì–´ë–¤ ë¶€ë¶„ì´ ì–´ë ¤ìš´ê°€ìš”?" | clarification_questions |
| ë¬¸ì œ ì •ì˜ | "ë¬´ì—‡ì„ ì•Œê³  ì‹¶ìœ¼ì‹ ê°€ìš”?" | clarification_reasoning |
| ê°€ì„¤ í˜•ì„± | í•™ìƒì˜ ì‘ë‹µ ìœ ë„ | student_response |
| ì¶”ë¡  ì „ê°œ | AIì˜ í›„ì† ì§ˆë¬¸ | follow-up prompts |
| ê²€ì¦ | ìµœì¢… ë‹µë³€ì˜ ì—°ê²°ì„± | answer_generator ì—°ê³„ |

**ë¶„ì„ ë°©ë²•**:
1. ëª…ë£Œí™” ì§ˆë¬¸ì„ Dewey 5ë‹¨ê³„ë¡œ ë¶„ë¥˜
2. ì„±ê³µì ì¸ ëª…ë£Œí™” ì‚¬ë¡€ vs ë¶ˆì¶©ë¶„í•œ ì‚¬ë¡€ ë¹„êµ
3. ëŒ€í‘œ ì‚¬ë¡€ 5~8ê±´ ì„ ì •

#### 2.3 ì£¼ì œë³„ íŒ¨í„´ ë¶„ì„

**ëª©í‘œ**: ìˆ˜í•™ ë‹¨ì›ë³„ í•™ìŠµ ìƒí˜¸ì‘ìš© íŠ¹ì„± íŒŒì•…

```python
# ë¶„ì„ ì½”ë“œ (ì˜ˆì‹œ)
themes = {
    "ìˆ˜í•™ì  ê·€ë‚©ë²•": [],
    "ì‚¼ê°í•¨ìˆ˜": [],
    "ë¯¸ì ë¶„": [],
    "í™•ë¥ ê³¼ í†µê³„": [],
    "ê¸°íƒ€": []
}

# session_summaries í…Œì´ë¸”ì˜ key_concepts í™œìš©
for session in sessions:
    concepts = session['key_concepts']
    # ... ì£¼ì œë³„ ë¶„ë¥˜ ë¡œì§
```

---

### Phase 3: ë…¼ë¬¸ ì‚½ì…ìš© ì‚¬ë¡€ ì„ ì • (2ì¼)

#### 3.1 ì„ ì • ê¸°ì¤€

**A. ì„±ê³µ ì‚¬ë¡€ (10ê±´)**
- âœ… í•™ìƒì˜ ë¶ˆì™„ì „í•œ ì§ˆë¬¸ â†’ ëª…ë£Œí™” â†’ ë§ì¶¤í˜• ë‹µë³€
- âœ… K3/K4 ìœ í˜•ì—ì„œ ë‹¨ê³„ë³„ ì•ˆë‚´ ì œê³µ
- âœ… Bloom ê³ ì°¨ì› ë‹¨ê³„(ë¶„ì„/í‰ê°€/ì°½ì¡°) ë„ë‹¬
- âœ… í•™ìƒì˜ ë©”íƒ€ì¸ì§€ ì´‰ì§„ ("ì™œ ê·¸ëŸ°ê°€ìš”?" ìœ ë„)

**B. ì œí•œì  ì„±ê³µ ì‚¬ë¡€ (5ê±´)**
- âš ï¸ ë‹µë³€ì€ ì •í™•í•˜ë‚˜ êµìœ¡ì  ê¹Šì´ ë¶€ì¡±
- âš ï¸ ëª…ë£Œí™” í•„ìš”í–ˆìœ¼ë‚˜ ìƒëµëœ ê²½ìš°
- âš ï¸ K1 ì¦‰ë‹µí˜•ì— ë¨¸ë¬´ë¥¸ ê²½ìš°

**C. ê°œì„  í•„ìš” ì‚¬ë¡€ (3~5ê±´)**
- âŒ ì§ˆë¬¸ ì˜ë„ ì˜¤í•´
- âŒ ì§€ë‚˜ì¹˜ê²Œ ë³µì¡í•œ ì„¤ëª…
- âŒ í•™ìƒ ìˆ˜ì¤€ ë¯¸ìŠ¤ë§¤ì¹˜

#### 3.2 ì‚¬ë¡€ ì œì‹œ í˜•ì‹

```markdown
### [ì‚¬ë¡€ A-1] ìˆ˜í•™ì  ê·€ë‚©ë²• ì¦ëª… ê³¼ì • ì•ˆë‚´ (ì„±ê³µ)

**í•™ìƒ ì§ˆë¬¸**:
> "í•˜ë…¸ì´ íƒ‘ ì í™”ì‹ $a_{n+1} = 2a_n + 1$ì„ ê·€ë‚©ë²•ìœ¼ë¡œ ì¦ëª…í•˜ëŠ”ë° ë§‰í˜”ì–´ìš”"

**ì§ˆë¬¸ ë¶„ë¥˜** (classifier_llm):
- ìœ í˜•: K3 (ì ˆì°¨ì  ì§€ì‹)
- í’ˆì§ˆ: answerable
- ì¶”ë¡ : "í•™ìƒì´ ê·€ë‚© ë‹¨ê³„ì—ì„œ ë§‰íŒ ì§€ì ì„ ëª…í™•íˆ ì œì‹œ"

**AI ë‹µë³€ íŠ¹ì§•**:
- Bloom ë‹¨ê³„: ì ìš©(Apply) â†’ ë¶„ì„(Analyze)
- êµìœ¡ ì „ëµ: 
  - âœ… í•™ìƒì´ ë©ˆì¶˜ ì§€ì ë¶€í„° ì¬ê°œ
  - âœ… ë‹¨ê³„ë³„ ê³„ì‚° ê³¼ì • ëª…ì‹œ
  - âœ… ìˆ˜ì‹ ì „ê°œì˜ ì´ìœ  ì„¤ëª…
  - âœ… ìµœì¢… ê²€ì¦ ìœ ë„

**Dewey ë°˜ì„±ì  ì‚¬ê³  ì—°ê³„**:
- ê°€ì • ëª…ì‹œ â†’ ì¶”ë¡  ì „ê°œ â†’ ê²°ê³¼ ê²€ì¦ì˜ íë¦„ êµ¬í˜„

**êµìœ¡ì  ì˜ì˜**:
- í•™ìƒì˜ ë¶€ë¶„ì  ì´í•´ë¥¼ ì¸ì •í•˜ê³ , ë§‰íŒ ì§€ì ë¶€í„° ì •í™•íˆ ì•ˆë‚´
- ë‹¨ìˆœ ë‹µ ì œê³µì´ ì•„ë‹Œ "ì™œ ê·¸ë ‡ê²Œ ë˜ëŠ”ì§€" ì´í•´ ì´‰ì§„
```

---

### Phase 4: ë…¼ë¬¸ ì‘ì„± í†µí•© (2~3ì¼)

#### 4.1 ë…¼ë¬¸ V-3ì¥(ì§ˆì  ë¶„ì„) êµ¬ì„±ì•ˆ

**í˜„ì¬**: ì•½ 4í˜ì´ì§€ â†’ **ëª©í‘œ**: 15~20í˜ì´ì§€

```markdown
## V-3. í”¼ë“œë°± ë‚´ìš©ì˜ ì§ˆì  ë¶„ì„

### V-3-1. ë¶„ì„ ë°©ë²•ë¡ 
- ë°ì´í„° ì¶œì²˜: ì‹¤ì œ ì‹œìŠ¤í…œ ë¡œê·¸ (229 ì„¸ì…˜, 1,589ê±´)
- ë¶„ì„ ë„êµ¬: Bloom êµìœ¡ ëª©í‘œ ë¶„ë¥˜ + Dewey ë°˜ì„±ì  ì‚¬ê³  ì²´ê³„
- ì½”ë”© ì ˆì°¨: ì£¼ì œ ë¶„ì„(Thematic Analysis) ë°©ë²•ë¡ 

### V-3-2. Bloom êµìœ¡ ëª©í‘œ ë‹¨ê³„ë³„ ë¶„ì„ (6~8í˜ì´ì§€)
- V-3-2-1. ì§ˆë¬¸ ìœ í˜•(K1~K4)ê³¼ Bloom ë‹¨ê³„ì˜ ê´€ê³„
- V-3-2-2. ê° Bloom ë‹¨ê³„ë³„ ëŒ€í‘œ ì‚¬ë¡€ (10ê±´)
  - ê¸°ì–µ/ì´í•´ ë‹¨ê³„ ì‚¬ë¡€ 2ê±´
  - ì ìš© ë‹¨ê³„ ì‚¬ë¡€ 3ê±´
  - ë¶„ì„/í‰ê°€ ë‹¨ê³„ ì‚¬ë¡€ 3ê±´
  - ì°½ì¡° ë‹¨ê³„ ì‚¬ë¡€ 2ê±´
- V-3-2-3. êµìœ¡ì  í•¨ì˜

### V-3-3. Dewey ë°˜ì„±ì  ì‚¬ê³  ì´‰ì§„ ë¶„ì„ (4~5í˜ì´ì§€)
- V-3-3-1. ëª…ë£Œí™” ëŒ€í™”ì˜ ì‹¤ì œ íš¨ê³¼
- V-3-3-2. ë°˜ì„±ì  ì‚¬ê³  5ë‹¨ê³„ ì‚¬ë¡€ (5~8ê±´)
- V-3-3-3. í•™ìƒ ë©”íƒ€ì¸ì§€ ë°œë‹¬ ì¦ê±°

### V-3-4. ì£¼ì œë³„ ìƒí˜¸ì‘ìš© íŒ¨í„´ (3~4í˜ì´ì§€)
- V-3-4-1. ìˆ˜í•™ ë‹¨ì›ë³„ íŠ¹ì„±
- V-3-4-2. í•™ìŠµ ì„¸ì…˜ íë¦„ ë¶„ì„
- V-3-4-3. ì„±ê³µ/ì‹¤íŒ¨ ì‚¬ë¡€ ë¹„êµ

### V-3-5. ì œí•œì  ë° ê°œì„  ë°©í–¥ (2í˜ì´ì§€)
- ì‹œìŠ¤í…œì˜ í•œê³„ ì‚¬ë¡€
- í–¥í›„ ê°œì„  ë°©í–¥
```

#### 4.2 ê¸°ì¡´ VII-3ì¥(êµì‚¬ í‰ê°€) ì—°ê³„

**ê¸°ì¡´ ê°•ì  ìœ ì§€**:
- LLM-êµì‚¬ ìƒê´€ê´€ê³„ (r=0.743)
- ë£¨ë¸Œë¦­ í•­ëª©ë³„ ì¼ì¹˜ë„

**DB ë°ì´í„°ë¡œ ë³´ê°•**:
- êµì‚¬ í‰ê°€ê°€ ë†’ì•˜ë˜ ì‚¬ë¡€ì˜ ì‹¤ì œ ëŒ€í™” ë‚´ìš© ì œì‹œ
- ë¶ˆì¼ì¹˜ ì‚¬ë¡€(ì˜ˆ: C2 í•­ëª© r=0.416)ì˜ êµ¬ì²´ì  ì›ì¸ ë¶„ì„
  - ì˜ˆ: "êµì‚¬ëŠ” ë©”íƒ€ì¸ì§€ ì´‰ì§„ì„ ë†’ê²Œ í‰ê°€í–ˆìœ¼ë‚˜, LLMì€ ëª…ì‹œì  í‚¤ì›Œë“œ ë¶€ì¡±ìœ¼ë¡œ ë‚®ê²Œ í‰ê°€"
  - ì‹¤ì œ ëŒ€í™” ë¡œê·¸ë¡œ ì…ì¦

---

## ğŸ“ˆ ì˜ˆìƒ ì„±ê³¼

### 1. ë…¼ë¬¸ì˜ í•™ìˆ ì  ê¸°ì—¬ ê°•í™”

**ë°©ë²•ë¡ ì  ê¸°ì—¬**:
- âœ… ì§ˆì  + ì–‘ì  í˜¼í•© ì—°êµ¬ ì„¤ê³„
- âœ… ì‹¤ì œ ë¡œê·¸ ë°ì´í„° ê¸°ë°˜ì˜ ìƒíƒœí•™ì  íƒ€ë‹¹ë„ í™•ë³´
- âœ… Bloom/Dewey ì´ë¡ ê³¼ ì‹¤ì œ AI êµ¬í˜„ì˜ ì—°ê²°

**ì‹¤ì¦ì  ê¸°ì—¬**:
- âœ… 1,589ê±´ì˜ ì‹¤ì œ ì‚¬ìš© ë°ì´í„°ë¡œ ì£¼ì¥ ë’·ë°›ì¹¨
- âœ… ì„±ê³µ/ì‹¤íŒ¨ ì‚¬ë¡€ë¥¼ í†µí•œ ê· í˜•ì¡íŒ í‰ê°€
- âœ… ì¬í˜„ ê°€ëŠ¥í•œ ë¶„ì„ ë°©ë²• ì œì‹œ

### 2. ë…¼ë¬¸ ë¶„ëŸ‰ ë° ê¹Šì´

| ì„¹ì…˜ | í˜„ì¬ | ëª©í‘œ | ì¦ê°€ëŸ‰ |
|-----|------|------|--------|
| V-3ì¥ | 4í˜ì´ì§€ | 15~20í˜ì´ì§€ | +11~16í˜ì´ì§€ |
| VII-3ì¥ | ê¸°ì¡´ ìœ ì§€ | +2~3í˜ì´ì§€(ë³´ê°•) | +2~3í˜ì´ì§€ |
| VIIIì¥(ë…¼ì˜) | ê¸°ì¡´ | +3~4í˜ì´ì§€(ì‹¬í™”) | +3~4í˜ì´ì§€ |
| **ì „ì²´** | - | **+16~23í˜ì´ì§€** | - |

### 3. ì‹¬ì‚¬ìœ„ì› ì„¤ë“ë ¥

**ì˜ˆìƒ ì§ˆë¬¸ì— ëŒ€í•œ ë‹µë³€ ì¤€ë¹„**:

Q1: "ì‹¤ì œë¡œ í•™ìƒë“¤ì´ ì–´ë–»ê²Œ ì‚¬ìš©í–ˆëŠ”ê°€?"
â†’ **A1**: "229ê°œ ì„¸ì…˜ì˜ ì‹¤ì œ ëŒ€í™” ë¡œê·¸ ë¶„ì„ ê²°ê³¼..." (V-3-4ì¥)

Q2: "Bloom/Dewey ì´ë¡ ì´ ì‹¤ì œ êµ¬í˜„ë˜ì—ˆëŠ”ê°€?"
â†’ **A2**: "ë‹µë³€ 237ê±´ ì¤‘ 84%ê°€ Bloom ì ìš© ë‹¨ê³„ ì´ìƒ..." (V-3-2ì¥)

Q3: "êµì‚¬ í‰ê°€ì™€ AI í‰ê°€ì˜ ë¶ˆì¼ì¹˜ ì›ì¸ì€?"
â†’ **A3**: "ì‹¤ì œ ì‚¬ë¡€ ë¶„ì„ ê²°ê³¼, C2 í•­ëª©ì€ ë©”íƒ€ì¸ì§€ ì´‰ì§„ ê´€ë ¨..." (VII-3ì¥ ë³´ê°•)

---

## ğŸ›  ì‹¤í–‰ ë„êµ¬ ë° ì½”ë“œ

### ë°ì´í„° ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸

```python
# extract_educational_interactions.py

import psycopg2
import json
import pandas as pd
from datetime import datetime

# DB ì—°ê²°
conn = psycopg2.connect(
    host="192.168.1.110",
    database="maice_agent",
    user="postgres",
    password="postgres"
)

# 1. í•™ìƒ ì§ˆë¬¸-AI ë‹µë³€ ìŒ ì¶”ì¶œ
def extract_qa_pairs():
    query = """
    SELECT 
      lp.id as prompt_id,
      lp.session_id,
      lp.timestamp,
      lp.user_id,
      lp.input_prompt::json->'user' as student_question,
      lr.response_content as ai_answer,
      lp.input_tokens,
      lp.output_tokens
    FROM llm_prompt_logs lp
    JOIN llm_response_logs lr ON lp.id = lr.prompt_id
    WHERE lp.agent_name = 'answer_generator_llm'
      AND lp.success = true
    ORDER BY lp.session_id, lp.timestamp
    """
    return pd.read_sql(query, conn)

# 2. ì§ˆë¬¸ ë¶„ë¥˜ ì •ë³´ ì¶”ì¶œ
def extract_classifications():
    query = """
    SELECT 
      lp.session_id,
      lp.input_prompt::json->'user' as question,
      lr.response_content::json->>'knowledge_code' as question_type,
      lr.response_content::json->>'quality' as quality,
      lr.response_content::json->>'reasoning' as reasoning
    FROM llm_prompt_logs lp
    JOIN llm_response_logs lr ON lp.id = lr.prompt_id
    WHERE lp.agent_name = 'classifier_llm'
      AND lp.success = true
    """
    return pd.read_sql(query, conn)

# 3. ì„¸ì…˜ë³„ ì „ì²´ íë¦„ ì¶”ì¶œ
def extract_session_flow(session_id):
    query = """
    SELECT 
      lp.timestamp,
      lp.agent_name,
      lp.input_prompt,
      lr.response_content
    FROM llm_prompt_logs lp
    JOIN llm_response_logs lr ON lp.id = lr.prompt_id
    WHERE lp.session_id = %s
    ORDER BY lp.timestamp
    """
    return pd.read_sql(query, conn, params=(session_id,))

if __name__ == "__main__":
    # ë°ì´í„° ì¶”ì¶œ
    qa_pairs = extract_qa_pairs()
    classifications = extract_classifications()
    
    # CSVë¡œ ì €ì¥
    qa_pairs.to_csv('data/qa_pairs.csv', index=False, encoding='utf-8-sig')
    classifications.to_csv('data/classifications.csv', index=False, encoding='utf-8-sig')
    
    print(f"ì¶”ì¶œ ì™„ë£Œ: {len(qa_pairs)}ê±´ì˜ Q&A, {len(classifications)}ê±´ì˜ ë¶„ë¥˜")
```

### Bloom ë‹¨ê³„ ì½”ë”© ìŠ¤í¬ë¦½íŠ¸

```python
# bloom_coding.py

import pandas as pd
import re

# Bloom ë‹¨ê³„ë³„ í‚¤ì›Œë“œ ì •ì˜
BLOOM_KEYWORDS = {
    'Remember': ['ì •ì˜', 'ê³µì‹', '~ë€', '~ì…ë‹ˆë‹¤', '~ë¼ê³  í•©ë‹ˆë‹¤'],
    'Understand': ['ë‹¤ì‹œ ë§í•˜ë©´', 'ì´í•´í•˜ê¸° ì‰½ê²Œ', 'ì‰½ê²Œ ì„¤ëª…', 'ì˜ë¯¸ëŠ”'],
    'Apply': ['ë‹¨ê³„ë³„ë¡œ', 'ë¨¼ì €', 'ë‹¤ìŒìœ¼ë¡œ', 'ë°©ë²•ì€', '~í•˜ë©´ ë©ë‹ˆë‹¤'],
    'Analyze': ['ì°¨ì´ì ', 'ë¹„êµ', 'ê´€ê³„', 'ì™œëƒí•˜ë©´', 'ì›ì¸ì€'],
    'Evaluate': ['ì˜¬ë°”ë¥¸ì§€', 'ë” ë‚˜ì€', 'ì í•©í•œ', 'íŒë‹¨'],
    'Create': ['ìŠ¤ìŠ¤ë¡œ', 'ë‹¤ë¥¸ ë°©ë²•', 'ìƒˆë¡œìš´ ì ‘ê·¼', 'ì‘ìš©']
}

def detect_bloom_level(answer_text):
    """ë‹µë³€ í…ìŠ¤íŠ¸ì—ì„œ Bloom ë‹¨ê³„ íƒì§€"""
    scores = {level: 0 for level in BLOOM_KEYWORDS}
    
    for level, keywords in BLOOM_KEYWORDS.items():
        for keyword in keywords:
            if keyword in answer_text:
                scores[level] += 1
    
    # ê°€ì¥ ë†’ì€ ì ìˆ˜ì˜ ë‹¨ê³„ ë°˜í™˜ (ë™ì  ì‹œ ìƒìœ„ ë‹¨ê³„ ìš°ì„ )
    max_score = max(scores.values())
    if max_score == 0:
        return 'Understand'  # ê¸°ë³¸ê°’
    
    # ì—­ìˆœìœ¼ë¡œ ê²€ì‚¬ (ìƒìœ„ ë‹¨ê³„ ìš°ì„ )
    for level in reversed(list(BLOOM_KEYWORDS.keys())):
        if scores[level] == max_score:
            return level
    
    return 'Understand'

def analyze_bloom_distribution(qa_df):
    """Bloom ë‹¨ê³„ ë¶„í¬ ë¶„ì„"""
    qa_df['bloom_level'] = qa_df['ai_answer'].apply(detect_bloom_level)
    
    distribution = qa_df['bloom_level'].value_counts()
    print("=== Bloom ë‹¨ê³„ ë¶„í¬ ===")
    print(distribution)
    
    return qa_df

if __name__ == "__main__":
    # ë°ì´í„° ë¡œë“œ
    qa_df = pd.read_csv('data/qa_pairs.csv')
    
    # Bloom ë¶„ì„
    result = analyze_bloom_distribution(qa_df)
    
    # ê²°ê³¼ ì €ì¥
    result.to_csv('data/qa_with_bloom.csv', index=False, encoding='utf-8-sig')
```

---

## ğŸ“… ì‹¤í–‰ íƒ€ì„ë¼ì¸

### Week 1: ë°ì´í„° ì¶”ì¶œ ë° ì „ì²˜ë¦¬
- **Day 1**: DB ì¿¼ë¦¬ ì‹¤í–‰, CSV ì¶”ì¶œ
- **Day 2**: ë°ì´í„° ì •ì œ ë° ì„¸ì…˜ë³„ ì •ë¦¬

### Week 2: ì§ˆì  ì½”ë”©
- **Day 3-4**: Bloom ë‹¨ê³„ ì½”ë”© (237ê±´)
- **Day 5-6**: Dewey íŒ¨í„´ ë¶„ì„ (278ê±´)

### Week 3: ì‚¬ë¡€ ì„ ì • ë° ì‘ì„±
- **Day 7-8**: ëŒ€í‘œ ì‚¬ë¡€ 15~20ê±´ ì„ ì •
- **Day 9**: ì‚¬ë¡€ë³„ ë¶„ì„ ì‘ì„±

### Week 4: ë…¼ë¬¸ í†µí•©
- **Day 10-11**: V-3ì¥ ì‘ì„± (15~20í˜ì´ì§€)
- **Day 12**: VII-3ì¥, VIIIì¥ ë³´ê°•
- **Day 13**: ì „ì²´ ê²€í†  ë° ìˆ˜ì •

**ì´ ì†Œìš” ê¸°ê°„**: ì•½ 2.5~3ì£¼

---

## ğŸ’¡ í•µì‹¬ ë©”ì‹œì§€

### ì´ ë³´ê°• ê³„íšì˜ ê°€ì¹˜

1. **ì‹¤ì¦ì  ê·¼ê±° ê°•í™”**
   - ê¸°ì¡´: êµì‚¬ í‰ê°€ 100ê±´
   - ì¶”ê°€: ì‹¤ì œ ì‚¬ìš© ë¡œê·¸ 1,589ê±´

2. **ì´ë¡ -ì‹¤ì œ ì—°ê²°**
   - Bloom/Dewey ì´ë¡ ì´ ì‹¤ì œ AI ì‹œìŠ¤í…œì—ì„œ êµ¬í˜„ëœ ì¦ê±°

3. **ê¹Šì´ ìˆëŠ” ë¶„ì„**
   - ë‹¨ìˆœ í†µê³„ë¥¼ ë„˜ì–´ í•™ìŠµ ê³¼ì •ì˜ ì§ˆì  íŠ¹ì„± ê·œëª…

4. **ê· í˜•ì¡íŒ í‰ê°€**
   - ì„±ê³µ ì‚¬ë¡€ + ì œí•œì ì„ ëª¨ë‘ ì œì‹œí•˜ì—¬ í•™ìˆ ì  ì‹ ë¢°ì„± í™•ë³´

---

## âœ… ë‹¤ìŒ ì•¡ì…˜

1. [ ] ë°ì´í„° ì¶”ì¶œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ìŠ¹ì¸
2. [ ] ë¶„ì„ ë²”ìœ„ ìµœì¢… í™•ì • (ì „ì²´ 237ê±´ vs ìƒ˜í”Œë§)
3. [ ] ì½”ë”© ê¸°ì¤€ ì„¸ë¶€í™” (Bloom/Dewey ë¶„ë¥˜ ê·œì¹™)
4. [ ] ë…¼ë¬¸ ì§‘í•„ ì¼ì • í™•ì •

---

**ì‘ì„±ì**: AI Assistant  
**ê²€í†  í•„ìš”**: êµìˆ˜ë‹˜, ì—°êµ¬íŒ€

