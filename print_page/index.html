
<!doctype html>
<html lang="ko" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로">
      
      
        <meta name="author" content="김규봉 (부산대학교 AI융합교육전공, 202373389)">
      
      
      
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.22">
    
    
      
        <title>PDF로 출력 - 수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.84d31ad4.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Noto Sans KR";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../css/print-site.css">
    
      <link rel="stylesheet" href="../css/print-site-material.css">
    
      <link rel="stylesheet" href="../stylesheets/extra.css">
    
    <script>__md_scope=new URL("/",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function e(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],e("js",new Date),e("config","G-XXXXXXXXXX"),document.addEventListener("DOMContentLoaded",(function(){document.forms.search&&document.forms.search.query.addEventListener("blur",(function(){this.value&&e("event","search",{search_term:this.value})}));document$.subscribe((function(){var t=document.forms.feedback;if(void 0!==t)for(var a of t.querySelectorAll("[type=submit]"))a.addEventListener("click",(function(a){a.preventDefault();var n=document.location.pathname,d=this.getAttribute("data-md-value");e("event","feedback",{page:n,data:d}),t.firstElementChild.disabled=!0;var r=t.querySelector(".md-feedback__note [data-md-value='"+d+"']");r&&(r.hidden=!1)})),t.hidden=!1})),location$.subscribe((function(t){e("config","G-XXXXXXXXXX",{page_path:t.pathname})}))}));var t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX",document.getElementById("__analytics").insertAdjacentElement("afterEnd",t)}</script>
  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  
        <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            remove_material_navigation();remove_mkdocs_theme_navigation();generate_toc();
        })
        </script>
        </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#index" class="md-skip">
          콘텐츠로 이동
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="상단/헤더">
    <a href=".." title="수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로" class="md-header__button md-logo" aria-label="수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              PDF로 출력
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="다크 모드로 전환"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="다크 모드로 전환" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="라이트 모드로 전환"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="라이트 모드로 전환" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="검색" placeholder="검색" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="검색">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="공유" aria-label="공유" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="지우기" aria-label="지우기" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            검색 초기화
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/YOUR_USERNAME/maice-paper" title="저장소로 이동" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    MAICE-논문
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="탭" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  홈

      </a>
    </li>
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../chapters/01-introduction/" class="md-tabs__link">
          
  
  
  논문 내용

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../%EB%B6%80%EB%A1%9D_A_%EB%A3%A8%EB%B8%8C%EB%A6%AD_%EC%83%81%EC%84%B8%EC%84%A4%EB%AA%85%EC%84%9C/" class="md-tabs__link">
          
  
  
  부록

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../architecture/overview/" class="md-tabs__link">
          
  
  
  문서

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../MAICE_%EC%82%AC%ED%9B%84%EC%84%A4%EB%AC%B8%EC%A7%80/" class="md-tabs__link">
          
  
  
  설문 자료

        </a>
      </li>
    
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../feedback/" class="md-tabs__link">
        
  
  
    
  
  피드백

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  PDF로 출력

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="네비게이션" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로" class="md-nav__button md-logo" aria-label="수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/YOUR_USERNAME/maice-paper" title="저장소로 이동" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    MAICE-논문
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    홈
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    논문 내용
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            논문 내용
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/01-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    1장. 서론
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/02-theoretical-background/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2장. 이론적 배경
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/03-system-design/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3장. MAICE 교육 시스템 아키텍처
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/04-system-implementation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4장. MAICE 시스템 구현
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/05-mathematical-induction-application/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    5장. 수학적 귀납법 적용
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/06-research-methods/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    6장. 연구 방법
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/07-results/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    7장. 결과
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/08-discussion-conclusion/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    8장. 논의 및 결론
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapters/09-references/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    9장. 참고문헌
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    부록
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            부록
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EB%B6%80%EB%A1%9D_A_%EB%A3%A8%EB%B8%8C%EB%A6%AD_%EC%83%81%EC%84%B8%EC%84%A4%EB%AA%85%EC%84%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    루브릭 상세설명서
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EB%B6%80%EB%A1%9D_B_AI%EC%B1%84%EC%A0%90_%EA%B2%B0%EA%B3%BC_%EC%83%98%ED%94%8C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    AI채점 결과 샘플
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EB%B6%80%EB%A1%9D_C_%ED%86%B5%EA%B3%84%EB%B6%84%EC%84%9D_%EC%83%81%EC%84%B8%ED%91%9C/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    통계분석 상세표
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EB%B6%80%EB%A1%9D_D_%EC%97%B0%EA%B5%AC_%EC%8B%A0%EB%A2%B0%EC%84%B1_%EC%B2%B4%ED%81%AC%EB%A6%AC%EC%8A%A4%ED%8A%B8/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    연구 신뢰성 체크리스트
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    문서
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            문서
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    시스템 문서
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            시스템 문서
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    개요
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/agent-system/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agent 시스템
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/backend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    백엔드 아키텍처
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../architecture/frontend-architecture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    프론트엔드 아키텍처
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API 문서
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            API 문서
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/maice-api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    MAICE API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/authentication/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    인증
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    설문 자료
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            설문 자료
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../MAICE_%EC%82%AC%ED%9B%84%EC%84%A4%EB%AC%B8%EC%A7%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    사후 설문지
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%ED%95%99%EC%83%9D_%EC%84%A4%EB%AC%B8%EC%A1%B0%EC%82%AC%EC%A7%80/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    학생 설문조사지
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../%EC%84%A4%EB%AC%B8%EC%A7%80_%EA%B0%9C%EC%84%A0%EC%82%AC%ED%95%AD_%EC%9A%94%EC%95%BD/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    설문지 개선사항
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../feedback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    피드백
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    PDF로 출력
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    PDF로 출력
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="목차">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      목차
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#index" class="md-nav__link">
    <span class="md-ellipsis">
      1 홈
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-2" class="md-nav__link">
    <span class="md-ellipsis">
      2 논문 내용
    </span>
  </a>
  
    <nav class="md-nav" aria-label="2 논문 내용">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#chapters-01-introduction" class="md-nav__link">
    <span class="md-ellipsis">
      2.1 1장. 서론
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-02-theoretical-background" class="md-nav__link">
    <span class="md-ellipsis">
      2.2 2장. 이론적 배경
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-03-system-design" class="md-nav__link">
    <span class="md-ellipsis">
      2.3 3장. MAICE 교육 시스템 아키텍처
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-04-system-implementation" class="md-nav__link">
    <span class="md-ellipsis">
      2.4 4장. MAICE 시스템 구현
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-05-mathematical-induction-application" class="md-nav__link">
    <span class="md-ellipsis">
      2.5 5장. 수학적 귀납법 적용
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-06-research-methods" class="md-nav__link">
    <span class="md-ellipsis">
      2.6 6장. 연구 방법
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-07-results" class="md-nav__link">
    <span class="md-ellipsis">
      2.7 7장. 결과
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-08-discussion-conclusion" class="md-nav__link">
    <span class="md-ellipsis">
      2.8 8장. 논의 및 결론
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#chapters-09-references" class="md-nav__link">
    <span class="md-ellipsis">
      2.9 9장. 참고문헌
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-3" class="md-nav__link">
    <span class="md-ellipsis">
      3 부록
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3 부록">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c" class="md-nav__link">
    <span class="md-ellipsis">
      3.1 루브릭 상세설명서
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c" class="md-nav__link">
    <span class="md-ellipsis">
      3.2 AI채점 결과 샘플
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c" class="md-nav__link">
    <span class="md-ellipsis">
      3.3 통계분석 상세표
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8" class="md-nav__link">
    <span class="md-ellipsis">
      3.4 연구 신뢰성 체크리스트
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-4" class="md-nav__link">
    <span class="md-ellipsis">
      4 문서
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4 문서">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#section-4-1" class="md-nav__link">
    <span class="md-ellipsis">
      4.1 시스템 문서
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.1 시스템 문서">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#architecture-overview" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.1 개요
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture-agent-system" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.2 Agent 시스템
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture-backend-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.3 백엔드 아키텍처
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#architecture-frontend-architecture" class="md-nav__link">
    <span class="md-ellipsis">
      4.1.4 프론트엔드 아키텍처
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#section-4-2" class="md-nav__link">
    <span class="md-ellipsis">
      4.2 API 문서
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4.2 API 문서">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#api-maice-api" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.1 MAICE API
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#api-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      4.2.2 인증
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#section-5" class="md-nav__link">
    <span class="md-ellipsis">
      5 설문 자료
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5 설문 자료">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80" class="md-nav__link">
    <span class="md-ellipsis">
      5.1 사후 설문지
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80" class="md-nav__link">
    <span class="md-ellipsis">
      5.2 학생 설문조사지
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd" class="md-nav__link">
    <span class="md-ellipsis">
      5.3 설문지 개선사항
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#feedback" class="md-nav__link">
    <span class="md-ellipsis">
      6 피드백
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<div id="print-site-page" class="print-site-enumerate-headings print-site-enumerate-figures">
        <div id="print-site-banner">
            <!-- PDF 출력 배너 -->
<div style="background-color: #3f51b5; color: white; padding: 20px; text-align: center; page-break-after: avoid;">
    <h1 style="margin: 0; font-size: 28px;">수학 학습에서 질문 명료화를 지원하는 AI Agent 설계 및 개발</h1>
    <h2 style="margin: 10px 0; font-size: 18px; font-weight: normal;">고등학교 2학년 수학적 귀납법 단원 중심으로</h2>
    <p style="margin: 10px 0; font-size: 14px;">김규봉</p>
    <p style="margin: 5px 0; font-size: 12px;">부산대학교 AI융합교육전공 (학번: 202373389)</p>
    <p style="margin: 5px 0; font-size: 12px;">출력일: 2025년 10월</p>
</div>

        </div>
        
        <section class="print-page">
            <div id="print-page-toc" data-toc-depth="3">
                <nav role='navigation' class='print-page-toc-nav'>
                <h1 class='print-page-toc-title'>Table of Contents</h1>
                </nav>
            </div>
        </section>
        <section class="print-page" id="index" heading-number="1"><h1 id="index-ai-2">수학 학습에서 질문 명료화를 지원하는 AI에이전트 설계 및 개발: 고등학교 2학년 수학적 귀납법 단원 중심으로<a class="headerlink" href="#index-ai-2" title="Permanent link">&para;</a></h1>
<hr />
<div class="admonition info">
<p class="admonition-title">논문 정보</p>
<ul>
<li><strong>저자</strong>: 김규봉</li>
<li><strong>소속</strong>: 부산대학교 AI융합교육전공</li>
<li><strong>학번</strong>: 202373389</li>
<li><strong>키워드</strong>: AI Agent, 질문 명료화, 수학적 귀납법, Dewey 반성적 사고, 멀티 에이전트</li>
<li><strong>연구 대상</strong>: 고등학교 2학년 학생 59명</li>
<li><strong>마지막 업데이트</strong>: 2025년 10월 30일</li>
</ul>
</div>
<hr />
<h2 id="index-_1">📄 논문 초록<a class="headerlink" href="#index-_1" title="Permanent link">&para;</a></h2>
<p>본 연구는 고등학교 2학년 학생 59명을 대상으로 수학적 귀납법 학습에서 질문 명료화를 지원하는 AI agent 시스템 MAICE의 효과를 검증하였다. 기존 LLM의 즉시 답변 방식(Freepass)은 학생들의 모호한 질문을 그대로 수용하여 교육적 효과가 제한적이었다. 이에 본 연구는 Dewey의 반성적 사고 이론에 기반한 명료화 프로세스를 설계하고, 193개 세션 대화를 Gemini 2.5 Flash 모델로 자동 채점하여 분석하였다.</p>
<h3 id="index-_2">주요 연구 결과<a class="headerlink" href="#index-_2" title="Permanent link">&para;</a></h3>
<div class="admonition success">
<p class="admonition-title">핵심 발견</p>
<ol>
<li>
<p><strong>명료화 프로세스 효과성</strong><br />
   Agent는 83.3%의 세션에서 명료화 질문을 수행하였으며, 이 중 66.7%가 우수한 학습 지원으로 이어졌다.</p>
</li>
<li>
<p><strong>누적 학습 효과</strong><br />
   Agent 학생들은 1회차 3.88점에서 2회차 5.00점으로 +28.9% 급상승하는 누적 학습 효과를 보였다 (d=1.04, p=0.002).</p>
</li>
<li>
<p><strong>차별적 효과성</strong><br />
   Agent는 서술형 점수 하위권(+0.83점), 중하위권(+2.00점), 객관식 특화 학생(+0.93점)에게 차별적으로 효과적이었다.</p>
</li>
</ol>
</div>
<h3 id="index-_3">학술적 기여<a class="headerlink" href="#index-_3" title="Permanent link">&para;</a></h3>
<p>본 연구는 Dewey의 "문제의 명료화" 단계가 실제 학습 효과를 높이는 핵심 요소임을 실증적으로 입증하였으며, 명료화 능력이 메타인지 능력으로 내재화되는 과정을 규명하였다. 또한 문제 풀이 능력과 질문 구성 능력이 별개임을 밝혀, Agent가 특정 학습자군에게 차별적으로 효과적인 맞춤형 교육 도구임을 제시하였다.</p>
<hr />
<h2 id="index-_4">📚 논문 구성<a class="headerlink" href="#index-_4" title="Permanent link">&para;</a></h2>
<div class="grid cards">
<ul>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21.5c-1.35-.85-3.8-1.5-5.5-1.5-1.65 0-3.35.3-4.75 1.05-.1.05-.15.05-.25.05-.25 0-.5-.25-.5-.5V6c.6-.45 1.25-.75 2-1 1.11-.35 2.33-.5 3.5-.5 1.95 0 4.05.4 5.5 1.5 1.45-1.1 3.55-1.5 5.5-1.5 1.17 0 2.39.15 3.5.5.75.25 1.4.55 2 1v14.6c0 .25-.25.5-.5.5-.1 0-.15 0-.25-.05-1.4-.75-3.1-1.05-4.75-1.05-1.7 0-4.15.65-5.5 1.5M12 8v11.5c1.35-.85 3.8-1.5 5.5-1.5 1.2 0 2.4.15 3.5.5V7c-1.1-.35-2.3-.5-3.5-.5-1.7 0-4.15.65-5.5 1.5m1 3.5c1.11-.68 2.6-1 4.5-1 .91 0 1.76.09 2.5.28V9.23c-.87-.15-1.71-.23-2.5-.23q-2.655 0-4.5.84zm4.5.17c-1.71 0-3.21.26-4.5.79v1.69c1.11-.65 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24v-1.5c-.87-.16-1.71-.23-2.5-.23m2.5 2.9c-.87-.16-1.71-.24-2.5-.24-1.83 0-3.33.27-4.5.8v1.69c1.11-.66 2.6-.99 4.5-.99 1.04 0 1.88.08 2.5.24z"/></svg></span> <strong><a href="#chapters-01-introduction">1장. 서론</a></strong></p>
<hr />
<p>연구의 필요성, 목적, 연구 문제, 용어 정의</p>
<p>주요 내용: 학생 질문의 질적 문제, 프리패스 방식의 한계</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3 1 9l11 6 9-4.91V17h2V9M5 13.18v4L12 21l7-3.82v-4L12 17z"/></svg></span> <strong><a href="#chapters-02-theoretical-background">2장. 이론적 배경</a></strong></p>
<hr />
<p>질문 생성 이론, Dewey의 반성적 사고, 멀티 에이전트 시스템</p>
<p>주요 내용: 명료화의 교육학적 근거</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12 3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97s-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1s.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64z"/></svg></span> <strong><a href="#chapters-03-system-design">3장. MAICE 교육 시스템 아키텍처</a></strong></p>
<hr />
<p>설계 철학, 3계층 아키텍처, 5개 에이전트 역할과 협업</p>
<p>주요 내용: 명료화 중심 학습, Dewey/Bloom 이론 구현, A/B 테스트 설계</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M8 3a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2H3v2h1a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h2v-2H8v-5a2 2 0 0 0-2-2 2 2 0 0 0 2-2V5h2V3m6 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2 2 2 0 0 1-2-2V5h-2V3z"/></svg></span> <strong><a href="#chapters-04-system-implementation">4장. MAICE 시스템 구현</a></strong></p>
<hr />
<p>기술 스택, 프롬프트 엔지니어링, 통신 메커니즘, 배포 전략</p>
<p>주요 내용: Gemini API 연동, Redis Streams, Docker 배포</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M7 2h10a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2m0 2v4h10V4zm0 6v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2zm-8 4v2h2v-2zm4 0v2h2v-2zm4 0v2h2v-2z"/></svg></span> <strong><a href="#chapters-05-mathematical-induction-application">5장. 수학적 귀납법 적용</a></strong></p>
<hr />
<p>수학적 귀납법의 교육적 특성, 단원별 맞춤 설계</p>
<p>주요 내용: 명료화 프로세스 실제 적용 사례</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M6 22a3 3 0 0 1-3-3c0-.6.18-1.16.5-1.63L9 7.81V6a1 1 0 0 1-1-1V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v1a1 1 0 0 1-1 1v1.81l5.5 9.56c.32.47.5 1.03.5 1.63a3 3 0 0 1-3 3zm-1-3a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1c0-.21-.07-.41-.18-.57l-2.29-3.96L14 17l-5.07-5.07-3.75 6.5c-.11.16-.18.36-.18.57m8-9a1 1 0 0 0-1 1 1 1 0 0 0 1 1 1 1 0 0 0 1-1 1 1 0 0 0-1-1"/></svg></span> <strong><a href="#chapters-06-research-methods">6장. 연구 방법</a></strong></p>
<hr />
<p>연구 설계, 대상, 도구, 자료 수집 및 분석 방법</p>
<p>주요 내용: 59명 학생 실험 설계, 루브릭 개발</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m16 11.78 4.24-7.33 1.73 1-5.23 9.05-6.51-3.75L5.46 19H22v2H2V3h2v14.54L9.5 8z"/></svg></span> <strong><a href="#chapters-07-results">7장. 결과</a></strong></p>
<hr />
<p>실증 분석 결과, 통계 검정, 질문 품질 변화 분석</p>
<p>주요 내용: 누적 학습 효과, 차별적 효과성</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29zM5 5v2h14V5zm0 4v2h8V9zm0 4v2h10v-2z"/></svg></span> <strong><a href="#chapters-08-discussion-conclusion">8장. 논의 및 결론</a></strong></p>
<hr />
<p>연구 결과 해석, 시사점, 제한점, 후속 연구 제안</p>
<p>주요 내용: Dewey 이론 실증, 교육적 함의</p>
</li>
<li>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 22a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-6v7L9.5 7.5 7 9V2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2z"/></svg></span> <strong><a href="#chapters-09-references">9장. 참고문헌</a></strong></p>
<hr />
<p>인용 문헌 목록</p>
</li>
</ul>
</div>
<hr />
<h2 id="index-_5">🎯 주요 키워드<a class="headerlink" href="#index-_5" title="Permanent link">&para;</a></h2>
<div class="grid">
<p><code>AI Agent</code> · <code>질문 명료화</code> · <code>수학적 귀납법</code> · <code>Dewey 반성적 사고</code> · 
<code>멀티 에이전트 시스템</code> · <code>LLM</code> · <code>교육 AI</code> · <code>메타인지</code> · 
<code>질문 생성</code> · <code>누적 학습 효과</code> · <code>차별적 효과성</code> · <code>자동 채점</code></p>
</div>
<hr />
<h2 id="index-_6">📊 연구 데이터<a class="headerlink" href="#index-_6" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">연구 규모</p>
<ul>
<li><strong>실험 참여자</strong>: 고등학교 2학년 59명</li>
<li><strong>분석 세션</strong>: 193개 AI 대화 세션</li>
<li><strong>질문 데이터</strong>: 1,012건의 학생 질문</li>
<li><strong>교사 평가단</strong>: 중등 수학교사 4명</li>
<li><strong>자동 채점</strong>: Gemini 2.5 Flash 모델 활용</li>
</ul>
</div>
<hr />
<div class="admonition note">
<p class="admonition-title">재현성 및 데이터 접근</p>
<ul>
<li>분석 코드와 생성된 도표는 <code>analysis/</code> 및 <code>docs/assets/images/</code>에 포함되어 있습니다.</li>
<li>원자료와 전체 분석 코드는 요청 시 비식별화 형태로 제공하며, 개인정보/민감정보는 공개하지 않습니다.</li>
</ul>
</div>
<hr />
<h2 id="index-_7">🔍 논문 탐색 가이드<a class="headerlink" href="#index-_7" title="Permanent link">&para;</a></h2>
<h3 id="index-_8">빠른 시작<a class="headerlink" href="#index-_8" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>연구 배경이 궁금하다면</strong> → <a href="#chapters-01-introduction">1장. 서론</a>으로 시작</li>
<li><strong>시스템 구조가 궁금하다면</strong> → <a href="#chapters-03-system-design">3장. 시스템 설계</a>로 이동</li>
<li><strong>실험 결과가 궁금하다면</strong> → <a href="#chapters-06-results.md">6장. 결과</a>로 바로 가기</li>
<li><strong>교육적 의미가 궁금하다면</strong> → <a href="#chapters-07-discussion-conclusion.md">7장. 논의 및 결론</a> 확인</li>
</ul>
<h3 id="index-_9">심화 자료<a class="headerlink" href="#index-_9" title="Permanent link">&para;</a></h3>
<ul>
<li><a href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c">부록 A: 루브릭 상세설명서</a> - 평가 기준 상세</li>
<li><a href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c">부록 B: AI채점 결과 샘플</a> - 실제 채점 사례</li>
<li><a href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c">부록 C: 통계분석 상세표</a> - 통계 검정 결과</li>
<li><a href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8">부록 D: 연구 신뢰성 체크리스트</a> - 연구 품질 검증</li>
</ul>
<hr />
<h2 id="index-_10">💬 피드백 및 의견<a class="headerlink" href="#index-_10" title="Permanent link">&para;</a></h2>
<p>논문에 대한 의견이나 피드백이 있으시면 <a href="#feedback">피드백 페이지</a>를 이용해주세요.</p>
<p>각 페이지 하단의 댓글 섹션을 통해서도 의견을 남기실 수 있습니다.</p>
<hr />
<h2 id="index-_11">📞 연락처<a class="headerlink" href="#index-_11" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>저자</strong>: 김규봉</li>
<li><strong>소속</strong>: 부산대학교 AI융합교육전공</li>
<li><strong>학번</strong>: 202373389</li>
<li><strong>이메일</strong>: [이메일 주소를 입력하세요]</li>
<li><strong>GitHub</strong>: [GitHub 프로필 링크]</li>
</ul>
<hr />
<div class="admonition tip">
<p class="admonition-title">사이트 사용 팁</p>
<ul>
<li>좌측 사이드바에서 전체 목차를 확인할 수 있습니다</li>
<li>우측 상단 검색창으로 특정 내용을 빠르게 찾을 수 있습니다</li>
<li>다크 모드는 우측 상단의 <span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg></span> 아이콘으로 전환 가능합니다</li>
<li>각 페이지는 PDF로 출력할 수 있습니다</li>
</ul>
</div></section>
                    <section class='print-page md-section' id='section-2' heading-number='2'>
                        <h1>논문 내용<a class='headerlink' href='#section-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="chapters-01-introduction" heading-number="2.1"><nav class='md-tags'><span class='md-tag'>논문/서론</span><span class='md-tag'>논문/1장</span></nav><h1 id="1">1. 서론<a class="headerlink" href="#chapters-01-introduction-1" title="Permanent link">&para;</a></h1>
<h2 id="chapters-01-introduction-11">1.1 연구의 필요성<a class="headerlink" href="#chapters-01-introduction-11" title="Permanent link">&para;</a></h2>
<h3 id="chapters-01-introduction-111-ai">1.1.1 수학 교육에서 생성형 AI 활용의 확산과 한계<a class="headerlink" href="#chapters-01-introduction-111-ai" title="Permanent link">&para;</a></h3>
<p>대규모 언어 모델(Large Language Model, LLM)의 비약적 발전에 따라 ChatGPT, Claude 등 생성형 AI 도구가 교육 현장에 빠르게 도입되고 있다. 특히 수학 교육 영역에서는 학생들이 개념 이해, 문제 풀이, 추가 학습 등의 목적으로 LLM을 활용하는 빈도가 급증하고 있으며, 일부 교사들은 이를 보조 학습 도구로 활용하려는 시도를 하고 있다.</p>
<p>그러나 실제 교실 현장에서 LLM을 보조교사로 활용하려는 시도 과정에서, 교육적 효과성에 대한 근본적인 문제들이 지속적으로 관찰되었다. 현재 대부분의 LLM 기반 AI 도구는 학생의 질문에 즉각적으로 답변을 제공하는 **프리패스(FreePass) 방식**으로 작동한다. 이러한 방식은 신속한 정보 제공이라는 장점이 있으나, 학습자가 스스로 질문을 구조화하고 사고를 확장하는 과정을 지원하지 못하여 깊이 있는 학습을 저해할 가능성이 제기되고 있다.</p>
<h3 id="chapters-01-introduction-112">1.1.2 학생 질문의 질적 문제: 실증 분석<a class="headerlink" href="#chapters-01-introduction-112" title="Permanent link">&para;</a></h3>
<p>본 연구에서는 실제 고등학교 수학 수업 환경에서 학생들이 LLM에 입력한 질문 1,012건을 수집하고, 중등 수학교사 4명으로 구성된 전문가 패널을 통해 질문과 AI 답변의 질을 체계적으로 평가하였다. 평가는 질문의 수학적 전문성, 질문 구조화, 학습 맥락 적용을 포함한 3개 영역(각 5점 만점)과, AI 답변의 학습자 맞춤도, 설명의 체계성, 학습 내용 확장성을 포함한 3개 영역(각 5점 만점)으로 구성된 루브릭을 개발하여 실시하였다.</p>
<p>학생 질문을 유형별로 분석한 결과, 다음과 같은 문제 패턴이 확인되었다:</p>
<h4 id="chapters-01-introduction-1121">1.1.2.1 맥락 없는 개념 설명 요청<a class="headerlink" href="#chapters-01-introduction-1121" title="Permanent link">&para;</a></h4>
<p>학생들은 "지수의 확장을 알려줘", "미분이 뭐야?", "적분이 어려워"와 같이 학습자의 현재 수준, 선수 지식, 학습 목적 등의 맥락 정보가 결여된 질문을 빈번하게 제시하였다. 이러한 질문에서는 AI가 적절한 난이도와 설명 방식을 선택할 수 있는 근거가 부족하여, 학습자 맞춤형 답변 생성이 구조적으로 불가능하다.</p>
<p><strong>예시:</strong> "삼각함수 설명해줘" (학습자가 어떤 수준에서, 어떤 관점으로, 어떤 목적으로 설명이 필요한지에 대한 정보 부재)</p>
<h4 id="chapters-01-introduction-1122">1.1.2.2 모호하고 불명확한 질문<a class="headerlink" href="#chapters-01-introduction-1122" title="Permanent link">&para;</a></h4>
<p>"루트를 증명해줘", "이게 왜 맞는 거야?", "어떻게 푸는 거지?"와 같이 질문의 대상, 범위, 초점이 불명확한 질문이 다수 관찰되었다. 이러한 질문 구조에서는 AI가 학습자의 실제 어려움이나 구체적인 궁금증을 파악하기 어려워 적절한 답변을 생성할 수 없다.</p>
<p><strong>예시:</strong> "이 공식이 왜 이렇게 되는지 모르겠어" (어떤 공식을 지칭하는지, 공식의 어느 부분이 이해되지 않는지 불분명)</p>
<h4 id="chapters-01-introduction-1123-ai">1.1.2.3 AI 답변에 부적절한 질문<a class="headerlink" href="#chapters-01-introduction-1123-ai" title="Permanent link">&para;</a></h4>
<p>"파이의 1억 자리까지 알려달라", "세상에서 가장 큰 소수는?", "무한대 곱하기 무한대는?"와 같이 교육적 가치가 결여된 단순 정보 요구나 AI의 계산 능력을 시험하려는 의도의 질문이 확인되었다.</p>
<p><strong>예시:</strong> "AI가 정말 똑똑한지 테스트해볼게", "계산기보다 빠르게 계산해줘"</p>
<h4 id="chapters-01-introduction-1124">1.1.2.4 수학과 무관한 질문<a class="headerlink" href="#chapters-01-introduction-1124" title="Permanent link">&para;</a></h4>
<p>"오늘 날씨 어때?", "점심 뭐 먹을까?", "A와 B가 싸우면 누가 이겨?"와 같이 수학 학습 목적에서 완전히 이탈한 질문이 관찰되었다. 이는 학습 집중도를 저하시키고 AI의 교육적 역할 수행을 방해하는 요인으로 작용한다.</p>
<p><strong>예시:</strong> "수학 공부하기 싫어", "다른 과목은 어떻게 공부해?", "수학이 실생활에 왜 필요한가?"</p>
<h3 id="chapters-01-introduction-113-ai">1.1.3 AI 답변의 질적 문제: 교사 루브릭 평가 결과<a class="headerlink" href="#chapters-01-introduction-113-ai" title="Permanent link">&para;</a></h3>
<p>학생 질문에 대한 LLM의 답변을 동일한 교사 패널이 개발한 루브릭으로 평가한 결과, 심각한 교육적 한계가 확인되었다. 평가는 학습자 맞춤도(학습자 수준별 접근, 선수지식 연계성, 학습 난이도 조절), 설명의 체계성(개념 설명 위계화, 단계별 논리 전개, 핵심 요소 강조), 학습 내용 확장성(심화학습 방향 제시, 응용문제 연계성, 오개념 교정 전략) 영역으로 구성되었다.</p>
<p>특히 학습 맥락 적용 측면에서 학생 질문의 72.3%가 최저점(1점)을 받았으며, AI 답변의 학습 내용 확장성 측면에서 48.9%가 최저점을 기록하였다. 이는 현재 프리패스 방식의 LLM이 학습자의 맥락을 반영하지 못하고, 학습 과정을 확장하거나 심화하는 교육적 역할을 수행하지 못함을 의미한다.</p>
<p>구체적인 AI 답변의 문제점은 다음과 같다:</p>
<h4 id="chapters-01-introduction-1131">1.1.3.1 개념 오해 및 맥락 부재<a class="headerlink" href="#chapters-01-introduction-1131" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문:</strong> "지수의 확장에 대해 설명해줘"</p>
<p><strong>AI 답변:</strong> "지수의 확장에 대해 설명하자면, 이는 지수가 영역을 확장하고 더 많은 지역이나 새로운 시장으로 진출하는 과정을 의미합니다. 이러한 확장은 일반적으로 비즈니스의 성장 및 발전 전략의 일환으로 이루어지며..."</p>
<p><strong>문제점:</strong> 수학의 '지수(exponent)'와 비즈니스 용어인 '지점 확장'을 혼동하여, 학생이 요청한 수학 개념과 전혀 무관한 영역으로 답변을 제공하였다. 이는 질문에 학습 맥락 정보가 부족할 때 AI가 적절한 의미 해석에 실패함을 보여준다.</p>
<h4 id="chapters-01-introduction-1132">1.1.3.2 학습 수준 불일치<a class="headerlink" href="#chapters-01-introduction-1132" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문:</strong> "로지스틱 회귀가 뭐야?" (고등학교 1학년)</p>
<p><strong>AI 답변:</strong> "로지스틱 회귀(logistic regression)는 데이터 분석에서 많이 사용하는 기법 중 하나로, 주로 두 가지 범주 중 하나로 분류하는 데 사용됩니다... 고등학교 1학년 수준에서 이해할 수 있도록 조금 더 쉽게 설명하면..."</p>
<p><strong>문제점:</strong> AI는 "고등학교 1학년 수준"이라고 언급하였으나, 실제 설명 내용은 대학 수준의 통계학 개념(odds ratio, 최대우도추정 등)을 포함하고 있어 학습자의 실제 수준과 답변 내용 간 심각한 괴리가 발생하였다.</p>
<h4 id="chapters-01-introduction-1133">1.1.3.3 교육과정 용어 부적절성<a class="headerlink" href="#chapters-01-introduction-1133" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문:</strong> "수열이 뭐야?"</p>
<p><strong>AI 답변:</strong> "수열은 여러 수학적 개념 중 하나로... <strong>명시적 공식(Explicit Formula)</strong> <span class="arithmatex">\(a_n\)</span>을 <span class="arithmatex">\(n\)</span>에 대한 함수로 표현합니다..."</p>
<p><strong>문제점:</strong> 대한민국 수학 교육과정에서 표준 용어로 명시된 '일반항' 대신 '명시적 공식(Explicit Formula)'이라는 비표준 용어를 사용하여, 학생의 개념 형성과 교사-학생 간 의사소통에 혼란을 초래할 가능성이 높다.</p>
<h4 id="chapters-01-introduction-1134">1.1.3.4 과도한 정보 제시로 인한 인지 과부하<a class="headerlink" href="#chapters-01-introduction-1134" title="Permanent link">&para;</a></h4>
<p>학생이 요청하지 않은 관련 개념까지 한꺼번에 제시하는 문제가 공통적으로 관찰되었다. 예를 들어, "수열이 뭐야?"라는 질문에 대해 유한수열, 무한수열, 등차수열, 등비수열, 일반항, 점화식 등을 한 번에 설명함으로써, 학생이 각 개념을 단계별로 이해하고 소화할 수 있는 기회를 제공하지 못하였다.</p>
<p>이는 학습자의 현재 이해 수준과 필요성을 고려하지 않은 일방적 정보 전달 방식으로, 학습자의 인지적 부담을 가중시키고 비효율적인 학습 구조를 형성한다. 학습자의 반응이나 이해도에 따른 답변 조정 없이 모든 관련 정보를 동시에 제공하는 것은, 학생들이 한 번에 많은 새로운 지식을 처리하기 어렵다는 인지 심리학적 원리를 간과한 것이다.</p>
<h3 id="chapters-01-introduction-114">1.1.4 프리패스 방식의 구조적 한계<a class="headerlink" href="#chapters-01-introduction-114" title="Permanent link">&para;</a></h3>
<p>이러한 문제점들은 단순히 개별 사례의 오류가 아니라, 현재 LLM이 채택하고 있는 프리패스 방식의 구조적 한계에서 비롯된다. 프리패스 방식은 질문의 질이나 맥락과 무관하게 즉각적인 답변을 제공함으로써, 학습자가 스스로 질문을 명료화하고 구조화하는 과정을 경험할 기회를 제공하지 않는다. 이는 학생들의 LLM 활용 만족도를 저하시킬 뿐만 아니라, 실질적인 학습 효과를 얻지 못하는 결과를 초래한다.</p>
<p>특히 수학적 귀납법과 같이 논리적 사고의 구조화와 단계적 추론이 핵심인 단원에서는, 프리패스 방식의 즉시 답변이 학생의 사고 과정을 충분히 유도하지 못하고 피상적 이해에 머무르게 하는 한계가 있다. 수학적 귀납법은 "n=1일 때 성립함을 보이고, n=k일 때 성립한다고 가정하면 n=k+1일 때도 성립함을 보인다"는 명확한 논리 구조를 요구하는데, 단순한 결론 제시만으로는 학생의 개념 이해와 적용 능력을 효과적으로 향상시키기 어렵다.</p>
<p>따라서 기존 프리패스 방식의 한계를 극복하고, 질문 명료화 과정을 통해 학습자의 사고 과정을 깊이 있게 지원하며, 교사 루브릭 평가에서 확인된 문제점들을 개선할 수 있는 새로운 AI agent 시스템의 개발이 필요하다.</p>
<h2 id="chapters-01-introduction-12">1.2 연구 목적<a class="headerlink" href="#chapters-01-introduction-12" title="Permanent link">&para;</a></h2>
<p>본 연구는 고등학교 2학년 수학적 귀납법 단원을 중심으로, **일반적인 LLM 프리패스 방식보다 우수한 학습 효과를 제공하는 질문 명료화 기반 AI agent 시스템 MAICE(Mathematical AI Chatbot for Education)를 설계 및 개발**하는 데 목적이 있다. 구체적인 연구 목적은 다음과 같다:</p>
<ol>
<li>
<p><strong>명료화 기반 멀티 에이전트 시스템 개발</strong>: 교사 루브릭 평가에서 확인된 질문의 질적 문제를 개선하는 명료화 프로세스를 제공하는 멀티 에이전트 시스템 개발</p>
</li>
<li>
<p><strong>프리패스 대비 학습 효과성 검증</strong>: MAICE 시스템이 일반적인 LLM 프리패스 방식보다 수학 학습 효과(이해도, 문제해결 능력, 질문 품질)에서 우수함을 실증적으로 검증</p>
</li>
<li>
<p><strong>학습 경험 개선 증명</strong>: 명료화 프로세스를 통한 구조화된 학습 경험이 즉시 답변 방식보다 학습 만족도와 메타인지 향상에 기여함을 입증</p>
</li>
<li>
<p><strong>수학적 귀납법 단원 맞춤 설계</strong>: 수학적 귀납법의 학습 특성(논리 구조 이해, 단계별 증명)을 고려한 단원별 맞춤형 agent 설계</p>
</li>
</ol>
<h2 id="chapters-01-introduction-13">1.3 연구 문제<a class="headerlink" href="#chapters-01-introduction-13" title="Permanent link">&para;</a></h2>
<p>본 연구에서 다루고자 하는 핵심 연구 문제는 다음과 같다:</p>
<p><strong>RQ1</strong>: MAICE agent 시스템이 일반적인 LLM 프리패스 방식보다 수학적 귀납법 학습 효과(이해도, 문제해결 능력, 질문 품질 개선)에서 유의미하게 우수한가?</p>
<p><strong>RQ2</strong>: MAICE agent의 명료화 프로세스를 통한 학습 경험이 즉시 답변 방식보다 학생의 학습 만족도와 메타인지 향상에 기여하는가?</p>
<h2 id="chapters-01-introduction-14">1.4 용어의 정의<a class="headerlink" href="#chapters-01-introduction-14" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><strong>MAICE (Mathematical AI Chatbot for Education)</strong>: 프리패스 방식보다 우수한 학습 효과를 제공하는 질문 명료화 기반 AI agent 시스템</p>
</li>
<li>
<p><strong>프리패스(FreePass) 방식</strong>: 사용자 질문에 대해 질문의 질이나 맥락과 무관하게 즉시 답변을 제공하는 기존 LLM의 일반적인 응답 방식</p>
</li>
<li>
<p><strong>질문 명료화</strong>: 모호하거나 불완전한 질문을 구체적이고 명확한 질문으로 개선하는 과정으로, 학습자가 스스로 질문을 구조화하고 사고 과정을 명료화하도록 지원하는 교육적 개입</p>
</li>
<li>
<p><strong>멀티 에이전트 시스템</strong>: 질문 분류, 명료화 지원, 답변 생성, 학습 관찰 등 각기 다른 역할을 수행하는 여러 개의 독립적인 AI agent가 협업하여 학습 과정을 지원하는 시스템</p>
</li>
<li>
<p><strong>학습 효과</strong>: 수학적 이해도, 문제해결 능력, 질문 품질 개선, 메타인지 향상 등을 포함하는 학습 성과와 학습 경험의 종합적 측정</p>
</li>
</ul>
<hr />
<p><strong>이전</strong>: 없음 | <strong>다음</strong>: [[chapters/02-theoretical-background]]</p></section><section class="print-page" id="chapters-02-theoretical-background" heading-number="2.2"><nav class='md-tags'><span class='md-tag'>논문/이론적배경</span><span class='md-tag'>논문/2장</span></nav><h1 id="2">2. 이론적 배경<a class="headerlink" href="#chapters-02-theoretical-background-2" title="Permanent link">&para;</a></h1>
<h2 id="chapters-02-theoretical-background-21-k1k4">2.1 블룸의 지식 분류(K1–K4)<a class="headerlink" href="#chapters-02-theoretical-background-21-k1k4" title="Permanent link">&para;</a></h2>
<p>블룸의 개정 분류에서 지식 차원(Knowledge Dimension)은 다음 네 범주로 구성된다.<sup id="fnref:anderson2001"><a class="footnote-ref" href="#chapters-02-theoretical-background-fn:anderson2001">1</a></sup> <sup id="fnref:krathwohl2002"><a class="footnote-ref" href="#chapters-02-theoretical-background-fn:krathwohl2002">2</a></sup> 본 연구에서는 질문 명료화의 목표를 학습자의 지식 차원에 정렬하여, 질문 품질과 학습 효과를 동시에 개선한다. 본 연구의 agent 파이프라인은 먼저 K1–K4 기반 질문 분류를 수행하고, 이어 듀이 이론에 근거한 명료화 유도를 적용한다.</p>
<table>
<thead>
<tr>
<th>지식 차원</th>
<th>정의</th>
<th>수학적 귀납법 맥락의 예시 질문</th>
</tr>
</thead>
<tbody>
<tr>
<td>K1 사실적 지식</td>
<td>용어, 기본 사실, 기호·규칙의 기억</td>
<td>"귀납법의 기본 단계와 귀납 단계의 정의는 무엇인가요?"</td>
</tr>
<tr>
<td>K2 개념적 지식</td>
<td>관계, 분류, 원리·법칙의 이해</td>
<td>"귀납 가정이 증명 논리에서 맡는 역할을 설명해 주세요."</td>
</tr>
<tr>
<td>K3 절차적 지식</td>
<td>방법·알고리즘·기법의 적용 절차</td>
<td>"부등식 증명에서 k→k+1 전개는 어떤 순서로 진행하나요?"</td>
</tr>
<tr>
<td>K4 메타인지적 지식</td>
<td>자기 인지·전략 선택·오류 진단</td>
<td>"내 전개에서 누락한 가정은 무엇이며, 어떤 전략을 선택해야 하나요?"</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">명료화와의 정렬</p>
<ul>
<li>K1–K2: 용어 혼동, 개념적 오해를 명료화 질문으로 선제 교정</li>
<li>K3: 절차적 막힘을 단계화된 프롬프트로 유도(중간 점검 체크포인트)</li>
<li>K4: 스스로의 오류·전략을 메타인지적으로 진단하도록 반문 유도</li>
</ul>
</div>
<p>본 연구의 agent는 질문 분류 단계에서 학습자의 발화를 K1–K4 신호로 탐지하고, 각 차원에 정렬된 명료화 프롬프트를 제공하여(예: K1 용어 정리 → K2 관계 설명 → K3 절차 안내 → K4 자기 점검) 질문의 질적 향상과 문제 해결 과정을 지원한다.</p>
<h2 id="chapters-02-theoretical-background-22">2.2 듀이의 반성적 사고 이론<a class="headerlink" href="#chapters-02-theoretical-background-22" title="Permanent link">&para;</a></h2>
<p>듀이(1933)는 반성적 사고(reflective thinking)를 "문제를 해결하기 위해 하나의 믿음을 기초로 다른 믿음을 탐구하고 진실을 확인하는 능동적, 지속적, 신중한 사고의 행위"로 정의하였다. 듀이는 반성적 사고의 5단계를 제시했다:</p>
<ol>
<li><strong>문제 상황 인식</strong>: 불확실성이나 의문에 부딪히는 상황</li>
<li><strong>문제 정의</strong>: 불확실한 상황을 명확한 문제로 정의</li>
<li><strong>가설 설정</strong>: 가능한 해결 방안들을 도출</li>
<li><strong>가설 검증</strong>: 논리적 추론과 경험을 통한 검증</li>
<li><strong>결론 도출</strong>: 검증된 가설을 기반으로 결론 도출</li>
</ol>
<p>수학 학습에서 반성적 사고는 특히 중요하다. 학생들이 수학적 문제에 직면했을 때, 자신의 기존 지식과 새로운 문제 상황 사이의 간극을 인식하고, 이를 해결하기 위해 체계적으로 탐구하는 과정이 반성적 사고이다. 수학적 귀납법 학습에서는 학생이 자신이 가지고 있는 불확실성을 인식하고, 이를 명확한 질문으로 구체화하는 과정이 핵심이다.</p>
<p>본 연구에서는 듀이의 반성적 사고 이론을 MAICE의 명료화 질문 설계에 반영하여, 학생들이 단순히 정보를 요청하는 것을 넘어 자신의 사고 과정을 반성하고 구조화할 수 있도록 지원한다.</p>
<h2 id="chapters-02-theoretical-background-23">2.3 질문 생성 및 개선 이론<a class="headerlink" href="#chapters-02-theoretical-background-23" title="Permanent link">&para;</a></h2>
<p>질문 생성(question generation)은 학습자의 메타인지 및 비판적 사고를 유도하는 핵심적 활동으로, 학습자 주도적인 문제 해결과 이해 중심 수업을 가능하게 한다(홍경선·김동익, 2011). King(1994)은 학생 생성 질문이 단순 정보 습득을 넘어 깊이 있는 이해와 장기 기억에 긍정적 영향을 미친다고 보고했다.</p>
<p>효과적인 질문의 특징으로는 구조화(structuring), 조건의 완결성(completeness), 의도의 명시성(explicitness) 등이 포함된다. 특히 수학 학습에서 질문의 질은 학습 효과를 결정하는 중요한 요인이다. Graesser와 Person(1994)은 질문의 인지적 수준을 분류하고, 높은 수준의 질문이 더 깊은 학습을 유도한다는 것을 실증적으로 보였다.</p>
<p>그러나 대부분의 선행연구들은 질문 생성에만 초점을 맞추었으며, 질문의 질적 평가와 개선을 위한 체계적인 피드백 시스템에 대한 연구는 제한적이다.</p>
<h2 id="chapters-02-theoretical-background-24-ai">2.4 AI 기반 피드백 시스템<a class="headerlink" href="#chapters-02-theoretical-background-24-ai" title="Permanent link">&para;</a></h2>
<p>AI 기반 피드백 시스템은 학습자의 온라인 학습 참여도를 향상시키는 데 긍정적 효과를 보인다(한국교육개발원, 2023). 특히 실시간 피드백은 학습 몰입과 성취도 향상에 기여한다는 연구 결과가 다수 보고되었다.</p>
<p>최신 대규모 언어 모델(Large Language Models, LLM)을 활용한 교육 시스템들은 자연어 처리를 통해 학습자의 입력을 분석하고 적응적 피드백을 제공한다. 박정민과 손홍찬(2024)은 ChatGPT-4o를 활용한 수학 교육의 가능성을 탐색하였으며, AI가 교육적 맥락에서 효과적으로 활용될 수 있음을 제시했다.</p>
<p>그러나 기존 AI 도구들은 질문의 품질 개선보다는 답변 생성에 집중하고 있어, 학습 과정을 안내하는 교육적 기능이 부족하다는 한계가 있다.</p>
<h2 id="chapters-02-theoretical-background-25">2.5 멀티 에이전트 시스템<a class="headerlink" href="#chapters-02-theoretical-background-25" title="Permanent link">&para;</a></h2>
<p>멀티 에이전트 시스템(Multi-Agent System, MAS)은 여러 자율적 agent가 협력하여 복잡한 문제를 해결하는 분산 시스템이다. 교육 분야에서 멀티 에이전트 시스템은 학습자의 다양한 요구에 대응하는 개인화된 학습 환경을 구축하는 데 활용되고 있다.</p>
<p>Wooldridge와 Jennings(1995)는 agent의 주요 특성으로 자율성(autonomy), 사회성(social ability), 반응성(reactivity), 능동성(pro-activeness)을 제시했다. 교육용 멀티 에이전트 시스템은 이러한 특성을 활용하여 학습자 평가, 피드백 생성, 학습 경로 추천 등 다양한 역할을 분담한다.</p>
<p>본 연구에서 설계하는 MAICE 시스템은 질문 분류(QuestionClassifierAgent), 질문 개선(QuestionImprovementAgent), 답변 생성(AnswerGeneratorAgent), 관찰(ObserverAgent), 자유 대화(FreeTalkerAgent)의 5개 독립 agent로 구성되며, 각 agent는 듀이의 반성적 사고 단계를 지원하도록 설계된다.</p>
<h2 id="chapters-02-theoretical-background-26">2.6 수학적 귀납법 학습의 특성<a class="headerlink" href="#chapters-02-theoretical-background-26" title="Permanent link">&para;</a></h2>
<p>수학적 귀납법은 자연수에 관한 명제를 증명하는 방법으로, 다음 두 단계로 구성된다:
1. <strong>기본 단계(Base case)</strong>: n=1일 때 명제가 성립함을 보인다
2. <strong>귀납 단계(Inductive step)</strong>: n=k일 때 성립한다고 가정하면 n=k+1일 때도 성립함을 보인다</p>
<p>학생들은 수학적 귀납법 학습에서 다음과 같은 어려움을 겪는다:
- 귀납 가정의 의미와 역할에 대한 이해 부족
- 귀납 단계에서 귀납 가정을 어떻게 활용하는지 모름
- 기본 단계와 귀납 단계의 논리적 연결 이해 어려움
- 등식 증명과 부등식 증명의 전략 차이 혼란</p>
<p>이러한 특성으로 인해 학생들이 AI에게 질문할 때 자신의 이해 수준과 어려움을 정확히 표현하기 어렵다. 따라서 수학적 귀납법 단원에 특화된 명료화 전략이 필요하다.</p>
<div class="footnote">
<hr />
<ol>
<li id="chapters-02-theoretical-background-fn:anderson2001">
<p>Anderson, L. W., &amp; Krathwohl, D. R. (Eds.). (2001). A Taxonomy for Learning, Teaching, and Assessing: A Revision of Bloom's Taxonomy of Educational Objectives. New York, NY: Longman.&#160;<a class="footnote-backref" href="#chapters-02-theoretical-background-fnref:anderson2001" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="chapters-02-theoretical-background-fn:krathwohl2002">
<p>Krathwohl, D. R. (2002). A Revision of Bloom's Taxonomy: An Overview. Theory into Practice, 41(4), 212–218. https://doi.org/10.1207/s15430421tip4104_2&#160;<a class="footnote-backref" href="#chapters-02-theoretical-background-fnref:krathwohl2002" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div></section><section class="print-page" id="chapters-03-system-design" heading-number="2.3"><nav class='md-tags'><span class='md-tag'>논문/시스템설계</span><span class='md-tag'>논문/3장</span></nav><h1 id="3-maice">3. MAICE 교육 시스템 아키텍처<a class="headerlink" href="#chapters-03-system-design-3-maice" title="Permanent link">&para;</a></h1>
<h2 id="chapters-03-system-design-31">3.1 설계 철학: "명료화 중심 학습"<a class="headerlink" href="#chapters-03-system-design-31" title="Permanent link">&para;</a></h2>
<h3 id="chapters-03-system-design-311-freepass">3.1.1 문제 인식: Freepass 방식의 근본적 한계<a class="headerlink" href="#chapters-03-system-design-311-freepass" title="Permanent link">&para;</a></h3>
<p>1장에서 확인한 바와 같이, 일반적인 LLM의 Freepass 방식은 다음과 같은 교육적 한계를 보였다:</p>
<ul>
<li><strong>질문의 질적 문제</strong>: 학생 질문의 72.3%가 학습 맥락 정보 없이 제출됨</li>
<li><strong>맥락 오해</strong>: "지수의 확장"을 비즈니스 용어로 해석하는 등 의미 파악 실패</li>
<li><strong>수준 불일치</strong>: 고1 학생에게 대학 수준의 통계학 개념 설명</li>
<li><strong>인지 과부하</strong>: 학생이 요청하지 않은 모든 관련 개념을 한꺼번에 제시</li>
</ul>
<p>이러한 문제들은 단순히 AI 성능의 문제가 아니라, **질문의 질이 낮을 때 아무리 좋은 AI도 적절한 답변을 생성할 수 없다**는 구조적 한계에서 비롯된다.</p>
<h3 id="chapters-03-system-design-312">3.1.2 해결 아이디어: 교육 이론 기반 에이전트 시스템<a class="headerlink" href="#chapters-03-system-design-312" title="Permanent link">&para;</a></h3>
<p>본 연구는 2장에서 검토한 교육 이론을 실제 AI 시스템으로 구현하는 것을 목표로 한다:</p>
<p><strong>Bloom의 K1-K4 분류</strong> → <strong>질문 유형 자동 분류 및 맞춤형 답변 생성</strong>
- K1 (사실): 간결한 정의 중심 답변
- K2 (개념): 관계 설명 중심 답변
- K3 (절차): 단계별 안내 중심 답변
- K4 (메타인지): 소크라테스식 문답 중심 답변</p>
<p><strong>Dewey의 반성적 사고 5단계</strong> → <strong>명료화 프로세스 설계</strong>
- 1단계 (문제 인식): "무엇이 불확실한가요?"
- 2단계 (문제 정의): "정확히 무엇을 알고 싶은가요?"
- 3단계 (가설 설정): "어떤 방법을 시도해봤나요?"
- 4단계 (가설 검증): "논리적 연결을 어떻게 보나요?"
- 5단계 (결론 도출): "최종적으로 무엇을 얻고 싶나요?"</p>
<h3 id="chapters-03-system-design-313">3.1.3 핵심 아이디어: 질문 → 분류 → 명료화 → 답변 파이프라인<a class="headerlink" href="#chapters-03-system-design-313" title="Permanent link">&para;</a></h3>
<p>MAICE 시스템의 핵심은 **학생의 질문을 즉시 답변하지 않고, 먼저 질문의 품질을 진단하고 필요시 명료화 과정을 거치는 것**이다.</p>
<pre class="mermaid"><code>flowchart TD
    A[학생 질문] --&gt; B{질문 분류&lt;br/&gt;Classifier}
    B --&gt;|answerable| D[맞춤형 답변&lt;br/&gt;Answer Generator]
    B --&gt;|needs_clarify| C[명료화 과정&lt;br/&gt;Question Improvement]
    B --&gt;|unanswerable| E[정중한 안내]
    C --&gt; F[명료화 대화]
    F --&gt; G{충분한&lt;br/&gt;정보 확보?}
    G --&gt;|Yes| D
    G --&gt;|No| F
    D --&gt; H[학습 과정 관찰&lt;br/&gt;Observer]
    H --&gt; I[교사 대시보드]</code></pre>
<p>이러한 파이프라인은 단순히 정보를 전달하는 것이 아니라, **학생이 스스로 질문을 구조화하고 사고를 명료화하는 과정을 경험하도록 설계**되었다.</p>
<h3 id="chapters-03-system-design-314-llm">3.1.4 설계 대상: 일반 LLM보다 우수한 학습 효과<a class="headerlink" href="#chapters-03-system-design-314-llm" title="Permanent link">&para;</a></h3>
<p>MAICE 시스템은 다음 3가지 측면에서 일반 Freepass 방식보다 우수한 학습 효과를 제공하는 것을 목표로 한다:</p>
<ol>
<li><strong>질문 품질 개선</strong>: 명료화 과정을 통해 학생 질문의 질 향상</li>
<li><strong>답변 적합성 향상</strong>: 질문 유형 분류를 통한 맞춤형 답변 생성</li>
<li><strong>메타인지 능력 향상</strong>: Dewey 5단계 과정에서 자기 성찰 훈련</li>
</ol>
<p>이러한 목표를 달성하기 위해, MAICE는 ChatGPT, Claude 등 상용 AI 대화 서비스와 유사한 UX를 제공하되, 수학 학습에 특화된 3계층 구조로 설계되었다.</p>
<h2 id="chapters-03-system-design-32-3">3.2 전체 아키텍처 개요: 3계층 구조<a class="headerlink" href="#chapters-03-system-design-32-3" title="Permanent link">&para;</a></h2>
<p>MAICE 시스템은 학생이 사용하는 <strong>대화 인터페이스</strong>, 대화를 관리하고 데이터를 저장하는 <strong>관리 시스템</strong>, 그리고 지능적으로 질문을 처리하는 **에이전트 시스템**의 3계층으로 구성된다.</p>
<h3 id="chapters-03-system-design-321">3.2.1 계층별 역할<a class="headerlink" href="#chapters-03-system-design-321" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-1">계층 1: 대화 인터페이스 (학생이 보는 화면)<a class="headerlink" href="#chapters-03-system-design-1" title="Permanent link">&para;</a></h4>
<p><strong>역할</strong>: 학생이 수식을 쉽게 입력하고 AI 답변을 실시간으로 받을 수 있는 채팅 화면</p>
<p><strong>주요 기능</strong>:
- <strong>수식 입력 지원</strong>: 복잡한 수학 수식을 클릭 몇 번으로 입력 (예: <span class="arithmatex">\(\sum_{i=1}^{n}\)</span>, <span class="arithmatex">\(\frac{a}{b}\)</span>)
- <strong>실시간 답변</strong>: AI 답변이 타이핑하듯 실시간으로 표시
- <strong>간편한 로그인</strong>: 학교 계정으로 바로 시작
- <strong>모바일 지원</strong>: 핸드폰에서도 동일하게 사용 가능</p>
<p><strong>학생 경험</strong>: ChatGPT, Claude와 동일한 UX로 별도 학습 없이 즉시 사용 가능</p>
<h4 id="chapters-03-system-design-2">계층 2: 관리 시스템 (대화 저장 및 분석)<a class="headerlink" href="#chapters-03-system-design-2" title="Permanent link">&para;</a></h4>
<p><strong>역할</strong>: 모든 대화를 체계적으로 저장하고, 교사가 학생 학습 상황을 파악할 수 있도록 지원</p>
<p><strong>주요 기능</strong>:
- <strong>대화 기록 관리</strong>: 학생별 모든 대화 세션을 시간 순으로 저장
- <strong>학습 데이터 분석</strong>: 학생의 학습 진도, 어려움 영역 자동 추출
- <strong>교사 대시보드</strong>: 반 전체 학습 현황 및 개별 학생 상세 정보 제공
- <strong>권한 관리</strong>: 학생은 본인 데이터만, 교사는 전체 데이터 접근 가능</p>
<p><strong>교육적 가치</strong>: 교사가 30명 학생의 개별 학습 상황을 실시간 파악 가능</p>
<h4 id="chapters-03-system-design-3">계층 3: 에이전트 시스템 (지능적 질문 처리)<a class="headerlink" href="#chapters-03-system-design-3" title="Permanent link">&para;</a></h4>
<p><strong>역할</strong>: 학생 질문을 분석하고, 필요시 명료화하며, 맞춤형 답변을 생성하는 5개 AI 에이전트</p>
<p><strong>5개 에이전트</strong>:
1. <strong>Classifier</strong> (질문 분류): "이 질문은 어떤 유형인가?"
2. <strong>Question Improvement</strong> (명료화): "질문을 더 명확하게"
3. <strong>Answer Generator</strong> (답변 생성): "유형별 맞춤 답변"
4. <strong>Observer</strong> (학습 관찰): "학생이 무엇을 배우고 있는가?"
5. <strong>FreeTalker</strong> (대조군): "명료화 없이 즉시 답변"</p>
<p><strong>협업 방식</strong>: 각 에이전트는 독립적으로 작동하되, 필요한 정보를 서로 주고받으며 협업</p>
<h3 id="chapters-03-system-design-322">3.2.2 전체 시스템 구조도<a class="headerlink" href="#chapters-03-system-design-322" title="Permanent link">&para;</a></h3>
<pre class="mermaid"><code>flowchart TB
    subgraph Layer1["계층 1: 대화 인터페이스"]
        UI[학생이 보는 채팅 화면]
        MathInput[수식 입력 도구]
        Streaming[실시간 답변 표시]
    end

    subgraph Layer2["계층 2: 관리 시스템"]
        API[대화 관리 서버]
        DB[(대화 기록&lt;br/&gt;저장소)]
        Dashboard[교사&lt;br/&gt;대시보드]
    end

    subgraph Layer3["계층 3: 에이전트 시스템"]
        Classifier[Classifier&lt;br/&gt;질문 분류]
        QI[Question&lt;br/&gt;Improvement&lt;br/&gt;명료화]
        AG[Answer&lt;br/&gt;Generator&lt;br/&gt;답변 생성]
        Obs[Observer&lt;br/&gt;학습 관찰]
        FT[FreeTalker&lt;br/&gt;대조군]
    end

    UI --&gt;|질문 전송| API
    API --&gt;|질문 전달| Classifier
    Classifier --&gt;|명료화 필요| QI
    Classifier --&gt;|바로 답변| AG
    QI --&gt;|명료화 완료| AG
    AG --&gt;|답변 생성| API
    AG --&gt;|학습 데이터| Obs
    Obs --&gt;|요약 저장| DB
    API --&gt;|실시간 답변| Streaming
    DB --&gt;|학습 분석| Dashboard</code></pre>
<h3 id="chapters-03-system-design-323">3.2.3 질문 처리 흐름<a class="headerlink" href="#chapters-03-system-design-323" title="Permanent link">&para;</a></h3>
<p>학생이 질문을 입력하면 다음과 같은 과정을 거친다:</p>
<pre class="mermaid"><code>sequenceDiagram
    participant 학생
    participant 대화화면 as 대화 인터페이스
    participant 관리 as 관리 시스템
    participant 분류 as Classifier
    participant 명료화 as Question Improvement
    participant 답변 as Answer Generator

    학생-&gt;&gt;대화화면: "수열 알려줘" 입력
    대화화면-&gt;&gt;관리: 질문 전송
    관리-&gt;&gt;분류: 질문 분류 요청

    alt 질문이 모호함
        분류-&gt;&gt;명료화: 명료화 필요 판정
        명료화-&gt;&gt;관리: "어떤 부분이 궁금한가요?"
        관리-&gt;&gt;대화화면: 명료화 질문 표시
        대화화면-&gt;&gt;학생: 추가 질문 보여줌
        학생-&gt;&gt;대화화면: "수열 공식들" 입력
        대화화면-&gt;&gt;관리: 추가 응답 전송
        명료화-&gt;&gt;답변: 명료화 완료
    else 질문이 명확함
        분류-&gt;&gt;답변: 바로 답변 생성
    end

    답변-&gt;&gt;관리: 답변 전송 (실시간)
    관리-&gt;&gt;대화화면: 답변 스트리밍
    대화화면-&gt;&gt;학생: 답변 표시</code></pre>
<p><strong>핵심 특징</strong>:
- 학생은 명료화 과정을 자연스러운 대화로 경험
- 모든 대화는 자동으로 저장되어 학습 분석에 활용
- 교사는 별도 대시보드에서 학생 학습 현황 확인</p>
<blockquote>
<p><strong>기술 구현 상세</strong>: 각 계층의 구체적인 기술 스택과 구현 방법은 4장 "시스템 구현"에서 다룬다.</p>
</blockquote>
<h2 id="chapters-03-system-design-33-5">3.3 5개 에이전트의 역할과 협업<a class="headerlink" href="#chapters-03-system-design-33-5" title="Permanent link">&para;</a></h2>
<p>MAICE 시스템의 핵심은 5개의 독립적인 AI 에이전트가 협업하여 질문을 처리하는 것이다. 각 에이전트는 특정한 교육적 목적을 가지고 설계되었다.</p>
<h3 id="chapters-03-system-design-331-classifier-agent">3.3.1 Classifier Agent: "이 질문은 어떤 유형인가?"<a class="headerlink" href="#chapters-03-system-design-331-classifier-agent" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-_1">교육적 필요성<a class="headerlink" href="#chapters-03-system-design-_1" title="Permanent link">&para;</a></h4>
<p>1장에서 확인했듯이, 학생 질문의 72.3%가 학습 맥락 정보 없이 제출되었다. "지수의 확장을 알려줘"라는 질문이 수학의 '지수(exponent)'인지, 비즈니스 '지점 확장'인지 AI는 판단할 수 없었다.</p>
<p>더 심각한 문제는, **질문의 인지적 수준에 따라 답변 방식이 달라야 한다**는 것이다. "수학적 귀납법이 뭐에요?"(K1-사실)와 "귀납 단계에서 제가 뭘 잘못 이해한 건가요?"(K4-메타인지)는 완전히 다른 답변을 요구한다.</p>
<p><strong>해결 아이디어</strong>: Bloom의 K1-K4 분류를 자동화하여, 질문의 인지적 수준과 명료화 필요성을 사전에 판단한다.</p>
<h4 id="chapters-03-system-design-3_1">에이전트의 3가지 판단<a class="headerlink" href="#chapters-03-system-design-3_1" title="Permanent link">&para;</a></h4>
<p>Classifier는 학생 질문을 받아 다음 3가지 판단을 내린다:</p>
<p><strong>1) 질문 유형 분류 (Bloom의 K1-K4)</strong></p>
<table>
<thead>
<tr>
<th>유형</th>
<th>질문 예시</th>
<th>답변 전략</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>K1 (사실)</strong></td>
<td>"수학적 귀납법의 정의가 뭐에요?"</td>
<td>→ 간결한 정의 제공</td>
</tr>
<tr>
<td><strong>K2 (개념)</strong></td>
<td>"귀납 가정은 왜 필요한가요?"</td>
<td>→ 개념 간 관계 설명</td>
</tr>
<tr>
<td><strong>K3 (절차)</strong></td>
<td>"이 등식을 어떻게 증명하나요?"</td>
<td>→ 단계별 절차 안내</td>
</tr>
<tr>
<td><strong>K4 (메타인지)</strong></td>
<td>"제가 뭘 잘못 이해한 건가요?"</td>
<td>→ 소크라테스식 문답</td>
</tr>
</tbody>
</table>
<p><strong>교육적 효과</strong>: 같은 "수학적 귀납법" 주제라도, K1 질문에는 간결한 정의를, K4 질문에는 학생의 사고 과정을 드러내는 질문으로 응답한다.</p>
<p><strong>2) 명료화 필요성 판단 (3단계 게이팅)</strong></p>
<pre class="mermaid"><code>flowchart TD
    Q[학생 질문] --&gt; C{Classifier 분석}
    C --&gt;|answerable&lt;br/&gt;바로 답변 가능| A[Answer Generator로 전달]
    C --&gt;|needs_clarify&lt;br/&gt;명료화 필요| I[Question Improvement로 전달]
    C --&gt;|unanswerable&lt;br/&gt;답변 불가| U[정중한 안내 메시지]

    style A fill:#90EE90
    style I fill:#FFD700
    style U fill:#FFB6C1</code></pre>
<p><strong>판단 기준</strong>:
- <strong>answerable</strong>: 질문이 명확하고, 답변에 필요한 정보가 충분함
  - 예: "n=1일 때 기본 단계를 증명하는 방법을 알려주세요"
- <strong>needs_clarify</strong>: 질문이 모호하거나, 맥락 정보가 부족함
  - 예: "수열 알려줘" → 정의? 공식? 문제 풀이?
- <strong>unanswerable</strong>: 수학 외 영역이거나, 교육적으로 부적절함
  - 예: "로블록스", "오늘 날씨 어때?"</p>
<p><strong>3) 명료화 질문 제안 (needs_clarify인 경우)</strong></p>
<p>Classifier는 단순히 "명료화 필요"라고만 판정하지 않고, **Dewey의 5단계에 기반한 구체적인 명료화 질문까지 제안**한다.</p>
<p><strong>예시</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-03-system-design-__codelineno-0-1"></a>학생 질문: &quot;수열 알려줘&quot;
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#chapters-03-system-design-__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#chapters-03-system-design-__codelineno-0-3"></a>Classifier 판단:
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#chapters-03-system-design-__codelineno-0-4"></a>- 유형: K1 (사실)
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#chapters-03-system-design-__codelineno-0-5"></a>- 게이팅: needs_clarify (범위가 너무 넓음)
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#chapters-03-system-design-__codelineno-0-6"></a>- 제안 질문: &quot;수열에 대해 알고 싶구나! 😊
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#chapters-03-system-design-__codelineno-0-7"></a>              어떤 부분이 궁금한지 알려줄래?
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#chapters-03-system-design-__codelineno-0-8"></a>              1️⃣ 수열이 뭔지 (정의)
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#chapters-03-system-design-__codelineno-0-9"></a>              2️⃣ 수열 공식들
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#chapters-03-system-design-__codelineno-0-10"></a>              3️⃣ 수열 문제 푸는 방법&quot;
</span></code></pre></div></p>
<p>이 제안은 Question Improvement Agent로 전달되어, 실제 명료화 대화에 활용된다.</p>
<h4 id="chapters-03-system-design-_2">입력과 출력<a class="headerlink" href="#chapters-03-system-design-_2" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>flowchart LR
    Input["입력&lt;br/&gt;━━━━━&lt;br/&gt;• 학생 질문&lt;br/&gt;• 대화 맥락&lt;br/&gt;• 이전 세션 정보"] 
    --&gt; Classifier["Classifier Agent&lt;br/&gt;━━━━━━━&lt;br/&gt;1️⃣ K1-K4 분류&lt;br/&gt;2️⃣ 게이팅 판정&lt;br/&gt;3️⃣ 명료화 질문 제안"]
    Classifier --&gt; Output["출력&lt;br/&gt;━━━━━&lt;br/&gt;• 질문 유형 (K1-K4)&lt;br/&gt;• 게이팅 판정&lt;br/&gt;• 명료화 질문 (필요시)"]

    Output --&gt;|answerable| AG[Answer&lt;br/&gt;Generator]
    Output --&gt;|needs_clarify| QI[Question&lt;br/&gt;Improvement]
    Output --&gt;|unanswerable| MSG[안내&lt;br/&gt;메시지]

    style Classifier fill:#4A90E2,color:#FFF</code></pre>
<h4 id="chapters-03-system-design-_3">교육적 효과<a class="headerlink" href="#chapters-03-system-design-_3" title="Permanent link">&para;</a></h4>
<p>실험 결과, Classifier의 자동 분류는 다음과 같은 교육적 효과를 보였다:</p>
<ol>
<li><strong>질문 품질 향상</strong>: 명료화 과정을 거친 질문의 평균 점수 3.2점 → 4.7점</li>
<li><strong>답변 적합성 증가</strong>: K1-K4 유형별 맞춤 답변으로 학생 만족도 4.&#8536;점</li>
<li><strong>시간 효율성</strong>: answerable 질문(58%)은 명료화 생략으로 즉시 답변</li>
</ol>
<p><strong>실제 사례</strong>:
- 모호한 질문 "귀납법 어려워요" → needs_clarify 판정 → "어떤 부분이 어려운가요?" → "귀납 단계에서 식 전개" → K3 유형으로 단계별 안내
- 명확한 질문 "n=k+1 단계에서 귀납 가정을 어떻게 사용하나요?" → answerable 판정 → 즉시 K3 답변 생성</p>
<blockquote>
<p><strong>구현 상세</strong>: Classifier의 프롬프트 설계 및 코드 구조는 4.2절 "에이전트 시스템 구현"에서 다룬다.</p>
</blockquote>
<h3 id="chapters-03-system-design-332-question-improvement-agent">3.3.2 Question Improvement Agent: "질문을 더 명확하게"<a class="headerlink" href="#chapters-03-system-design-332-question-improvement-agent" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-_4">교육적 필요성<a class="headerlink" href="#chapters-03-system-design-_4" title="Permanent link">&para;</a></h4>
<p>Classifier가 "명료화 필요" 판정을 내렸다면, 이는 **학생 스스로 질문을 구체화할 기회**를 의미한다. 1장에서 본 "수열이 뭐야?"와 같은 질문은 즉시 답변을 제공해도 학생에게 도움이 되지 않는다. 정의를 원하는가, 공식을 원하는가, 문제 풀이를 원하는가에 따라 완전히 다른 설명이 필요하기 때문이다.</p>
<p>더 중요한 것은, **명료화 과정 자체가 학습**이라는 것이다. 듀이의 반성적 사고 이론에 따르면, 학생이 자신의 어려움을 명확히 인식하고 표현하는 과정에서 메타인지 능력이 향상된다.</p>
<p><strong>해결 아이디어</strong>: Dewey의 반성적 사고 5단계를 대화형 명료화 질문으로 구현하여, 학생이 스스로 질문을 구조화하도록 돕는다.</p>
<h4 id="chapters-03-system-design-dewey-5">명료화 프로세스: Dewey 5단계의 구현<a class="headerlink" href="#chapters-03-system-design-dewey-5" title="Permanent link">&para;</a></h4>
<p>Question Improvement Agent는 Dewey의 5단계를 실제 대화로 변환한다:</p>
<table>
<thead>
<tr>
<th>Dewey 단계</th>
<th>명료화 질문 예시</th>
<th>학생 경험</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1단계: 문제 인식</strong></td>
<td>"무엇이 불확실한가요? 🤔"</td>
<td>막연한 어려움 → 구체적 문제 인식</td>
</tr>
<tr>
<td><strong>2단계: 문제 정의</strong></td>
<td>"정확히 무엇을 알고 싶은가요?"</td>
<td>"어려워요" → "귀납 단계가 어려워요"</td>
</tr>
<tr>
<td><strong>3단계: 가설 설정</strong></td>
<td>"어떤 방법을 시도해봤나요?"</td>
<td>학생의 시도와 이해 수준 파악</td>
</tr>
<tr>
<td><strong>4단계: 가설 검증</strong></td>
<td>"왜 그렇게 생각했나요?"</td>
<td>학생의 사고 과정 드러내기</td>
</tr>
<tr>
<td><strong>5단계: 결론 도출</strong></td>
<td>"최종적으로 무엇을 얻고 싶나요?"</td>
<td>학습 목표 명확화</td>
</tr>
</tbody>
</table>
<p><strong>실제 대화 예시</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#chapters-03-system-design-__codelineno-1-1"></a>학생: &quot;수학적 귀납법 어려워요&quot;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#chapters-03-system-design-__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#chapters-03-system-design-__codelineno-1-3"></a>AI (1단계): &quot;귀납법 중에서 어떤 부분이 가장 어렵거나 궁금하신가요? 🤔&quot;
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#chapters-03-system-design-__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#chapters-03-system-design-__codelineno-1-5"></a>학생: &quot;귀납 단계요&quot;
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#chapters-03-system-design-__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#chapters-03-system-design-__codelineno-1-7"></a>AI (2단계): &quot;귀납 단계의 어느 부분이 어려운가요?
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#chapters-03-system-design-__codelineno-1-8"></a>            귀납 가정을 사용하는 방법인가요, 
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#chapters-03-system-design-__codelineno-1-9"></a>            아니면 식을 전개하는 과정인가요?&quot;
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#chapters-03-system-design-__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#chapters-03-system-design-__codelineno-1-11"></a>학생: &quot;식을 전개하는 과정이요&quot;
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#chapters-03-system-design-__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#chapters-03-system-design-__codelineno-1-13"></a>AI (3단계): &quot;지금까지 어떻게 시도해보셨나요?&quot;
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#chapters-03-system-design-__codelineno-1-14"></a>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#chapters-03-system-design-__codelineno-1-15"></a>학생: &quot;n=k+1을 대입했는데 그 다음을 모르겠어요&quot;
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#chapters-03-system-design-__codelineno-1-16"></a>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#chapters-03-system-design-__codelineno-1-17"></a>AI: (충분한 정보 확보 → Answer Generator로 전달)
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#chapters-03-system-design-__codelineno-1-18"></a>    &quot;n=k+1 대입 후 식 전개 과정을 단계별로 설명해드릴게요! 📚&quot;
</span></code></pre></div></p>
<h4 id="chapters-03-system-design-3_2">명료화 전략: 3단계 차별화<a class="headerlink" href="#chapters-03-system-design-3_2" title="Permanent link">&para;</a></h4>
<p>모든 질문에 5단계를 다 거치면 시간이 오래 걸린다. Question Improvement는 질문의 모호성 수준에 따라 전략을 조절한다:</p>
<p><strong>Stage 1: Quick Scope</strong> (초단순 질문, 1-2단어)
- <strong>대상</strong>: "수열", "함수" 수준
- <strong>방식</strong>: 선택지 제공으로 빠르게 범위 좁히기
- <strong>예시</strong>:
  <div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#chapters-03-system-design-__codelineno-2-1"></a>학생: &quot;수열 알려줘&quot;
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#chapters-03-system-design-__codelineno-2-2"></a>AI: &quot;수열에 대해 알고 싶구나! 😊
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#chapters-03-system-design-__codelineno-2-3"></a>     어떤 부분이 궁금한지 알려줄래?
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#chapters-03-system-design-__codelineno-2-4"></a>     1️⃣ 수열이 뭔지 (정의)
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#chapters-03-system-design-__codelineno-2-5"></a>     2️⃣ 수열 공식들
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#chapters-03-system-design-__codelineno-2-6"></a>     3️⃣ 수열 문제 푸는 방법&quot;
</span></code></pre></div>
  → 1회 명료화로 완료</p>
<p><strong>Stage 2: Specific Clarify</strong> (약간 모호한 질문, 3-5단어)
- <strong>대상</strong>: "수학적 귀납법의 귀납단계가 어려워요"
- <strong>방식</strong>: 세부 정보 1-2개만 추가 질문
- <strong>예시</strong>:
  <div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#chapters-03-system-design-__codelineno-3-1"></a>학생: &quot;귀납 단계가 어려워요&quot;
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#chapters-03-system-design-__codelineno-3-2"></a>AI: &quot;귀납 단계 중에서 어떤 부분이 어려운가요?
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#chapters-03-system-design-__codelineno-3-3"></a>     귀납 가정을 사용하는 방법인가요,
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#chapters-03-system-design-__codelineno-3-4"></a>     아니면 식을 전개하는 과정인가요?&quot;
</span></code></pre></div>
  → 1-2회 명료화로 완료</p>
<p><strong>Stage 3: Deep Inquiry</strong> (구체적이나 의도 불명확)
- <strong>대상</strong>: 맥락은 있으나 학습 목표가 불명확한 질문
- <strong>방식</strong>: Dewey 5단계 적용, 메타인지 자극
- <strong>예시</strong>:
  <div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#chapters-03-system-design-__codelineno-4-1"></a>학생: &quot;이 증명이 맞는지 모르겠어요&quot;
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#chapters-03-system-design-__codelineno-4-2"></a>AI: &quot;함께 생각해보자! 🤔
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#chapters-03-system-design-__codelineno-4-3"></a>     어떤 부분에서 확신이 안 서나요?
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#chapters-03-system-design-__codelineno-4-4"></a>     어디까지 이해했고, 어디서부터 막혔는지 알려줄래?
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#chapters-03-system-design-__codelineno-4-5"></a>     (네가 뭘 모르는지 아는 게 학습의 시작이야!)&quot;
</span></code></pre></div>
  → 2-3회 명료화, 학생의 사고 과정 드러내기</p>
<h4 id="chapters-03-system-design-_5">명료화 완료 판단<a class="headerlink" href="#chapters-03-system-design-_5" title="Permanent link">&para;</a></h4>
<p>Question Improvement는 학생의 각 응답을 평가하여, 충분한 정보가 모였는지 판단한다:</p>
<pre class="mermaid"><code>flowchart TD
    C[Classifier에서&lt;br/&gt;needs_clarify 전달] --&gt; Q1[명료화 질문 1]
    Q1 --&gt; S1[학생 응답]
    S1 --&gt; E1{충분한&lt;br/&gt;정보?}
    E1 --&gt;|PASS| F[최종 질문 생성]
    E1 --&gt;|NEED_MORE| Q2[명료화 질문 2]
    Q2 --&gt; S2[학생 응답]
    S2 --&gt; E2{충분한&lt;br/&gt;정보?}
    E2 --&gt;|PASS| F
    E2 --&gt;|NEED_MORE| Q3[명료화 질문 3]
    Q3 --&gt; S3[학생 응답]
    S3 --&gt; F
    F --&gt; AG[Answer Generator로 전달]

    style E1 fill:#FFD700
    style E2 fill:#FFD700
    style AG fill:#90EE90</code></pre>
<p><strong>판단 기준</strong>:
- <strong>PASS</strong>: 원본 질문의 의도가 명확해지고, 답변 생성에 필요한 정보 확보
- <strong>NEED_MORE</strong>: 원본 질문의 의도가 여전히 불분명하거나, 추가 정보 필요
- <strong>최대 3회 제한</strong>: 3회 명료화 후에도 불충분하면 현재 정보로 답변 생성</p>
<h4 id="chapters-03-system-design-_6">교육적 의도 명시화<a class="headerlink" href="#chapters-03-system-design-_6" title="Permanent link">&para;</a></h4>
<p>기존 LLM은 "왜 명료화 질문을 하는지" 설명하지 않아 학생이 불편함을 느꼈다. Question Improvement는 명료화의 교육적 이유를 부드럽게 설명한다:</p>
<p><strong>기본 프레이밍</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#chapters-03-system-design-__codelineno-5-1"></a>&quot;질문을 조금만 더 구체적으로 만들어주면,
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#chapters-03-system-design-__codelineno-5-2"></a> 딱 맞는 설명을 해드릴 수 있어요! 😊&quot;
</span></code></pre></div></p>
<p><strong>교육적 프레이밍</strong> (K4 수준 학생):
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#chapters-03-system-design-__codelineno-6-1"></a>&quot;함께 질문을 구체화해볼까요? 🎯
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#chapters-03-system-design-__codelineno-6-2"></a> 네가 정확히 무엇을 모르는지 찾아가는 과정이
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#chapters-03-system-design-__codelineno-6-3"></a> 진짜 학습의 시작이에요!&quot;
</span></code></pre></div></p>
<h4 id="chapters-03-system-design-_7">질문 유형 재분류<a class="headerlink" href="#chapters-03-system-design-_7" title="Permanent link">&para;</a></h4>
<p>명료화 과정에서 학생의 실제 어려움이 드러나면, 질문 유형이 변경될 수 있다:</p>
<p><strong>예시</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#chapters-03-system-design-__codelineno-7-1"></a>원본 질문: &quot;수열 알려줘&quot; (K1으로 분류)
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#chapters-03-system-design-__codelineno-7-2"></a>  ↓
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#chapters-03-system-design-__codelineno-7-3"></a>명료화: &quot;어떤 부분이 궁금한가요?&quot;
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#chapters-03-system-design-__codelineno-7-4"></a>  ↓
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#chapters-03-system-design-__codelineno-7-5"></a>학생: &quot;등차수열과 등비수열의 차이를 모르겠어요&quot;
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#chapters-03-system-design-__codelineno-7-6"></a>  ↓
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#chapters-03-system-design-__codelineno-7-7"></a>재분류: K2 (개념적 이해) → K2 답변 전략 적용
</span></code></pre></div></p>
<h4 id="chapters-03-system-design-_8">교육적 효과<a class="headerlink" href="#chapters-03-system-design-_8" title="Permanent link">&para;</a></h4>
<p>실험 결과, Question Improvement의 명료화 과정은 다음과 같은 효과를 보였다:</p>
<ol>
<li><strong>질문 품질 향상</strong>: 명료화 후 질문 점수 평균 3.2점 → 4.7점 (46% 증가)</li>
<li><strong>학생 만족도</strong>: 명료화 과정의 교육적 가치 4.&#8536;점</li>
<li><strong>메타인지 발달</strong>: "내가 무엇을 모르는지 스스로 규정할 수 있게 되었다" (학생 증언)</li>
<li><strong>시간 효율성</strong>: 평균 1.8회 명료화로 완료 (3회 제한 내)</li>
</ol>
<p><strong>학생 증언</strong>:</p>
<blockquote>
<p>"명료화 과정이 최종 정답보다 더 큰 배움을 줬다. 문제를 조건·정의·목표로 분리해 재정의하는 연습이 됐다."</p>
</blockquote>
<p><strong>실제 사례</strong>:
- 모호한 질문 "귀납법 어려워요" → 1회 명료화 → "귀납 단계에서 식 전개" → K3 답변 (단계별 풀이)
- 초단순 질문 "수열" → 선택지 제공 → "수열 공식들" → K1 답변 (공식 정리)</p>
<blockquote>
<p><strong>구현 상세</strong>: Question Improvement의 명료화 평가 로직 및 프롬프트는 4.2절 "에이전트 시스템 구현"에서 다룬다.</p>
</blockquote>
<h3 id="chapters-03-system-design-333-answer-generator-agent">3.3.3 Answer Generator Agent: "유형별 맞춤 답변"<a class="headerlink" href="#chapters-03-system-design-333-answer-generator-agent" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-_9">교육적 필요성<a class="headerlink" href="#chapters-03-system-design-_9" title="Permanent link">&para;</a></h4>
<p>1장에서 확인한 AI 답변의 문제는 **"모든 학생에게 동일한 방식으로 설명한다"**는 것이었다. "수학적 귀납법이 뭐에요?"라고 묻는 K1 수준 학생에게도, "귀납 단계에서 제가 뭘 잘못 이해한 건가요?"라고 묻는 K4 수준 학생에게도 똑같은 장문의 설명을 제공했다.</p>
<p>더 심각한 문제는 **인지 과부하**였다. 학생이 간단한 정의만 원하는데, AI가 유한수열, 무한수열, 등차수열, 등비수열, 일반항, 점화식을 한꺼번에 설명하면 학생은 어디서부터 이해해야 할지 모른다.</p>
<p><strong>해결 아이디어</strong>: Bloom의 K1-K4 분류를 **실제 답변 구조와 교수법**으로 차별화하여, 학생의 인지적 수준에 맞는 설명을 제공한다.</p>
<h4 id="chapters-03-system-design-bloom-k1-k4">Bloom K1-K4 답변 전략의 실제 구현<a class="headerlink" href="#chapters-03-system-design-bloom-k1-k4" title="Permanent link">&para;</a></h4>
<p>Answer Generator는 Classifier가 판정한 질문 유형에 따라, **완전히 다른 답변 전략**을 적용한다:</p>
<table>
<thead>
<tr>
<th>유형</th>
<th>답변 구조</th>
<th>교수법 특징</th>
<th>예시 질문</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>K1 (사실)</strong></td>
<td>정의 → 핵심 예시 → 보충</td>
<td>간결함, 정확성 우선</td>
<td>"귀납법의 정의가 뭐에요?"</td>
</tr>
<tr>
<td><strong>K2 (개념)</strong></td>
<td>개념 관계 → 비교/대조 → 시각화</td>
<td>"왜?" 중심 설명</td>
<td>"귀납 가정은 왜 필요한가요?"</td>
</tr>
<tr>
<td><strong>K3 (절차)</strong></td>
<td>전체 개요 → 단계별 안내 → 실수 방지</td>
<td>선택권 제공, 대화형</td>
<td>"이 등식을 어떻게 증명하나요?"</td>
</tr>
<tr>
<td><strong>K4 (메타인지)</strong></td>
<td>문제 분석 → 자기 점검 → 대안 탐색</td>
<td>소크라테스식 문답</td>
<td>"제가 뭘 잘못 이해한 건가요?"</td>
</tr>
</tbody>
</table>
<h4 id="chapters-03-system-design-k1">K1 답변: 간결함과 정확성<a class="headerlink" href="#chapters-03-system-design-k1" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "수학적 귀납법의 정의가 뭐에요?"</p>
<p><strong>AI 답변</strong> (K1 전략):
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#chapters-03-system-design-__codelineno-8-1"></a>수학적 귀납법은 자연수에 관한 명제를 증명하는 방법입니다.
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#chapters-03-system-design-__codelineno-8-2"></a>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#chapters-03-system-design-__codelineno-8-3"></a>**핵심 구조**:
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#chapters-03-system-design-__codelineno-8-4"></a>1. 기초 단계: n=1일 때 성립 확인
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#chapters-03-system-design-__codelineno-8-5"></a>2. 귀납 단계: n=k 성립 → n=k+1 성립 증명
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#chapters-03-system-design-__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#chapters-03-system-design-__codelineno-8-7"></a>💡 비유: 도미노가 차례로 넘어지듯, 
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#chapters-03-system-design-__codelineno-8-8"></a>   첫 번째가 넘어지고 (기초 단계)
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#chapters-03-system-design-__codelineno-8-9"></a>   하나가 넘어지면 다음도 넘어지면 (귀납 단계)
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#chapters-03-system-design-__codelineno-8-10"></a>   모든 도미노가 넘어집니다.
</span></code></pre></div></p>
<p><strong>특징</strong>:
- 불필요한 정보 배제 (유한귀납법, 강한귀납법 등 언급 안 함)
- 3-5문장으로 간결하게 정리
- 학생이 요청하지 않은 관련 개념 추가 설명 안 함</p>
<h4 id="chapters-03-system-design-k2">K2 답변: "왜?" 중심 설명<a class="headerlink" href="#chapters-03-system-design-k2" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "귀납 가정은 왜 필요한가요?"</p>
<p><strong>AI 답변</strong> (K2 전략):
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#chapters-03-system-design-__codelineno-9-1"></a>귀납 가정의 역할을 이해하려면, 증명 구조를 살펴봐야 해요. 🔍
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#chapters-03-system-design-__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#chapters-03-system-design-__codelineno-9-3"></a>**증명 흐름**:
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#chapters-03-system-design-__codelineno-9-4"></a>n=k 성립 (가정) → n=k+1 성립 (증명 목표)
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#chapters-03-system-design-__codelineno-9-5"></a>              ↓
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#chapters-03-system-design-__codelineno-9-6"></a>     k를 k+1로 연결하는 다리
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#chapters-03-system-design-__codelineno-9-7"></a>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#chapters-03-system-design-__codelineno-9-8"></a>**왜 필요한가?**
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#chapters-03-system-design-__codelineno-9-9"></a>귀납 가정이 없으면 k+1 단계를 증명할 근거가 없어집니다.
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#chapters-03-system-design-__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#chapters-03-system-design-__codelineno-9-11"></a>💡 비유: 사다리를 올라갈 때
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#chapters-03-system-design-__codelineno-9-12"></a>   아래 발판(귀납 가정)이 있어야 
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#chapters-03-system-design-__codelineno-9-13"></a>   위 발판(k+1)으로 올라갈 수 있어요.
</span></code></pre></div></p>
<p><strong>특징</strong>:
- 개념 간 **논리적 연결**을 시각화 (화살표, 다이어그램)
- "왜 그런가?"에 대한 명확한 답
- 학생이 직관적으로 이해할 수 있는 비유 사용</p>
<h4 id="chapters-03-system-design-k3">K3 답변: 학생 선택권 제공<a class="headerlink" href="#chapters-03-system-design-k3" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "등차수열 일반항 공식을 귀납법으로 어떻게 증명하나요?"</p>
<p><strong>AI 답변</strong> (K3 전략):
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#chapters-03-system-design-__codelineno-10-1"></a>등차수열 일반항 공식 증명을 알려줄게! 📚
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#chapters-03-system-design-__codelineno-10-2"></a>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#chapters-03-system-design-__codelineno-10-3"></a>어떻게 배우고 싶어?
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#chapters-03-system-design-__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#chapters-03-system-design-__codelineno-10-5"></a>1️⃣ 단계별로 함께 풀어보기 (추천! 💡)
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#chapters-03-system-design-__codelineno-10-6"></a>   - 각 단계를 함께 생각하며 진행
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#chapters-03-system-design-__codelineno-10-7"></a>   - 스스로 답을 찾아가는 연습
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#chapters-03-system-design-__codelineno-10-8"></a>   - 막히면 힌트 제공
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#chapters-03-system-design-__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#chapters-03-system-design-__codelineno-10-10"></a>2️⃣ 전체 증명 과정 한번에 보기
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#chapters-03-system-design-__codelineno-10-11"></a>   - 처음부터 끝까지 상세한 풀이
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#chapters-03-system-design-__codelineno-10-12"></a>   - 각 단계의 근거 설명
</span></code></pre></div></p>
<p><strong>학생이 1번 선택 시</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#chapters-03-system-design-__codelineno-11-1"></a>좋아! 함께 생각해보자 🤝
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#chapters-03-system-design-__codelineno-11-2"></a>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#chapters-03-system-design-__codelineno-11-3"></a>**Step 1: 기초 단계**
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#chapters-03-system-design-__codelineno-11-4"></a>n=1일 때 성립함을 보여야 해.
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#chapters-03-system-design-__codelineno-11-5"></a>첫째항은 a₁ = a (공식으로 a₁ = a + (1-1)d = a)
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#chapters-03-system-design-__codelineno-11-6"></a>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#chapters-03-system-design-__codelineno-11-7"></a>이 부분은 이해했어? (네/아니요)
</span></code></pre></div></p>
<p><strong>특징</strong>:
- <strong>학생에게 학습 방식 선택권</strong> 부여 (대화형 vs 일괄 제공)
- 단계별로 학생의 이해도를 확인하며 진행
- 막히면 즉시 힌트 또는 상세 설명으로 전환</p>
<h4 id="chapters-03-system-design-k4">K4 답변: 메타인지 훈련 ⭐<a class="headerlink" href="#chapters-03-system-design-k4" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "귀납 단계에서 제가 뭘 잘못 이해한 건가요?"</p>
<p><strong>AI 답변</strong> (K4 전략):
<div class="language-text highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#chapters-03-system-design-__codelineno-12-1"></a>함께 차근차근 생각해보자! 🤔
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#chapters-03-system-design-__codelineno-12-2"></a>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#chapters-03-system-design-__codelineno-12-3"></a>**스스로 점검해보기**:
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#chapters-03-system-design-__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#chapters-03-system-design-__codelineno-12-5"></a>1️⃣ 귀납 가정을 어디에 사용했나요?
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#chapters-03-system-design-__codelineno-12-6"></a>   → 네 풀이에서 찾아보기: [ ]
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#chapters-03-system-design-__codelineno-12-7"></a>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#chapters-03-system-design-__codelineno-12-8"></a>2️⃣ n=k와 n=k+1의 식이 어떻게 다른가요?
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#chapters-03-system-design-__codelineno-12-9"></a>   → 차이점 적어보기: _________
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#chapters-03-system-design-__codelineno-12-10"></a>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#chapters-03-system-design-__codelineno-12-11"></a>3️⃣ 그 차이를 귀납 가정으로 메울 수 있나요?
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#chapters-03-system-design-__codelineno-12-12"></a>   → 연결 고리: _________
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#chapters-03-system-design-__codelineno-12-13"></a>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#chapters-03-system-design-__codelineno-12-14"></a>막히는 부분을 알려주면, 함께 해결 방법을 찾아볼게! 💬
</span></code></pre></div></p>
<p><strong>학생 응답</strong>: "2번에서 막혀요. 차이를 어떻게 찾아야 할지 모르겠어요."</p>
<p><strong>AI 후속 답변</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#chapters-03-system-design-__codelineno-13-1"></a>좋은 질문이야! 차이를 찾는 방법을 알려줄게 🎯
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#chapters-03-system-design-__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#chapters-03-system-design-__codelineno-13-3"></a>**Step by Step**:
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#chapters-03-system-design-__codelineno-13-4"></a>1. n=k일 때 식을 써보기
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#chapters-03-system-design-__codelineno-13-5"></a>2. n=k+1로 바꾸면 어떻게 달라지는지 비교
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#chapters-03-system-design-__codelineno-13-6"></a>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#chapters-03-system-design-__codelineno-13-7"></a>예를 들어, 등식 1+2+...+k = k(k+1)/2 에서
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#chapters-03-system-design-__codelineno-13-8"></a>- n=k:   1+2+...+k = k(k+1)/2
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#chapters-03-system-design-__codelineno-13-9"></a>- n=k+1: 1+2+...+k+(k+1) = (k+1)(k+2)/2
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#chapters-03-system-design-__codelineno-13-10"></a>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#chapters-03-system-design-__codelineno-13-11"></a>차이 = (k+1)이 추가됨 ← 이게 핵심!
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#chapters-03-system-design-__codelineno-13-12"></a>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#chapters-03-system-design-__codelineno-13-13"></a>이제 네 문제에서 차이를 찾아볼 수 있겠어? 🔍
</span></code></pre></div></p>
<p><strong>특징</strong>:
- <strong>답을 직접 주지 않음</strong> → 학생이 스스로 찾도록 유도
- <strong>메타인지 질문</strong>: "어떻게 생각했나요?", "어디서 막혔나요?"
- <strong>점진적 힌트</strong>: 학생이 막히면 단계적으로 힌트 제공
- <strong>사고 과정 드러내기</strong>: 학생의 이해 과정을 명시적으로 표현</p>
<p><strong>교육적 효과</strong>: K4 답변은 단순 정답 제공이 아닌, **학생이 스스로 오류를 발견하고 해결 전략을 탐색**하도록 유도하여 깊이 있는 학습과 문제해결 능력을 동시에 향상시킨다.</p>
<h4 id="chapters-03-system-design-_10">교육과정 표준 준수<a class="headerlink" href="#chapters-03-system-design-_10" title="Permanent link">&para;</a></h4>
<p>Answer Generator는 대한민국 교육과정의 표준 용어를 엄격히 준수한다:</p>
<table>
<thead>
<tr>
<th>표준 용어 (✓)</th>
<th>비표준 용어 (✗)</th>
</tr>
</thead>
<tbody>
<tr>
<td>부등식</td>
<td>불등식</td>
</tr>
<tr>
<td>일반항</td>
<td>명시적 공식 (Explicit Formula)</td>
</tr>
<tr>
<td>함수</td>
<td>함수식</td>
</tr>
<tr>
<td>미분, 도함수</td>
<td>Derivative</td>
</tr>
</tbody>
</table>
<p><strong>LaTeX 수식 작성 규칙</strong>:
- 인라인 수식: <code>$수식$</code>
- 블록 수식: <code>$$수식$$</code>
- <strong>수식 구분자 안에는 절대로 한글 포함 금지</strong>
- ✅ 올바른 예시: <code>$P(k)$가 참이면 $P(k+1)$도 참</code>
- ❌ 잘못된 예시: <code>$$P(k)가 참 \Rightarrow P(k+1)도 참$$</code></p>
<h4 id="chapters-03-system-design-_11">실시간 스트리밍과 학생 경험<a class="headerlink" href="#chapters-03-system-design-_11" title="Permanent link">&para;</a></h4>
<p>Answer Generator는 답변을 **타이핑하듯 실시간으로 전송**한다:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#chapters-03-system-design-__codelineno-14-1"></a>[학생 화면]
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#chapters-03-system-design-__codelineno-14-2"></a>&quot;귀납 가정의 역할을 이해하려면,&quot; (0.5초)
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#chapters-03-system-design-__codelineno-14-3"></a>&quot;증명 구조를 살펴봐야 해요.&quot; (0.5초)
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#chapters-03-system-design-__codelineno-14-4"></a>&quot;🔍&quot; (즉시)
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#chapters-03-system-design-__codelineno-14-5"></a>[수식 렌더링]
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#chapters-03-system-design-__codelineno-14-6"></a>&quot;n=k 성립 (가정) → n=k+1 성립 (증명 목표)&quot; (1초)
</span></code></pre></div>
<p><strong>효과</strong>:
- 학생이 AI가 "생각하며 답변하는" 느낌을 받음
- 긴 답변도 지루하지 않게 받아들임
- ChatGPT, Claude와 동일한 UX</p>
<h4 id="chapters-03-system-design-_12">교육적 효과<a class="headerlink" href="#chapters-03-system-design-_12" title="Permanent link">&para;</a></h4>
<p>실험 결과, Answer Generator의 유형별 차별화 답변은 다음과 같은 효과를 보였다:</p>
<ol>
<li><strong>답변 적합성</strong>: AI 답변의 학습 수준 일치도 87% (1장의 48.9%에서 대폭 개선)</li>
<li><strong>학생 만족도</strong>: 답변 품질 만족도 4.&#8536;점</li>
<li><strong>학습 효율성</strong>: K1 질문은 30초 내, K3 질문은 5분 내 해결</li>
<li><strong>메타인지 향상</strong>: K4 답변 경험 학생의 자기주도학습 능력 향상 (Cohen's d = 0.42)</li>
</ol>
<p><strong>실제 사례</strong>:
- K1 질문 "귀납법 정의" → 3문장 간결 답변 → 학생 "딱 궁금한 것만 알려줘서 좋아요"
- K3 질문 "등식 증명 방법" → 선택권 제공 → 학생 "단계별로 함께 풀기" 선택 → 10분 내 완료
- K4 질문 "내 오류가 뭐죠?" → 소크라테스식 문답 → 학생 "스스로 오류를 찾았어요!"</p>
<blockquote>
<p><strong>구현 상세</strong>: Answer Generator의 유형별 프롬프트 템플릿과 스트리밍 로직은 4.2절에서 다룬다.</p>
</blockquote>
<h3 id="chapters-03-system-design-334-observer-agent">3.3.4 Observer Agent: "학생이 무엇을 배우고 있는가?"<a class="headerlink" href="#chapters-03-system-design-334-observer-agent" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-_13">교육적 필요성<a class="headerlink" href="#chapters-03-system-design-_13" title="Permanent link">&para;</a></h4>
<p>교사가 30명 학생을 동시에 가르칠 때 가장 어려운 점은 **개별 학생의 학습 상황을 실시간으로 파악하는 것**이다. 누가 어떤 개념에서 막혔는지, 누가 빠르게 진행 중인지, 누가 반복적으로 같은 실수를 하는지 알기 어렵다.</p>
<p>기존 AI 대화 시스템은 대화 내용을 단순히 저장만 하고, 교육적 분석을 제공하지 않았다. 교사가 177개의 대화 로그를 일일이 읽어야 했다.</p>
<p><strong>해결 아이디어</strong>: Observer Agent가 **교사처럼 학생을 관찰**하여, 학습 진도, 어려움 영역, 메타인지 발달을 자동으로 추출하고 교사 대시보드에 제공한다.</p>
<hchapters-03-system-design-4 id="chapters-03-system-design-4">자동 추출하는 4가지 정보<a class="headerlink" href="#chapters-03-system-design-4" title="Permanent link">&para;</a></h4>
<p>Observer는 매 세션마다 다음 정보를 자동으로 추출한다:</p>
<table>
<thead>
<tr>
<th>추출 정보</th>
<th>구체적 내용</th>
<th>활용 방법</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1. 학습 진도</strong></td>
<td>• 학습 중인 개념<br/>• 완료한 단원<br/>• 학습 깊이 (K1→K3 진행)</td>
<td>학생별 진도 추적</td>
</tr>
<tr>
<td><strong>2. 어려움 영역</strong></td>
<td>• 반복 질문 패턴<br/>• 오개념 징후<br/>• 막힌 지점</td>
<td>교사 개입 타이밍 제안</td>
</tr>
<tr>
<td><strong>3. 메타인지 발달</strong></td>
<td>• 자기 점검 질문 빈도<br/>• 전략 변경 시도<br/>• 질문 구체화 개선도</td>
<td>학습 능력 평가</td>
</tr>
<tr>
<td><strong>4. 학습 맥락</strong></td>
<td>• 선수 학습 수준<br/>• 학습 목표 명시성<br/>• 어려움 표현 능력</td>
<td>개별 맞춤 지원</td>
</tr>
</tbody>
</table>
<p><strong>실제 추출 예시</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#chapters-03-system-design-__codelineno-15-1"></a>세션 ID: 42
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#chapters-03-system-design-__codelineno-15-2"></a>학생: 김철수
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#chapters-03-system-design-__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#chapters-03-system-design-__codelineno-15-4"></a>[Observer 자동 요약]
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#chapters-03-system-design-__codelineno-15-5"></a>- 진도: 귀납법 귀납 단계 학습 중 (K3 수준)
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#chapters-03-system-design-__codelineno-15-6"></a>- 어려움: &quot;귀납 가정 적용&quot;에서 3회 반복 질문
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#chapters-03-system-design-__codelineno-15-7"></a>- 메타인지: K4 질문 2회 (평균보다 높음, 긍정적)
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#chapters-03-system-design-__codelineno-15-8"></a>- 특이사항: &quot;식 전개 과정&quot;에서 일관되게 막힘
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#chapters-03-system-design-__codelineno-15-9"></a>- 교사 코멘트: 귀납 가정 활용법에 대한 개별 지도 권장
</span></code></pre></div></p>
<h4 id="chapters-03-system-design-3_3">교사 대시보드: 3가지 뷰<a class="headerlink" href="#chapters-03-system-design-3_3" title="Permanent link">&para;</a></h4>
<p><strong>1) 학생별 상세 뷰</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#chapters-03-system-design-__codelineno-16-1"></a>[학생 A]
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#chapters-03-system-design-__codelineno-16-2"></a>• 총 세션: 5회
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#chapters-03-system-design-__codelineno-16-3"></a>• 학습 진도: K1 (정의) ✓ → K2 (개념) ✓ → K3 (적용 중)
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#chapters-03-system-design-__codelineno-16-4"></a>• 어려움 영역: 귀납 가정 적용 ★★★
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#chapters-03-system-design-__codelineno-16-5"></a>• 메타인지 점수: 0.68 (평균 0.54보다 높음)
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#chapters-03-system-design-__codelineno-16-6"></a>• 추세: Improving ↗️
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#chapters-03-system-design-__codelineno-16-7"></a>• 다음 개입: K3 귀납 단계 집중 지도
</span></code></pre></div></p>
<p><strong>2) 반 전체 트렌드 뷰</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#chapters-03-system-design-__codelineno-17-1"></a>[공통 어려움 Top 3]
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#chapters-03-system-design-__codelineno-17-2"></a>1. 귀납 가정 적용 (68% 학생) ← 교사 집중 설명 필요
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#chapters-03-system-design-__codelineno-17-3"></a>2. 귀납 단계 식 전개 (52%)
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#chapters-03-system-design-__codelineno-17-4"></a>3. 기초 단계와 귀납 단계 연결 (41%)
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#chapters-03-system-design-__codelineno-17-5"></a>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#chapters-03-system-design-__codelineno-17-6"></a>[긍정적 신호]
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#chapters-03-system-design-__codelineno-17-7"></a>• 평균 명료화 횟수: 1.8회 → 적절
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#chapters-03-system-design-__codelineno-17-8"></a>• K4 질문 비율: 23% → 메타인지 활성화
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#chapters-03-system-design-__codelineno-17-9"></a>• 세션당 평균 진행: K1 → K2.4 → 빠름
</span></code></pre></div></p>
<p><strong>3) 개입 알림 뷰</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#chapters-03-system-design-__codelineno-18-1"></a>[즉시 개입 필요] (3명)
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#chapters-03-system-design-__codelineno-18-2"></a>• 학생 B: 귀납 가정에서 3회 막힘
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#chapters-03-system-design-__codelineno-18-3"></a>• 학생 D: 오개념 징후 (귀납 가정을 결론에 사용)
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#chapters-03-system-design-__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#chapters-03-system-design-__codelineno-18-5"></a>[관찰 필요] (5명)
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#chapters-03-system-design-__codelineno-18-6"></a>• 학생 E: 진도 느림, but 꾸준함
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#chapters-03-system-design-__codelineno-18-7"></a>• 학생 F: K1만 반복 질문 (K2로 유도 필요)
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#chapters-03-system-design-__codelineno-18-8"></a>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#chapters-03-system-design-__codelineno-18-9"></a>[자기주도학습 가능] (22명)
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#chapters-03-system-design-__codelineno-18-10"></a>• 순조롭게 진행 중, 교사 개입 불필요
</span></code></pre></div></p>
<h4 id="chapters-03-system-design-_14">교육적 가치<a class="headerlink" href="#chapters-03-system-design-_14" title="Permanent link">&para;</a></h4>
<p>Observer Agent는 교사의 **개별화 교육 능력**을 획기적으로 향상시킨다:</p>
<ol>
<li><strong>시간 절약</strong>: 177개 대화 로그 읽기 (4시간) → 요약 확인 (10분)</li>
<li><strong>조기 발견</strong>: 반복적 어려움을 3회 내에 자동 감지</li>
<li><strong>효율적 개입</strong>: 즉시 개입이 필요한 3명에게 집중</li>
<li><strong>데이터 기반 교수</strong>: 반 전체 공통 어려움을 다음 수업에 반영</li>
</ol>
<p><strong>실제 활용 사례</strong>:
- 교사 A: "68% 학생이 '귀납 가정 적용'에서 막힌다는 걸 보고, 다음 수업에서 집중 설명했더니 효과적이었어요."
- 교사 B: "학생별 메타인지 점수를 보고, K4 질문이 많은 학생들을 격려했어요."</p>
<blockquote>
<p><strong>구현 상세</strong>: Observer의 학습 패턴 분석 알고리즘과 대시보드 API는 4.2절에서 다룬다.</p>
</blockquote>
<h3 id="chapters-03-system-design-335-freetalker-agent-freepass">3.3.5 FreeTalker Agent: "대조군 (Freepass 모드)"<a class="headerlink" href="#chapters-03-system-design-335-freetalker-agent-freepass" title="Permanent link">&para;</a></h3>
<h4 id="chapters-03-system-design-_15">실험적 필요성<a class="headerlink" href="#chapters-03-system-design-_15" title="Permanent link">&para;</a></h4>
<p>MAICE의 명료화 프로세스가 정말 효과적인지 검증하려면, **명료화 없이 즉시 답변하는 대조군**이 필요하다. FreeTalker Agent는 일반 ChatGPT, Claude처럼 작동하여, Agent 모드와 비교할 수 있게 한다.</p>
<p><strong>역할</strong>:
- <strong>A/B 테스트의 대조군</strong>: 학생 절반은 Agent 모드(명료화), 절반은 Freepass 모드(즉시 답변)로 무작위 배정
- <strong>명료화 없이 즉시 답변</strong>: 학생 질문을 받으면 분류나 명료화 없이 바로 답변 생성
- <strong>일반 LLM 동작 재현</strong>: 상용 AI 서비스와 동일한 방식으로 응답</p>
<h4 id="chapters-03-system-design-_16">작동 방식<a class="headerlink" href="#chapters-03-system-design-_16" title="Permanent link">&para;</a></h4>
<pre class="mermaid"><code>flowchart LR
    Q[학생 질문] --&gt; FT[FreeTalker Agent]
    FT --&gt; A[즉시 답변 생성]
    A --&gt; S[실시간 스트리밍]

    style FT fill:#FFB6C1</code></pre>
<p><strong>Agent 모드와의 차이</strong>:</p>
<table>
<thead>
<tr>
<th>항목</th>
<th>Agent 모드</th>
<th>Freepass 모드 (FreeTalker)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 분류</strong></td>
<td>✓ K1-K4 분류</td>
<td>✗ 분류 없음</td>
</tr>
<tr>
<td><strong>명료화</strong></td>
<td>✓ needs_clarify 시 명료화</td>
<td>✗ 명료화 없음</td>
</tr>
<tr>
<td><strong>답변 전략</strong></td>
<td>✓ K1-K4별 차별화</td>
<td>✗ 동일한 방식</td>
</tr>
<tr>
<td><strong>학습 관찰</strong></td>
<td>✓ Observer 요약</td>
<td>✓ Observer 요약 (동일)</td>
</tr>
<tr>
<td><strong>학생 경험</strong></td>
<td>"왜 자꾸 물어봐?"</td>
<td>"빠른 답변!"</td>
</tr>
</tbody>
</table>
<h4 id="chapters-03-system-design-ab">실험 설계: A/B 테스트<a class="headerlink" href="#chapters-03-system-design-ab" title="Permanent link">&para;</a></h4>
<p><strong>무작위 배정</strong>:
- 학생 59명을 무작위로 Agent(30명) / Freepass(29명) 배정
- 학생은 자신이 어느 모드인지 모름
- 모드는 세션 전체 동안 고정 (중간에 변경 안 됨)</p>
<p><strong>대조군의 중요성</strong>:
- Agent 모드의 효과를 <strong>인과적으로 입증</strong>
- 선택 편향(selection bias) 제거
- "명료화가 정말 도움이 되는가?" 검증</p>
<h4 id="chapters-03-system-design-6">실험 결과 (6장에서 상세 분석)<a class="headerlink" href="#chapters-03-system-design-6" title="Permanent link">&para;</a></h4>
<p><strong>단일 세션 비교</strong>:
- Agent: 평균 11.22점 (15점 만점)
- Freepass: 평균 11.53점
- → Agent가 약간 낮음 (명료화로 인한 시간 소요)</p>
<p><strong>학습 진행 (다회 세션) 비교</strong>:
- Agent: 세션 증가폭 +0.45점
- Freepass: 세션 증가폭 -0.39점
- → Agent가 학습 진행에서 우수함 ✅</p>
<p><strong>하위권 학생 (Q1) 비교</strong>:
- Agent: 세션 증가폭 -0.585점
- Freepass: 세션 증가폭 -0.716점
- → Agent가 더 효과적 (Cohen's d ≈ 0.38)</p>
<p><strong>핵심 발견</strong>: 명료화 프로세스는 **단일 세션에서는 느리지만, 장기적 학습 효과는 우수**하다.</p>
<blockquote>
<p><strong>구현 상세</strong>: FreeTalker의 프롬프트 및 A/B 테스트 무작위 배정 로직은 4.2절에서 다룬다.</p>
</blockquote>
<hr />
<p><strong>3장 요약</strong>: 5개 에이전트(Classifier, Question Improvement, Answer Generator, Observer, FreeTalker)의 교육적 역할과 협업 방식을 살펴보았다. 다음 4장에서는 이러한 에이전트들을 실제로 어떻게 구현했는지, 기술 스택과 코드 구조를 상세히 다룬다.</p>
<h2 id="chapters-03-system-design-34">3.4 질문 품질 평가 루브릭<a class="headerlink" href="#chapters-03-system-design-34" title="Permanent link">&para;</a></h2>
<p>앞서 설명한 에이전트 시스템이 학생 질문과 AI 답변을 얼마나 잘 개선하는지 측정하기 위해, 본 연구는 **3영역 15점 만점의 자동 평가 루브릭**을 개발하였다.</p>
<h3 id="chapters-03-system-design-341">3.4.1 루브릭 설계 원칙<a class="headerlink" href="#chapters-03-system-design-341" title="Permanent link">&para;</a></h3>
<p><strong>이론적 기반</strong>:
- King(1994)의 질문 생성 연구: 학생 생성 질문이 깊이 있는 이해를 촉진
- Graesser &amp; Person(1994)의 질문 인지적 수준 분류
- Dewey의 반성적 사고 5단계</p>
<p><strong>4대 평가 기준</strong>:
1. <strong>맥락 제공</strong>: 학습 수준, 단원, 어려움 영역 명시
2. <strong>명확성</strong>: 핵심 질문의 단일성, 논리적 구조
3. <strong>적절성</strong>: 수학 교과 관련성, 수준 정합성
4. <strong>학습 관련성</strong>: 구체적 학습 목표, 선수 학습 연결</p>
<h3 id="chapters-03-system-design-342-3-15">3.4.2 3영역 평가 구조 (총 15점 만점)<a class="headerlink" href="#chapters-03-system-design-342-3-15" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>평가 영역</th>
<th>점수</th>
<th>평가 대상</th>
<th>의미</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 점수</strong></td>
<td>0-5점</td>
<td>학생 질문의 최종 품질</td>
<td>4대 기준 충족도</td>
</tr>
<tr>
<td><strong>답변 점수</strong></td>
<td>1-5점</td>
<td>AI 답변의 교육적 적절성</td>
<td>맥락 이해, 표준 용어, 정보량</td>
</tr>
<tr>
<td><strong>학습 지원 점수</strong></td>
<td>1-5점</td>
<td>명료화 과정의 교육성</td>
<td>Dewey 5단계 구현</td>
</tr>
</tbody>
</table>
<p><strong>평가 예시</strong>:
- <strong>13-15점</strong> (우수): "n² &lt; 2ⁿ 귀납법 증명에서 2^k+2k+1 &lt; 2^(k+1) 증명이 막혀요"
  - 질문 5 + 답변 5 + 학습 지원 5
- <strong>7-9점</strong> (보통): "수학적 귀납법이 뭐야?" → 명료화 후 개선
  - 질문 3 + 답변 4 + 학습 지원 3
- <strong>1-3점</strong> (미흡): "로블록스" (비수학적)
  - 질문 0 + 답변 1 + 학습 지원 1</p>
<p><strong>자동 채점 검증</strong>: AI 자동 평가와 교사 평가 간 상관계수 0.66 (p&lt;0.001), 강한 양의 상관관계 확인.</p>
<h2 id="chapters-03-system-design-35">3.5 명료화 프로세스 요약<a class="headerlink" href="#chapters-03-system-design-35" title="Permanent link">&para;</a></h2>
<p>본 절에서는 3.3.2절에서 상세히 다룬 명료화 프로세스의 핵심을 요약한다.</p>
<h3 id="chapters-03-system-design-351">3.5.1 핵심 메커니즘<a class="headerlink" href="#chapters-03-system-design-351" title="Permanent link">&para;</a></h3>
<p><strong>3단계 게이팅</strong>:
1. <strong>answerable</strong> → 즉시 답변
2. <strong>needs_clarify</strong> → 명료화 프로세스
3. <strong>unanswerable</strong> → 정중한 안내</p>
<p><strong>Dewey 5단계 매핑</strong>:
- 1단계 (문제 인식) → "무엇이 불확실한가요?"
- 2단계 (문제 정의) → "정확히 무엇을 알고 싶은가요?"
- 3단계 (가설 설정) → "어떤 방법을 시도해봤나요?"
- 4단계 (가설 검증) → "논리적 연결을 어떻게 보나요?"
- 5단계 (결론 도출) → "최종적으로 무엇을 얻고 싶나요?"</p>
<h3 id="chapters-03-system-design-352-3">3.5.2 3단계 차별화 전략<a class="headerlink" href="#chapters-03-system-design-352-3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Stage 1</strong> (Quick Scope): 1-2단어 질문 → 선택지 제공 (1회)</li>
<li><strong>Stage 2</strong> (Specific Clarify): 3-5단어 질문 → 세부 정보 1-2개 (1-2회)</li>
<li><strong>Stage 3</strong> (Deep Inquiry): 의도 불명확 → Dewey 5단계 적용 (2-3회)</li>
</ul>
<p><strong>교육적 의도 명시</strong>: "질문을 구체화하면 딱 맞는 설명을 드릴 수 있어요!"</p>
<h3 id="chapters-03-system-design-353">3.5.3 검증 결과<a class="headerlink" href="#chapters-03-system-design-353" title="Permanent link">&para;</a></h3>
<ul>
<li>교육적 가치: 4.&#8536;점</li>
<li>재사용 의향: 4.&#8536;점</li>
<li>평균 명료화 횟수: 1.8회 (3회 제한 내)</li>
<li>질문 품질 향상: 3.2점 → 4.7점 (46% 증가)</li>
</ul>
<hr />
<p><strong>다음 장 예고</strong>: 4장에서는 3장에서 설명한 아키텍처를 실제로 구현한 기술 스택, 코드 구조, 프롬프트 엔지니어링 기법을 상세히 다룬다.</p></section><section class="print-page" id="chapters-04-system-implementation" heading-number="2.4"><h1 id="chapters-04-system-implementation-4-maice">4. MAICE 시스템 구현<a class="headerlink" href="#chapters-04-system-implementation-4-maice" title="Permanent link">&para;</a></h1>
<div class="admonition abstract">
<p class="admonition-title">4장 개요</p>
<p>3장에서 설명한 MAICE 교육 시스템 아키텍처를 실제로 구현한 기술 스택, 프롬프트 엔지니어링, 통신 메커니즘, 배포 전략을 상세히 다룬다. 본 장은 시스템의 **재현 가능성(reproducibility)**과 **확장 가능성(scalability)**을 확보하기 위한 구현 결정 사항들을 기술한다.</p>
</div>
<hr />
<h2 id="chapters-04-system-implementation-41">4.1 기술 스택 선정<a class="headerlink" href="#chapters-04-system-implementation-41" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-411">4.1.1 전체 기술 스택 개요<a class="headerlink" href="#chapters-04-system-implementation-411" title="Permanent link">&para;</a></h3>
<p>MAICE 시스템은 교육적 효과와 기술적 안정성을 동시에 고려하여 다음과 같은 기술 스택으로 구현되었다:</p>
<pre class="mermaid"><code>graph TB
    subgraph "프론트엔드 계층"
        A[SvelteKit 2.0] --&gt; B[TypeScript 5.x]
        B --&gt; C[Tailwind CSS 4.x]
        C --&gt; D[MathLive 0.95]
    end

    subgraph "백엔드 계층"
        E[FastAPI 0.104] --&gt; F[SQLAlchemy 2.0]
        F --&gt; G[PostgreSQL 15]
        E --&gt; H[Redis 7.0]
    end

    subgraph "AI 에이전트 계층"
        I[Python 3.11] --&gt; J[Redis Streams]
        J --&gt; K[Gemini 2.5 Flash]
    end

    subgraph "인프라 계층"
        L[Docker Compose] --&gt; M[Nginx]
        M --&gt; N[Jenkins CI/CD]
    end

    A -.HTTP/SSE.-&gt; E
    E -.Redis Streams.-&gt; I
    I -.PostgreSQL.-&gt; G</code></pre>
<h3 id="chapters-04-system-implementation-412">4.1.2 기술 선정 근거<a class="headerlink" href="#chapters-04-system-implementation-412" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-sveltekit-20"><strong>프론트엔드: SvelteKit 2.0</strong><a class="headerlink" href="#chapters-04-system-implementation-sveltekit-20" title="Permanent link">&para;</a></h4>
<p><strong>선정 이유</strong>:
- <strong>반응성</strong>: Svelte의 컴파일러 기반 반응성 시스템으로 실시간 스트리밍 UI 구현에 최적
- <strong>번들 크기</strong>: React 대비 40% 작은 번들 크기로 학교 네트워크 환경에서도 빠른 로딩
- <strong>SSE 지원</strong>: Server-Sent Events를 통한 실시간 스트리밍 답변에 최적화</p>
<p><strong>주요 라이브러리</strong>:
- <strong>MathLive 0.95</strong>: 수학 수식 입력 및 렌더링
  - LaTeX 실시간 미리보기
  - 모바일 터치 입력 지원
  - 키보드 단축키 (예: <code>^</code> → 지수, <code>\frac</code> → 분수)</p>
<ul>
<li><strong>Tailwind CSS 4.x</strong>: 디자인 시스템 구축</li>
<li>일관된 UI 컴포넌트 스타일</li>
<li>다크/라이트 모드 지원</li>
<li>반응형 레이아웃 (모바일, 태블릿, 데스크톱)</li>
</ul>
<h4 id="chapters-04-system-implementation-fastapi-postgresql"><strong>백엔드: FastAPI + PostgreSQL</strong><a class="headerlink" href="#chapters-04-system-implementation-fastapi-postgresql" title="Permanent link">&para;</a></h4>
<p><strong>FastAPI 선정 이유</strong>:
- <strong>비동기 I/O</strong>: 수백 개의 동시 세션 처리 가능
- <strong>타입 안정성</strong>: Pydantic 모델을 통한 데이터 검증
- <strong>SSE 지원</strong>: <code>EventSourceResponse</code>를 통한 스트리밍 구현
- <strong>성능</strong>: Node.js 대비 2배, Django 대비 3배 빠른 응답 속도</p>
<p><strong>PostgreSQL 선정 이유</strong>:
- <strong>JSON 지원</strong>: 대화 히스토리, 프롬프트 로그를 JSON으로 저장
- <strong>ACID 보장</strong>: 학생 데이터 무결성 보장
- <strong>복잡한 쿼리</strong>: 학습 진척도 분석, 통계 추출에 최적</p>
<p><strong>데이터 모델 예시</strong>:
<div class="language-python highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-04-system-implementation-__codelineno-0-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">Session</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#chapters-04-system-implementation-__codelineno-0-2"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;sessions&quot;</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#chapters-04-system-implementation-__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#chapters-04-system-implementation-__codelineno-0-4"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">UUID</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#chapters-04-system-implementation-__codelineno-0-5"></a>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">UUID</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#chapters-04-system-implementation-__codelineno-0-6"></a>    <span class="n">mode</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;agent&quot;</span><span class="p">,</span> <span class="s2">&quot;freepass&quot;</span><span class="p">))</span>  <span class="c1"># A/B 테스트</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#chapters-04-system-implementation-__codelineno-0-7"></a>    <span class="n">conversation</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>  <span class="c1"># 전체 대화 히스토리</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#chapters-04-system-implementation-__codelineno-0-8"></a>    <span class="n">created_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">)</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#chapters-04-system-implementation-__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#chapters-04-system-implementation-__codelineno-0-10"></a><span class="k">class</span><span class="w"> </span><span class="nc">LLMPromptLog</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#chapters-04-system-implementation-__codelineno-0-11"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;llm_prompt_logs&quot;</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#chapters-04-system-implementation-__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#chapters-04-system-implementation-__codelineno-0-13"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">UUID</span><span class="p">,</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#chapters-04-system-implementation-__codelineno-0-14"></a>    <span class="n">agent_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>  <span class="c1"># classifier, answer_generator 등</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#chapters-04-system-implementation-__codelineno-0-15"></a>    <span class="n">prompt</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>  <span class="c1"># 실제 전송된 프롬프트</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#chapters-04-system-implementation-__codelineno-0-16"></a>    <span class="n">response</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>  <span class="c1"># LLM 응답</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#chapters-04-system-implementation-__codelineno-0-17"></a>    <span class="n">session_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">UUID</span><span class="p">,</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;sessions.id&quot;</span><span class="p">))</span>
</span></code></pre></div></p>
<h4 id="chapters-04-system-implementation-ai-python-redis-streams"><strong>AI 에이전트: Python + Redis Streams</strong><a class="headerlink" href="#chapters-04-system-implementation-ai-python-redis-streams" title="Permanent link">&para;</a></h4>
<p><strong>Redis Streams 선정 이유</strong>:
- <strong>메시지 큐</strong>: 백엔드 ↔ 에이전트 간 비동기 통신
- <strong>멀티프로세스</strong>: 각 에이전트를 독립 프로세스로 실행
- <strong>재시도 로직</strong>: 에이전트 장애 시 자동 재시도
- <strong>순서 보장</strong>: FIFO 순서로 메시지 처리</p>
<p><strong>통신 흐름</strong>:
<pre class="mermaid"><code>sequenceDiagram
    participant B as Backend
    participant R as Redis Streams
    participant C as Classifier Agent
    participant Q as Question Improvement
    participant A as Answer Generator

    B-&gt;&gt;R: XADD question_stream {질문}
    R-&gt;&gt;C: XREAD classifier_consumer
    C-&gt;&gt;R: XADD response_stream {분류 결과}
    R-&gt;&gt;Q: XREAD (needs_clarify인 경우)
    Q-&gt;&gt;R: XADD response_stream {명료화 질문}
    R-&gt;&gt;A: XREAD (answerable인 경우)
    A-&gt;&gt;R: XADD response_stream {최종 답변}
    R-&gt;&gt;B: XREAD backend_consumer</code></pre></p>
<h4 id="chapters-04-system-implementation-llm-gemini-25-flash"><strong>LLM 모델: Gemini 2.5 Flash</strong><a class="headerlink" href="#chapters-04-system-implementation-llm-gemini-25-flash" title="Permanent link">&para;</a></h4>
<p><strong>선정 이유</strong>:
- <strong>한국어 성능</strong>: GPT-4o 대비 수학 교육 용어 이해도 우수
- <strong>속도</strong>: 평균 응답 시간 2.3초 (GPT-4o: 4.1초)
- <strong>비용 효율</strong>: GPT-4o 대비 80% 저렴
- <strong>긴 컨텍스트</strong>: 1M 토큰 지원으로 전체 대화 히스토리 유지</p>
<p><strong>전체 에이전트 구성</strong>:
| Agent | 모델 | 역할 | 평균 프롬프트 길이 |
|-------|------|------|-------------------|
| classifier_llm | gemini-2.5-flash-lite | K1-K4 분류, 명료화 질문 생성 | 7,364자 |
| question_improvement_llm | gemini-2.5-flash-lite | 명료화 완료 평가 | 6,471자 |
| answer_generator_llm | gemini-2.5-flash-lite | 유형별 맞춤 답변 생성 | 7,554자 |
| observer_llm | gemini-2.5-flash-lite | 학습 요약, 세션 제목 생성 | 7,522자 |
| freetalker_llm | gemini-2.5-flash-lite | 즉시 답변 (대조군) | 9,790자 |</p>
<hr />
<h2 id="chapters-04-system-implementation-42">4.2 프롬프트 엔지니어링<a class="headerlink" href="#chapters-04-system-implementation-42" title="Permanent link">&para;</a></h2>
<p>3장에서 설명한 5개 에이전트의 교육적 역할을 실제로 구현하기 위한 프롬프트 설계 원칙과 구체적인 구현 내용을 다룬다.</p>
<h3 id="chapters-04-system-implementation-421">4.2.1 프롬프트 설계 원칙<a class="headerlink" href="#chapters-04-system-implementation-421" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-1"><strong>원칙 1: 교육적 기반 우선</strong><a class="headerlink" href="#chapters-04-system-implementation-1" title="Permanent link">&para;</a></h4>
<p>모든 프롬프트는 단순한 기술적 지시가 아닌 **교육학적 근거**를 바탕으로 설계되었다:</p>
<ul>
<li><strong>Dewey의 반성적 사고 5단계</strong>: 명료화 질문 생성 템플릿</li>
<li><strong>Bloom의 교육 목표 분류학</strong>: K1-K4 지식 유형 분류 기준</li>
<li><strong>2015 개정 교육과정</strong>: 고등학교 수학 표준 용어 및 성취기준</li>
</ul>
<h4 id="chapters-04-system-implementation-2"><strong>원칙 2: 구조화된 출력</strong><a class="headerlink" href="#chapters-04-system-implementation-2" title="Permanent link">&para;</a></h4>
<p>모든 에이전트는 JSON 형식으로 응답하여 **시스템 간 데이터 교환**과 **재현 가능성**을 보장한다:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#chapters-04-system-implementation-__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#chapters-04-system-implementation-__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;knowledge_code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;K1/K2/K3/K4&quot;</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#chapters-04-system-implementation-__codelineno-1-3"></a><span class="w">  </span><span class="nt">&quot;quality&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;answerable/needs_clarify/unanswerable&quot;</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#chapters-04-system-implementation-__codelineno-1-4"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;판단 근거&quot;</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#chapters-04-system-implementation-__codelineno-1-5"></a><span class="w">  </span><span class="nt">&quot;clarification_questions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;명료화 질문&quot;</span><span class="p">],</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#chapters-04-system-implementation-__codelineno-1-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#chapters-04-system-implementation-__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;missing_fields&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;부족한 정보&quot;</span><span class="p">],</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#chapters-04-system-implementation-__codelineno-1-8"></a><span class="w">    </span><span class="nt">&quot;student_level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;추정 학습 수준&quot;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#chapters-04-system-implementation-__codelineno-1-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#chapters-04-system-implementation-__codelineno-1-10"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-3"><strong>원칙 3: 투명성과 설명 가능성</strong><a class="headerlink" href="#chapters-04-system-implementation-3" title="Permanent link">&para;</a></h4>
<p>모든 판단에 대해 <strong><code>reasoning</code></strong> 필드를 통해 근거를 제시하여:
- 연구자가 AI의 판단 과정을 추적 가능
- 교사가 시스템의 교육적 적절성을 검증 가능
- 시스템 개선 시 병목 지점 파악 용이</p>
<h3 id="chapters-04-system-implementation-422-classifier-agent">4.2.2 Classifier Agent 프롬프트 구현<a class="headerlink" href="#chapters-04-system-implementation-422-classifier-agent" title="Permanent link">&para;</a></h3>
<p>3장 3.3.1에서 설명한 Classifier Agent의 역할을 구현한 실제 프롬프트 구조는 다음과 같다:</p>
<h4 id="chapters-04-system-implementation-system-7364"><strong>System 프롬프트 (7,364자)</strong><a class="headerlink" href="#chapters-04-system-implementation-system-7364" title="Permanent link">&para;</a></h4>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#chapters-04-system-implementation-__codelineno-2-1"></a><span class="n">CLASSIFIER_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#chapters-04-system-implementation-__codelineno-2-2"></a><span class="s2">당신은 대한민국 고등학교 수학 교육과정 전문 분류기입니다.</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#chapters-04-system-implementation-__codelineno-2-3"></a><span class="s2">질문을 정확히 분석하여 4가지 유형과 3단계 품질로 분류하고, </span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#chapters-04-system-implementation-__codelineno-2-4"></a><span class="s2">필요한 경우 **학생에게 직접 묻는** 명료화 질문까지 생성하세요.</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#chapters-04-system-implementation-__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#chapters-04-system-implementation-__codelineno-2-6"></a><span class="s2">## 1. 질문 유형 분류 (K1-K4)</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#chapters-04-system-implementation-__codelineno-2-7"></a>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#chapters-04-system-implementation-__codelineno-2-8"></a><span class="s2">### K1: 사실적 지식 (Factual Knowledge)</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#chapters-04-system-implementation-__codelineno-2-9"></a><span class="s2">- **정의**: 정의, 용어, 기호, 공식, 특정 값, 단위</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#chapters-04-system-implementation-__codelineno-2-10"></a><span class="s2">- **예시**: &quot;로그함수가 뭐야?&quot;, &quot;삼각함수 sin의 정의는?&quot;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#chapters-04-system-implementation-__codelineno-2-11"></a><span class="s2">- **특징**: 즉답형으로 해결 가능, 단순 암기 지식</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#chapters-04-system-implementation-__codelineno-2-12"></a>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#chapters-04-system-implementation-__codelineno-2-13"></a><span class="s2">### K2: 개념적 지식 (Conceptual Knowledge)</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#chapters-04-system-implementation-__codelineno-2-14"></a><span class="s2">- **정의**: 개념들 간의 관계, 분류, 원리, 이론적 이해</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#chapters-04-system-implementation-__codelineno-2-15"></a><span class="s2">- **예시**: &quot;로그와 지수의 관계는?&quot;, &quot;삼각함수 간의 관계&quot;</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#chapters-04-system-implementation-__codelineno-2-16"></a><span class="s2">- **특징**: 연결성과 관계 이해 필요</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#chapters-04-system-implementation-__codelineno-2-17"></a>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#chapters-04-system-implementation-__codelineno-2-18"></a><span class="s2">### K3: 절차적 지식 (Procedural Knowledge)</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#chapters-04-system-implementation-__codelineno-2-19"></a><span class="s2">- **정의**: 특정 문제를 단계별로 해결하는 방법, 알고리즘</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#chapters-04-system-implementation-__codelineno-2-20"></a><span class="s2">- **예시**: &quot;이차방정식 풀이 방법&quot;, &quot;적분 계산 과정&quot;</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#chapters-04-system-implementation-__codelineno-2-21"></a><span class="s2">- **특징**: 순차적 절차 수행 능력 요구</span>
</span><span id="__span-2-22"><a id="__codelineno-2-22" name="__codelineno-2-22" href="#chapters-04-system-implementation-__codelineno-2-22"></a>
</span><span id="__span-2-23"><a id="__codelineno-2-23" name="__codelineno-2-23" href="#chapters-04-system-implementation-__codelineno-2-23"></a><span class="s2">### K4: 메타인지적 지식 (Metacognitive Knowledge)</span>
</span><span id="__span-2-24"><a id="__codelineno-2-24" name="__codelineno-2-24" href="#chapters-04-system-implementation-__codelineno-2-24"></a><span class="s2">- **정의**: 문제 해결 전략, 사고 과정, 접근 방법</span>
</span><span id="__span-2-25"><a id="__codelineno-2-25" name="__codelineno-2-25" href="#chapters-04-system-implementation-__codelineno-2-25"></a><span class="s2">- **예시**: &quot;복잡한 문제 접근 방법&quot;, &quot;어디서 막혔는지 모르겠어요&quot;</span>
</span><span id="__span-2-26"><a id="__codelineno-2-26" name="__codelineno-2-26" href="#chapters-04-system-implementation-__codelineno-2-26"></a><span class="s2">- **특징**: 자기 이해와 전략적 사고 필요</span>
</span><span id="__span-2-27"><a id="__codelineno-2-27" name="__codelineno-2-27" href="#chapters-04-system-implementation-__codelineno-2-27"></a>
</span><span id="__span-2-28"><a id="__codelineno-2-28" name="__codelineno-2-28" href="#chapters-04-system-implementation-__codelineno-2-28"></a><span class="s2">## 2. 품질 단계 (3-Stage Gating)</span>
</span><span id="__span-2-29"><a id="__codelineno-2-29" name="__codelineno-2-29" href="#chapters-04-system-implementation-__codelineno-2-29"></a>
</span><span id="__span-2-30"><a id="__codelineno-2-30" name="__codelineno-2-30" href="#chapters-04-system-implementation-__codelineno-2-30"></a><span class="s2">### answerable (즉시 답변 가능)</span>
</span><span id="__span-2-31"><a id="__codelineno-2-31" name="__codelineno-2-31" href="#chapters-04-system-implementation-__codelineno-2-31"></a><span class="s2">- 교과/단원/수준이 명확히 지정됨</span>
</span><span id="__span-2-32"><a id="__codelineno-2-32" name="__codelineno-2-32" href="#chapters-04-system-implementation-__codelineno-2-32"></a><span class="s2">- 질문의 목표가 분명함</span>
</span><span id="__span-2-33"><a id="__codelineno-2-33" name="__codelineno-2-33" href="#chapters-04-system-implementation-__codelineno-2-33"></a><span class="s2">- 답변 생성에 필요한 충분한 정보 제공</span>
</span><span id="__span-2-34"><a id="__codelineno-2-34" name="__codelineno-2-34" href="#chapters-04-system-implementation-__codelineno-2-34"></a>
</span><span id="__span-2-35"><a id="__codelineno-2-35" name="__codelineno-2-35" href="#chapters-04-system-implementation-__codelineno-2-35"></a><span class="s2">### needs_clarify (명료화 필요)</span>
</span><span id="__span-2-36"><a id="__codelineno-2-36" name="__codelineno-2-36" href="#chapters-04-system-implementation-__codelineno-2-36"></a><span class="s2">- 질문 범위가 과대하거나 모호함</span>
</span><span id="__span-2-37"><a id="__codelineno-2-37" name="__codelineno-2-37" href="#chapters-04-system-implementation-__codelineno-2-37"></a><span class="s2">- 질문의 의도나 목표가 불분명함</span>
</span><span id="__span-2-38"><a id="__codelineno-2-38" name="__codelineno-2-38" href="#chapters-04-system-implementation-__codelineno-2-38"></a><span class="s2">- 추가 정보가 필요함</span>
</span><span id="__span-2-39"><a id="__codelineno-2-39" name="__codelineno-2-39" href="#chapters-04-system-implementation-__codelineno-2-39"></a>
</span><span id="__span-2-40"><a id="__codelineno-2-40" name="__codelineno-2-40" href="#chapters-04-system-implementation-__codelineno-2-40"></a><span class="s2">### unanswerable (답변 불가)</span>
</span><span id="__span-2-41"><a id="__codelineno-2-41" name="__codelineno-2-41" href="#chapters-04-system-implementation-__codelineno-2-41"></a><span class="s2">- 수학 외 영역의 질문</span>
</span><span id="__span-2-42"><a id="__codelineno-2-42" name="__codelineno-2-42" href="#chapters-04-system-implementation-__codelineno-2-42"></a><span class="s2">- 평가 윤리를 위배하는 질문 (시험 문제 풀이 요청 등)</span>
</span><span id="__span-2-43"><a id="__codelineno-2-43" name="__codelineno-2-43" href="#chapters-04-system-implementation-__codelineno-2-43"></a>
</span><span id="__span-2-44"><a id="__codelineno-2-44" name="__codelineno-2-44" href="#chapters-04-system-implementation-__codelineno-2-44"></a><span class="s2">## 3. 명료화 질문 생성 원칙</span>
</span><span id="__span-2-45"><a id="__codelineno-2-45" name="__codelineno-2-45" href="#chapters-04-system-implementation-__codelineno-2-45"></a>
</span><span id="__span-2-46"><a id="__codelineno-2-46" name="__codelineno-2-46" href="#chapters-04-system-implementation-__codelineno-2-46"></a><span class="s2">🚨 **매우 중요**: 명료화 질문은 **학생이 직접 읽고 답변할 수 있는 </span>
</span><span id="__span-2-47"><a id="__codelineno-2-47" name="__codelineno-2-47" href="#chapters-04-system-implementation-__codelineno-2-47"></a><span class="s2">자연스러운 질문**이어야 합니다!</span>
</span><span id="__span-2-48"><a id="__codelineno-2-48" name="__codelineno-2-48" href="#chapters-04-system-implementation-__codelineno-2-48"></a>
</span><span id="__span-2-49"><a id="__codelineno-2-49" name="__codelineno-2-49" href="#chapters-04-system-implementation-__codelineno-2-49"></a><span class="s2">### 잘못된 예시 (시스템 분석)</span>
</span><span id="__span-2-50"><a id="__codelineno-2-50" name="__codelineno-2-50" href="#chapters-04-system-implementation-__codelineno-2-50"></a><span class="s2">❌ &quot;&#39;나&#39;라는 답변이 구체적으로 무엇을 의미하는지 확인 필요&quot;</span>
</span><span id="__span-2-51"><a id="__codelineno-2-51" name="__codelineno-2-51" href="#chapters-04-system-implementation-__codelineno-2-51"></a><span class="s2">❌ &quot;학생이 어느 단원을 학습 중인지 파악해야 함&quot;</span>
</span><span id="__span-2-52"><a id="__codelineno-2-52" name="__codelineno-2-52" href="#chapters-04-system-implementation-__codelineno-2-52"></a>
</span><span id="__span-2-53"><a id="__codelineno-2-53" name="__codelineno-2-53" href="#chapters-04-system-implementation-__codelineno-2-53"></a><span class="s2">### 올바른 예시 (학생에게 직접 묻기)</span>
</span><span id="__span-2-54"><a id="__codelineno-2-54" name="__codelineno-2-54" href="#chapters-04-system-implementation-__codelineno-2-54"></a><span class="s2">✅ &quot;어떤 부분이 더 궁금하신가요? 😊&quot;</span>
</span><span id="__span-2-55"><a id="__codelineno-2-55" name="__codelineno-2-55" href="#chapters-04-system-implementation-__codelineno-2-55"></a><span class="s2">✅ &quot;지금 배우고 있는 단원이 무엇인가요?&quot;</span>
</span><span id="__span-2-56"><a id="__codelineno-2-56" name="__codelineno-2-56" href="#chapters-04-system-implementation-__codelineno-2-56"></a>
</span><span id="__span-2-57"><a id="__codelineno-2-57" name="__codelineno-2-57" href="#chapters-04-system-implementation-__codelineno-2-57"></a><span class="s2">### Dewey의 반성적 사고 5단계 기반 질문 전략</span>
</span><span id="__span-2-58"><a id="__codelineno-2-58" name="__codelineno-2-58" href="#chapters-04-system-implementation-__codelineno-2-58"></a>
</span><span id="__span-2-59"><a id="__codelineno-2-59" name="__codelineno-2-59" href="#chapters-04-system-implementation-__codelineno-2-59"></a><span class="s2">**1단계: 문제 상황 인식 지원**</span>
</span><span id="__span-2-60"><a id="__codelineno-2-60" name="__codelineno-2-60" href="#chapters-04-system-implementation-__codelineno-2-60"></a><span class="s2">- &quot;이 개념을 공부하면서 어떤 부분이 가장 어렵거나 궁금하셨나요? 🤔&quot;</span>
</span><span id="__span-2-61"><a id="__codelineno-2-61" name="__codelineno-2-61" href="#chapters-04-system-implementation-__codelineno-2-61"></a><span class="s2">- &quot;문제를 보았을 때 어떤 감정이나 느낌이 들었나요?&quot;</span>
</span><span id="__span-2-62"><a id="__codelineno-2-62" name="__codelineno-2-62" href="#chapters-04-system-implementation-__codelineno-2-62"></a>
</span><span id="__span-2-63"><a id="__codelineno-2-63" name="__codelineno-2-63" href="#chapters-04-system-implementation-__codelineno-2-63"></a><span class="s2">**2단계: 문제 정의 지원**</span>
</span><span id="__span-2-64"><a id="__codelineno-2-64" name="__codelineno-2-64" href="#chapters-04-system-implementation-__codelineno-2-64"></a><span class="s2">- &quot;지금까지 이해한 부분과 아직 헷갈리는 부분을 나누어볼까요?&quot;</span>
</span><span id="__span-2-65"><a id="__codelineno-2-65" name="__codelineno-2-65" href="#chapters-04-system-implementation-__codelineno-2-65"></a><span class="s2">- &quot;정확히 어떤 부분이 궁금하신가요?&quot;</span>
</span><span id="__span-2-66"><a id="__codelineno-2-66" name="__codelineno-2-66" href="#chapters-04-system-implementation-__codelineno-2-66"></a>
</span><span id="__span-2-67"><a id="__codelineno-2-67" name="__codelineno-2-67" href="#chapters-04-system-implementation-__codelineno-2-67"></a><span class="s2">**3단계: 가설 설정 지원 (연결 탐색)**</span>
</span><span id="__span-2-68"><a id="__codelineno-2-68" name="__codelineno-2-68" href="#chapters-04-system-implementation-__codelineno-2-68"></a><span class="s2">- &quot;이미 알고 있는 개념과 비교하면 어떤 점이 비슷하거나 다른가요?&quot;</span>
</span><span id="__span-2-69"><a id="__codelineno-2-69" name="__codelineno-2-69" href="#chapters-04-system-implementation-__codelineno-2-69"></a><span class="s2">- &quot;지금까지 어떤 방법을 시도해봤나요?&quot;</span>
</span><span id="__span-2-70"><a id="__codelineno-2-70" name="__codelineno-2-70" href="#chapters-04-system-implementation-__codelineno-2-70"></a>
</span><span id="__span-2-71"><a id="__codelineno-2-71" name="__codelineno-2-71" href="#chapters-04-system-implementation-__codelineno-2-71"></a><span class="s2">**4단계: 가설 검증 지원 (사고 전개)**</span>
</span><span id="__span-2-72"><a id="__codelineno-2-72" name="__codelineno-2-72" href="#chapters-04-system-implementation-__codelineno-2-72"></a><span class="s2">- &quot;왜 이 부분이 궁금하신지 조금 더 설명해주실 수 있나요?&quot;</span>
</span><span id="__span-2-73"><a id="__codelineno-2-73" name="__codelineno-2-73" href="#chapters-04-system-implementation-__codelineno-2-73"></a><span class="s2">- &quot;어떤 접근 방법을 생각해봤나요?&quot;</span>
</span><span id="__span-2-74"><a id="__codelineno-2-74" name="__codelineno-2-74" href="#chapters-04-system-implementation-__codelineno-2-74"></a>
</span><span id="__span-2-75"><a id="__codelineno-2-75" name="__codelineno-2-75" href="#chapters-04-system-implementation-__codelineno-2-75"></a><span class="s2">**5단계: 결론 도출 지원 (이해 검증)**</span>
</span><span id="__span-2-76"><a id="__codelineno-2-76" name="__codelineno-2-76" href="#chapters-04-system-implementation-__codelineno-2-76"></a><span class="s2">- &quot;어디까지 이해했고, 어디서부터 막히셨는지 말씀해주실 수 있나요?&quot;</span>
</span><span id="__span-2-77"><a id="__codelineno-2-77" name="__codelineno-2-77" href="#chapters-04-system-implementation-__codelineno-2-77"></a><span class="s2">- &quot;이 문제를 해결한 후 어떤 것을 이해하게 되고 싶나요?&quot;</span>
</span><span id="__span-2-78"><a id="__codelineno-2-78" name="__codelineno-2-78" href="#chapters-04-system-implementation-__codelineno-2-78"></a>
</span><span id="__span-2-79"><a id="__codelineno-2-79" name="__codelineno-2-79" href="#chapters-04-system-implementation-__codelineno-2-79"></a><span class="s2">## 4. missing_fields 가이드라인</span>
</span><span id="__span-2-80"><a id="__codelineno-2-80" name="__codelineno-2-80" href="#chapters-04-system-implementation-__codelineno-2-80"></a>
</span><span id="__span-2-81"><a id="__codelineno-2-81" name="__codelineno-2-81" href="#chapters-04-system-implementation-__codelineno-2-81"></a><span class="s2">각 질문 유형별로 부족한 정보를 체계적으로 분류:</span>
</span><span id="__span-2-82"><a id="__codelineno-2-82" name="__codelineno-2-82" href="#chapters-04-system-implementation-__codelineno-2-82"></a>
</span><span id="__span-2-83"><a id="__codelineno-2-83" name="__codelineno-2-83" href="#chapters-04-system-implementation-__codelineno-2-83"></a><span class="s2">**K1**: [&#39;단원 정보&#39;, &#39;정확한 용어&#39;, &#39;맥락 정보&#39;]</span>
</span><span id="__span-2-84"><a id="__codelineno-2-84" name="__codelineno-2-84" href="#chapters-04-system-implementation-__codelineno-2-84"></a><span class="s2">**K2**: [&#39;비교 대상&#39;, &#39;설명 깊이&#39;, &#39;연결성&#39;]</span>
</span><span id="__span-2-85"><a id="__codelineno-2-85" name="__codelineno-2-85" href="#chapters-04-system-implementation-__codelineno-2-85"></a><span class="s2">**K3**: [&#39;문제 유형&#39;, &#39;주어진 조건&#39;, &#39;결과 형식&#39;]</span>
</span><span id="__span-2-86"><a id="__codelineno-2-86" name="__codelineno-2-86" href="#chapters-04-system-implementation-__codelineno-2-86"></a><span class="s2">**K4**: [&#39;문제 상황&#39;, &#39;시도한 전략&#39;, &#39;막힌 지점&#39;]</span>
</span><span id="__span-2-87"><a id="__codelineno-2-87" name="__codelineno-2-87" href="#chapters-04-system-implementation-__codelineno-2-87"></a>
</span><span id="__span-2-88"><a id="__codelineno-2-88" name="__codelineno-2-88" href="#chapters-04-system-implementation-__codelineno-2-88"></a><span class="s2">## 출력 형식</span>
</span><span id="__span-2-89"><a id="__codelineno-2-89" name="__codelineno-2-89" href="#chapters-04-system-implementation-__codelineno-2-89"></a>
</span><span id="__span-2-90"><a id="__codelineno-2-90" name="__codelineno-2-90" href="#chapters-04-system-implementation-__codelineno-2-90"></a><span class="s2">반드시 다음 JSON 형식으로만 응답하세요:</span>
</span><span id="__span-2-91"><a id="__codelineno-2-91" name="__codelineno-2-91" href="#chapters-04-system-implementation-__codelineno-2-91"></a>
</span><span id="__span-2-92"><a id="__codelineno-2-92" name="__codelineno-2-92" href="#chapters-04-system-implementation-__codelineno-2-92"></a><span class="s2">```json</span>
</span><span id="__span-2-93"><a id="__codelineno-2-93" name="__codelineno-2-93" href="#chapters-04-system-implementation-__codelineno-2-93"></a><span class="s2">{</span>
</span><span id="__span-2-94"><a id="__codelineno-2-94" name="__codelineno-2-94" href="#chapters-04-system-implementation-__codelineno-2-94"></a><span class="s2">  &quot;knowledge_code&quot;: &quot;K1/K2/K3/K4&quot;,</span>
</span><span id="__span-2-95"><a id="__codelineno-2-95" name="__codelineno-2-95" href="#chapters-04-system-implementation-__codelineno-2-95"></a><span class="s2">  &quot;quality&quot;: &quot;answerable/needs_clarify/unanswerable&quot;,</span>
</span><span id="__span-2-96"><a id="__codelineno-2-96" name="__codelineno-2-96" href="#chapters-04-system-implementation-__codelineno-2-96"></a><span class="s2">  &quot;missing_fields&quot;: [&quot;부족한 정보1&quot;, &quot;부족한 정보2&quot;],</span>
</span><span id="__span-2-97"><a id="__codelineno-2-97" name="__codelineno-2-97" href="#chapters-04-system-implementation-__codelineno-2-97"></a><span class="s2">  &quot;reasoning&quot;: &quot;실제 분류 근거를 상세히 작성&quot;,</span>
</span><span id="__span-2-98"><a id="__codelineno-2-98" name="__codelineno-2-98" href="#chapters-04-system-implementation-__codelineno-2-98"></a><span class="s2">  &quot;clarification_questions&quot;: [&quot;학생에게 직접 묻는 자연스러운 질문 1개&quot;],</span>
</span><span id="__span-2-99"><a id="__codelineno-2-99" name="__codelineno-2-99" href="#chapters-04-system-implementation-__codelineno-2-99"></a><span class="s2">  &quot;clarification_reasoning&quot;: &quot;명료화 질문이 해당 유형과 missing_fields를 어떻게 해결하는지&quot;,</span>
</span><span id="__span-2-100"><a id="__codelineno-2-100" name="__codelineno-2-100" href="#chapters-04-system-implementation-__codelineno-2-100"></a><span class="s2">  &quot;unanswerable_response&quot;: &quot;unanswerable인 경우에만 학생에게 보낼 안내 메시지&quot;</span>
</span><span id="__span-2-101"><a id="__codelineno-2-101" name="__codelineno-2-101" href="#chapters-04-system-implementation-__codelineno-2-101"></a><span class="s2">}</span>
</span></code></pre></div>
"""
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#chapters-04-system-implementation-__codelineno-3-1"></a>#### **User 프롬프트 구조**
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#chapters-04-system-implementation-__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#chapters-04-system-implementation-__codelineno-3-3"></a>```python
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#chapters-04-system-implementation-__codelineno-3-4"></a>def build_classifier_user_prompt(question: str, conversation_history: list) -&gt; str:
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#chapters-04-system-implementation-__codelineno-3-5"></a>    &quot;&quot;&quot;
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#chapters-04-system-implementation-__codelineno-3-6"></a>    Classifier Agent의 User 프롬프트를 동적으로 생성한다.
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#chapters-04-system-implementation-__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#chapters-04-system-implementation-__codelineno-3-8"></a>    Args:
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#chapters-04-system-implementation-__codelineno-3-9"></a>        question: 학생의 현재 질문
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#chapters-04-system-implementation-__codelineno-3-10"></a>        conversation_history: 이전 대화 히스토리 (선택적)
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#chapters-04-system-implementation-__codelineno-3-11"></a>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#chapters-04-system-implementation-__codelineno-3-12"></a>    Returns:
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#chapters-04-system-implementation-__codelineno-3-13"></a>        User 프롬프트 문자열
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#chapters-04-system-implementation-__codelineno-3-14"></a>    &quot;&quot;&quot;
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#chapters-04-system-implementation-__codelineno-3-15"></a>    prompt = f&quot;&quot;&quot;
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#chapters-04-system-implementation-__codelineno-3-16"></a>## 분석할 질문
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#chapters-04-system-implementation-__codelineno-3-17"></a>{question}
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#chapters-04-system-implementation-__codelineno-3-18"></a>&quot;&quot;&quot;
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#chapters-04-system-implementation-__codelineno-3-19"></a>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#chapters-04-system-implementation-__codelineno-3-20"></a>    # 대화 히스토리가 있는 경우 추가 (K4 유형 판단에 중요)
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#chapters-04-system-implementation-__codelineno-3-21"></a>    if conversation_history:
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#chapters-04-system-implementation-__codelineno-3-22"></a>        prompt += &quot;\n## 대화 히스토리\n&quot;
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#chapters-04-system-implementation-__codelineno-3-23"></a>        for msg in conversation_history:
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#chapters-04-system-implementation-__codelineno-3-24"></a>            prompt += f&quot;- {msg[&#39;role&#39;]}: {msg[&#39;content&#39;]}\n&quot;
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#chapters-04-system-implementation-__codelineno-3-25"></a>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#chapters-04-system-implementation-__codelineno-3-26"></a>    prompt += &quot;&quot;&quot;
</span><span id="__span-3-27"><a id="__codelineno-3-27" name="__codelineno-3-27" href="#chapters-04-system-implementation-__codelineno-3-27"></a>위 질문을 분석하여 JSON 형식으로 응답해주세요.
</span><span id="__span-3-28"><a id="__codelineno-3-28" name="__codelineno-3-28" href="#chapters-04-system-implementation-__codelineno-3-28"></a>&quot;&quot;&quot;
</span><span id="__span-3-29"><a id="__codelineno-3-29" name="__codelineno-3-29" href="#chapters-04-system-implementation-__codelineno-3-29"></a>    return prompt
</span></code></pre></div></p>
<h3 id="chapters-04-system-implementation-423-question-improvement-agent">4.2.3 Question Improvement Agent 프롬프트 구현<a class="headerlink" href="#chapters-04-system-implementation-423-question-improvement-agent" title="Permanent link">&para;</a></h3>
<p>3장 3.3.2에서 설명한 Question Improvement Agent의 역할을 구현한 실제 프롬프트 구조:</p>
<h4 id="chapters-04-system-implementation-_1"><strong>핵심 평가 로직</strong><a class="headerlink" href="#chapters-04-system-implementation-_1" title="Permanent link">&para;</a></h4>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#chapters-04-system-implementation-__codelineno-4-1"></a><span class="n">QUESTION_IMPROVEMENT_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#chapters-04-system-implementation-__codelineno-4-2"></a><span class="s2">당신은 명료화 과정을 평가하는 전문가입니다.</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#chapters-04-system-implementation-__codelineno-4-3"></a><span class="s2">학생의 답변을 보고 **원본 질문이 충분히 명료해졌는지** 판단하세요.</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#chapters-04-system-implementation-__codelineno-4-4"></a>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#chapters-04-system-implementation-__codelineno-4-5"></a><span class="s2">## 평가 목적</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#chapters-04-system-implementation-__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#chapters-04-system-implementation-__codelineno-4-7"></a><span class="s2">1. 명료화 질문-답변을 통해 원본 질문의 의도가 명확해졌는가?</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#chapters-04-system-implementation-__codelineno-4-8"></a><span class="s2">2. 학생의 답변에 따라 질문 유형이 변경되었는가? (K1→K2 등)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#chapters-04-system-implementation-__codelineno-4-9"></a><span class="s2">3. 답변 생성이 가능한 수준의 정보가 확보되었는가?</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#chapters-04-system-implementation-__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#chapters-04-system-implementation-__codelineno-4-11"></a><span class="s2">## 평가 기준</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#chapters-04-system-implementation-__codelineno-4-12"></a>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#chapters-04-system-implementation-__codelineno-4-13"></a><span class="s2">### PASS (명료화 완료)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#chapters-04-system-implementation-__codelineno-4-14"></a><span class="s2">✅ 원본 질문의 의도가 명확해짐</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#chapters-04-system-implementation-__codelineno-4-15"></a><span class="s2">✅ 답변 생성에 필요한 정보 충분</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#chapters-04-system-implementation-__codelineno-4-16"></a><span class="s2">✅ 학생이 구체적이고 명확한 답변을 제공함</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#chapters-04-system-implementation-__codelineno-4-17"></a>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#chapters-04-system-implementation-__codelineno-4-18"></a><span class="s2">### NEED_MORE (추가 명료화 필요)</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#chapters-04-system-implementation-__codelineno-4-19"></a><span class="s2">❌ 원본 질문의 의도가 여전히 불분명</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#chapters-04-system-implementation-__codelineno-4-20"></a><span class="s2">❌ 답변 생성에 필요한 정보 부족</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#chapters-04-system-implementation-__codelineno-4-21"></a><span class="s2">❌ 학생의 답변이 모호하거나 불충분함</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#chapters-04-system-implementation-__codelineno-4-22"></a>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#chapters-04-system-implementation-__codelineno-4-23"></a><span class="s2">## 명료화 생략 기준 (중요!)</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#chapters-04-system-implementation-__codelineno-4-24"></a>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#chapters-04-system-implementation-__codelineno-4-25"></a><span class="s2">다음 경우에는 **즉시 PASS**로 판정하여 불필요한 명료화를 방지:</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#chapters-04-system-implementation-__codelineno-4-26"></a>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#chapters-04-system-implementation-__codelineno-4-27"></a><span class="s2">1. **원본 질문이 이미 충분히 구체적인 경우**</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#chapters-04-system-implementation-__codelineno-4-28"></a><span class="s2">   - 예: &quot;이차함수의 꼭짓점 공식을 알려주세요&quot;</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#chapters-04-system-implementation-__codelineno-4-29"></a>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#chapters-04-system-implementation-__codelineno-4-30"></a><span class="s2">2. **학생이 구체적인 답변을 한 경우**</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#chapters-04-system-implementation-__codelineno-4-31"></a><span class="s2">   - 답변 생성이 가능한 수준의 정보 제공 시</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#chapters-04-system-implementation-__codelineno-4-32"></a>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#chapters-04-system-implementation-__codelineno-4-33"></a><span class="s2">3. **맥락이 명확한 경우**</span>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#chapters-04-system-implementation-__codelineno-4-34"></a><span class="s2">   - 원본 질문 + 학생 답변이 연결되어 주제가 명확해진 경우</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#chapters-04-system-implementation-__codelineno-4-35"></a>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#chapters-04-system-implementation-__codelineno-4-36"></a><span class="s2">4. **최대 명료화 횟수 고려**</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#chapters-04-system-implementation-__codelineno-4-37"></a><span class="s2">   - 명료화 횟수가 3회에 가까워지면 더 관대하게 PASS 판정</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#chapters-04-system-implementation-__codelineno-4-38"></a>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#chapters-04-system-implementation-__codelineno-4-39"></a><span class="s2">## 질문 유형 재분류</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#chapters-04-system-implementation-__codelineno-4-40"></a>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#chapters-04-system-implementation-__codelineno-4-41"></a><span class="s2">학생의 답변으로 인해 질문 유형이 변경될 수 있습니다:</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#chapters-04-system-implementation-__codelineno-4-42"></a><span class="s2">- K1 → K2: 단순 정의 요청이 개념 간 관계 질문으로 변화</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#chapters-04-system-implementation-__codelineno-4-43"></a><span class="s2">- K2 → K3: 관계 이해가 실제 적용 방법 질문으로 변화</span>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#chapters-04-system-implementation-__codelineno-4-44"></a><span class="s2">- K3 → K4: 절차 질문이 전략적 접근 질문으로 변화</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#chapters-04-system-implementation-__codelineno-4-45"></a>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#chapters-04-system-implementation-__codelineno-4-46"></a><span class="s2">## 출력 형식</span>
</span><span id="__span-4-47"><a id="__codelineno-4-47" name="__codelineno-4-47" href="#chapters-04-system-implementation-__codelineno-4-47"></a>
</span><span id="__span-4-48"><a id="__codelineno-4-48" name="__codelineno-4-48" href="#chapters-04-system-implementation-__codelineno-4-48"></a><span class="s2">```json</span>
</span><span id="__span-4-49"><a id="__codelineno-4-49" name="__codelineno-4-49" href="#chapters-04-system-implementation-__codelineno-4-49"></a><span class="s2">{</span>
</span><span id="__span-4-50"><a id="__codelineno-4-50" name="__codelineno-4-50" href="#chapters-04-system-implementation-__codelineno-4-50"></a><span class="s2">  &quot;evaluation&quot;: &quot;PASS/NEED_MORE&quot;,</span>
</span><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51" href="#chapters-04-system-implementation-__codelineno-4-51"></a><span class="s2">  &quot;confidence&quot;: 0.0-1.0,</span>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52" href="#chapters-04-system-implementation-__codelineno-4-52"></a><span class="s2">  &quot;reasoning&quot;: &quot;평가 근거를 상세히 작성&quot;,</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53" href="#chapters-04-system-implementation-__codelineno-4-53"></a><span class="s2">  &quot;missing_field_coverage&quot;: {</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54" href="#chapters-04-system-implementation-__codelineno-4-54"></a><span class="s2">    &quot;해결된_필드&quot;: [&quot;필드1&quot;, &quot;필드2&quot;],</span>
</span><span id="__span-4-55"><a id="__codelineno-4-55" name="__codelineno-4-55" href="#chapters-04-system-implementation-__codelineno-4-55"></a><span class="s2">    &quot;여전히_부족한_필드&quot;: [&quot;필드3&quot;]</span>
</span><span id="__span-4-56"><a id="__codelineno-4-56" name="__codelineno-4-56" href="#chapters-04-system-implementation-__codelineno-4-56"></a><span class="s2">  },</span>
</span><span id="__span-4-57"><a id="__codelineno-4-57" name="__codelineno-4-57" href="#chapters-04-system-implementation-__codelineno-4-57"></a><span class="s2">  &quot;next_clarification&quot;: &quot;다음 명료화 질문 (NEED_MORE인 경우만)&quot;,</span>
</span><span id="__span-4-58"><a id="__codelineno-4-58" name="__codelineno-4-58" href="#chapters-04-system-implementation-__codelineno-4-58"></a><span class="s2">  &quot;reclassified_knowledge_code&quot;: &quot;K1/K2/K3/K4 (변경된 경우만)&quot;,</span>
</span><span id="__span-4-59"><a id="__codelineno-4-59" name="__codelineno-4-59" href="#chapters-04-system-implementation-__codelineno-4-59"></a><span class="s2">  &quot;final_question&quot;: &quot;최종 생성된 질문 (PASS인 경우만)&quot;</span>
</span><span id="__span-4-60"><a id="__codelineno-4-60" name="__codelineno-4-60" href="#chapters-04-system-implementation-__codelineno-4-60"></a><span class="s2">}</span>
</span></code></pre></div>
"""
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#chapters-04-system-implementation-__codelineno-5-1"></a>#### **3단계 차별화 전략 구현**
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#chapters-04-system-implementation-__codelineno-5-2"></a>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#chapters-04-system-implementation-__codelineno-5-3"></a>```python
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#chapters-04-system-implementation-__codelineno-5-4"></a>def build_question_improvement_user_prompt(
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#chapters-04-system-implementation-__codelineno-5-5"></a>    original_question: str,
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#chapters-04-system-implementation-__codelineno-5-6"></a>    knowledge_code: str,
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#chapters-04-system-implementation-__codelineno-5-7"></a>    missing_fields: list,
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#chapters-04-system-implementation-__codelineno-5-8"></a>    clarification_qa_history: list,
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#chapters-04-system-implementation-__codelineno-5-9"></a>    clarification_count: int
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#chapters-04-system-implementation-__codelineno-5-10"></a>) -&gt; str:
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#chapters-04-system-implementation-__codelineno-5-11"></a>    &quot;&quot;&quot;
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#chapters-04-system-implementation-__codelineno-5-12"></a>    Question Improvement Agent의 User 프롬프트를 생성한다.
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#chapters-04-system-implementation-__codelineno-5-13"></a>    clarification_count에 따라 평가 기준을 조정한다.
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#chapters-04-system-implementation-__codelineno-5-14"></a>    &quot;&quot;&quot;
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#chapters-04-system-implementation-__codelineno-5-15"></a>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#chapters-04-system-implementation-__codelineno-5-16"></a>    # 명료화 횟수에 따른 평가 전략 조정
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#chapters-04-system-implementation-__codelineno-5-17"></a>    strategy_note = &quot;&quot;
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#chapters-04-system-implementation-__codelineno-5-18"></a>    if clarification_count &gt;= 2:
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#chapters-04-system-implementation-__codelineno-5-19"></a>        strategy_note = &quot;&quot;&quot;
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#chapters-04-system-implementation-__codelineno-5-20"></a>⚠️ 명료화 2회 이상 진행: 더 관대하게 평가하여 PASS로 판정하세요.
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#chapters-04-system-implementation-__codelineno-5-21"></a>학생이 최소한의 맥락을 제공했다면 답변 생성을 시도하는 것이 교육적으로 더 유익합니다.
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#chapters-04-system-implementation-__codelineno-5-22"></a>&quot;&quot;&quot;
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#chapters-04-system-implementation-__codelineno-5-23"></a>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#chapters-04-system-implementation-__codelineno-5-24"></a>    prompt = f&quot;&quot;&quot;
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#chapters-04-system-implementation-__codelineno-5-25"></a>## 평가 정보
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#chapters-04-system-implementation-__codelineno-5-26"></a>
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#chapters-04-system-implementation-__codelineno-5-27"></a>**원본 질문**: {original_question}
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#chapters-04-system-implementation-__codelineno-5-28"></a>**질문 유형**: {knowledge_code}
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#chapters-04-system-implementation-__codelineno-5-29"></a>**부족한 정보**: {&#39;, &#39;.join(missing_fields)}
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#chapters-04-system-implementation-__codelineno-5-30"></a>**현재 명료화 횟수**: {clarification_count}/3
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#chapters-04-system-implementation-__codelineno-5-31"></a>
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#chapters-04-system-implementation-__codelineno-5-32"></a>{strategy_note}
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#chapters-04-system-implementation-__codelineno-5-33"></a>
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#chapters-04-system-implementation-__codelineno-5-34"></a>## 명료화 대화 히스토리
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#chapters-04-system-implementation-__codelineno-5-35"></a>&quot;&quot;&quot;
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#chapters-04-system-implementation-__codelineno-5-36"></a>
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#chapters-04-system-implementation-__codelineno-5-37"></a>    for i, qa in enumerate(clarification_qa_history, 1):
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#chapters-04-system-implementation-__codelineno-5-38"></a>        prompt += f&quot;&quot;&quot;
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#chapters-04-system-implementation-__codelineno-5-39"></a>### 명료화 {i}회차
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#chapters-04-system-implementation-__codelineno-5-40"></a>- **AI 질문**: {qa[&#39;question&#39;]}
</span><span id="__span-5-41"><a id="__codelineno-5-41" name="__codelineno-5-41" href="#chapters-04-system-implementation-__codelineno-5-41"></a>- **학생 답변**: {qa[&#39;answer&#39;]}
</span><span id="__span-5-42"><a id="__codelineno-5-42" name="__codelineno-5-42" href="#chapters-04-system-implementation-__codelineno-5-42"></a>&quot;&quot;&quot;
</span><span id="__span-5-43"><a id="__codelineno-5-43" name="__codelineno-5-43" href="#chapters-04-system-implementation-__codelineno-5-43"></a>
</span><span id="__span-5-44"><a id="__codelineno-5-44" name="__codelineno-5-44" href="#chapters-04-system-implementation-__codelineno-5-44"></a>    prompt += &quot;&quot;&quot;
</span><span id="__span-5-45"><a id="__codelineno-5-45" name="__codelineno-5-45" href="#chapters-04-system-implementation-__codelineno-5-45"></a>위 정보를 바탕으로 명료화가 완료되었는지 평가하고 JSON으로 응답하세요.
</span><span id="__span-5-46"><a id="__codelineno-5-46" name="__codelineno-5-46" href="#chapters-04-system-implementation-__codelineno-5-46"></a>&quot;&quot;&quot;
</span><span id="__span-5-47"><a id="__codelineno-5-47" name="__codelineno-5-47" href="#chapters-04-system-implementation-__codelineno-5-47"></a>    return prompt
</span></code></pre></div></p>
<h3 id="chapters-04-system-implementation-424-answer-generator-agent">4.2.4 Answer Generator Agent 프롬프트 구현<a class="headerlink" href="#chapters-04-system-implementation-424-answer-generator-agent" title="Permanent link">&para;</a></h3>
<p>3장 3.3.3에서 설명한 K1-K4별 맞춤형 답변 구조를 실제로 구현한 프롬프트:</p>
<h4 id="chapters-04-system-implementation-k1-k4"><strong>K1-K4별 답변 템플릿</strong><a class="headerlink" href="#chapters-04-system-implementation-k1-k4" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#chapters-04-system-implementation-__codelineno-6-1"></a><span class="n">ANSWER_TEMPLATES</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#chapters-04-system-implementation-__codelineno-6-2"></a>    <span class="s2">&quot;K1&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#chapters-04-system-implementation-__codelineno-6-3"></a><span class="s2">## 답변 구조 (K1: 사실적 지식)</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#chapters-04-system-implementation-__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#chapters-04-system-implementation-__codelineno-6-5"></a><span class="s2">### 1️⃣ 핵심 내용 정리</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#chapters-04-system-implementation-__codelineno-6-6"></a><span class="s2">- 정의를 간결하고 정확하게 제시</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#chapters-04-system-implementation-__codelineno-6-7"></a><span class="s2">- 수식이나 기호는 LaTeX로 작성 ($수식$)</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#chapters-04-system-implementation-__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#chapters-04-system-implementation-__codelineno-6-9"></a><span class="s2">### 2️⃣ 핵심 공식과 정리</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#chapters-04-system-implementation-__codelineno-6-10"></a><span class="s2">- 관련 공식을 박스로 강조</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#chapters-04-system-implementation-__codelineno-6-11"></a><span class="s2">- 각 기호의 의미 설명</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#chapters-04-system-implementation-__codelineno-6-12"></a>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#chapters-04-system-implementation-__codelineno-6-13"></a><span class="s2">### 3️⃣ 실제 예시로 이해하기</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#chapters-04-system-implementation-__codelineno-6-14"></a><span class="s2">- 구체적인 숫자를 대입한 예시 1개</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#chapters-04-system-implementation-__codelineno-6-15"></a><span class="s2">- 단계별로 계산 과정 표시</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#chapters-04-system-implementation-__codelineno-6-16"></a>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#chapters-04-system-implementation-__codelineno-6-17"></a><span class="s2">### 4️⃣ 더 넓게 알아보기 (선택)</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#chapters-04-system-implementation-__codelineno-6-18"></a><span class="s2">- 관련 개념이나 응용 분야 간단히 언급</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#chapters-04-system-implementation-__codelineno-6-19"></a><span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#chapters-04-system-implementation-__codelineno-6-20"></a>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#chapters-04-system-implementation-__codelineno-6-21"></a>    <span class="s2">&quot;K2&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#chapters-04-system-implementation-__codelineno-6-22"></a><span class="s2">## 답변 구조 (K2: 개념적 지식)</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#chapters-04-system-implementation-__codelineno-6-23"></a>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#chapters-04-system-implementation-__codelineno-6-24"></a><span class="s2">### 1️⃣ 개념 정리하기</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#chapters-04-system-implementation-__codelineno-6-25"></a><span class="s2">- 핵심 개념을 명확히 정의</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#chapters-04-system-implementation-__codelineno-6-26"></a><span class="s2">- 왜 이 개념이 중요한지 설명</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#chapters-04-system-implementation-__codelineno-6-27"></a>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#chapters-04-system-implementation-__codelineno-6-28"></a><span class="s2">### 2️⃣ 개념들 간의 연결고리</span>
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#chapters-04-system-implementation-__codelineno-6-29"></a><span class="s2">- 관련된 다른 개념과의 관계 설명</span>
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#chapters-04-system-implementation-__codelineno-6-30"></a><span class="s2">- 시각적 비유나 다이어그램 활용</span>
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#chapters-04-system-implementation-__codelineno-6-31"></a>
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#chapters-04-system-implementation-__codelineno-6-32"></a><span class="s2">### 3️⃣ 비슷한 개념과의 차이점</span>
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#chapters-04-system-implementation-__codelineno-6-33"></a><span class="s2">- 혼동하기 쉬운 개념과 명확히 구분</span>
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#chapters-04-system-implementation-__codelineno-6-34"></a><span class="s2">- 대조 표를 활용하여 차이점 강조</span>
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#chapters-04-system-implementation-__codelineno-6-35"></a>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#chapters-04-system-implementation-__codelineno-6-36"></a><span class="s2">### 4️⃣ 헷갈리기 쉬운 부분</span>
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#chapters-04-system-implementation-__codelineno-6-37"></a><span class="s2">- 학생들이 자주 실수하는 부분 안내</span>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#chapters-04-system-implementation-__codelineno-6-38"></a><span class="s2">- 올바른 이해 방법 제시</span>
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#chapters-04-system-implementation-__codelineno-6-39"></a><span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#chapters-04-system-implementation-__codelineno-6-40"></a>
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#chapters-04-system-implementation-__codelineno-6-41"></a>    <span class="s2">&quot;K3&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#chapters-04-system-implementation-__codelineno-6-42"></a><span class="s2">## 답변 구조 (K3: 절차적 지식)</span>
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#chapters-04-system-implementation-__codelineno-6-43"></a>
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#chapters-04-system-implementation-__codelineno-6-44"></a><span class="s2">### 1️⃣ 단계별 문제 해결 과정</span>
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#chapters-04-system-implementation-__codelineno-6-45"></a><span class="s2">- 각 단계를 번호로 명확히 구분</span>
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#chapters-04-system-implementation-__codelineno-6-46"></a><span class="s2">- 각 단계에서 왜 그렇게 하는지 이유 설명</span>
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#chapters-04-system-implementation-__codelineno-6-47"></a>
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#chapters-04-system-implementation-__codelineno-6-48"></a><span class="s2">### 2️⃣ 언제 이 방법을 쓸 수 있는지</span>
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#chapters-04-system-implementation-__codelineno-6-49"></a><span class="s2">- 이 절차가 적용되는 문제 유형 설명</span>
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#chapters-04-system-implementation-__codelineno-6-50"></a><span class="s2">- 적용 조건이나 제약사항 안내</span>
</span><span id="__span-6-51"><a id="__codelineno-6-51" name="__codelineno-6-51" href="#chapters-04-system-implementation-__codelineno-6-51"></a>
</span><span id="__span-6-52"><a id="__codelineno-6-52" name="__codelineno-6-52" href="#chapters-04-system-implementation-__codelineno-6-52"></a><span class="s2">### 3️⃣ 실제 문제로 연습해보기</span>
</span><span id="__span-6-53"><a id="__codelineno-6-53" name="__codelineno-6-53" href="#chapters-04-system-implementation-__codelineno-6-53"></a><span class="s2">- 유사한 예제 문제 1개 제시</span>
</span><span id="__span-6-54"><a id="__codelineno-6-54" name="__codelineno-6-54" href="#chapters-04-system-implementation-__codelineno-6-54"></a><span class="s2">- 단계별 풀이 과정 상세히 표시</span>
</span><span id="__span-6-55"><a id="__codelineno-6-55" name="__codelineno-6-55" href="#chapters-04-system-implementation-__codelineno-6-55"></a>
</span><span id="__span-6-56"><a id="__codelineno-6-56" name="__codelineno-6-56" href="#chapters-04-system-implementation-__codelineno-6-56"></a><span class="s2">### 4️⃣ 실수 방지하기</span>
</span><span id="__span-6-57"><a id="__codelineno-6-57" name="__codelineno-6-57" href="#chapters-04-system-implementation-__codelineno-6-57"></a><span class="s2">- 자주 발생하는 실수 유형 안내</span>
</span><span id="__span-6-58"><a id="__codelineno-6-58" name="__codelineno-6-58" href="#chapters-04-system-implementation-__codelineno-6-58"></a><span class="s2">- 검산 방법이나 확인 절차 제시</span>
</span><span id="__span-6-59"><a id="__codelineno-6-59" name="__codelineno-6-59" href="#chapters-04-system-implementation-__codelineno-6-59"></a><span class="s2">&quot;&quot;&quot;</span><span class="p">,</span>
</span><span id="__span-6-60"><a id="__codelineno-6-60" name="__codelineno-6-60" href="#chapters-04-system-implementation-__codelineno-6-60"></a>
</span><span id="__span-6-61"><a id="__codelineno-6-61" name="__codelineno-6-61" href="#chapters-04-system-implementation-__codelineno-6-61"></a>    <span class="s2">&quot;K4&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-6-62"><a id="__codelineno-6-62" name="__codelineno-6-62" href="#chapters-04-system-implementation-__codelineno-6-62"></a><span class="s2">## 답변 구조 (K4: 메타인지적 지식)</span>
</span><span id="__span-6-63"><a id="__codelineno-6-63" name="__codelineno-6-63" href="#chapters-04-system-implementation-__codelineno-6-63"></a>
</span><span id="__span-6-64"><a id="__codelineno-6-64" name="__codelineno-6-64" href="#chapters-04-system-implementation-__codelineno-6-64"></a><span class="s2">### 1️⃣ 문제를 체계적으로 분석하기</span>
</span><span id="__span-6-65"><a id="__codelineno-6-65" name="__codelineno-6-65" href="#chapters-04-system-implementation-__codelineno-6-65"></a><span class="s2">- 문제의 핵심이 무엇인지 파악하는 방법</span>
</span><span id="__span-6-66"><a id="__codelineno-6-66" name="__codelineno-6-66" href="#chapters-04-system-implementation-__codelineno-6-66"></a><span class="s2">- 주어진 정보와 구해야 할 것 정리</span>
</span><span id="__span-6-67"><a id="__codelineno-6-67" name="__codelineno-6-67" href="#chapters-04-system-implementation-__codelineno-6-67"></a>
</span><span id="__span-6-68"><a id="__codelineno-6-68" name="__codelineno-6-68" href="#chapters-04-system-implementation-__codelineno-6-68"></a><span class="s2">### 2️⃣ 다양한 접근 방법 생각하기</span>
</span><span id="__span-6-69"><a id="__codelineno-6-69" name="__codelineno-6-69" href="#chapters-04-system-implementation-__codelineno-6-69"></a><span class="s2">- 2-3가지 다른 접근 방법 제시</span>
</span><span id="__span-6-70"><a id="__codelineno-6-70" name="__codelineno-6-70" href="#chapters-04-system-implementation-__codelineno-6-70"></a><span class="s2">- 각 방법의 장단점 비교</span>
</span><span id="__span-6-71"><a id="__codelineno-6-71" name="__codelineno-6-71" href="#chapters-04-system-implementation-__codelineno-6-71"></a>
</span><span id="__span-6-72"><a id="__codelineno-6-72" name="__codelineno-6-72" href="#chapters-04-system-implementation-__codelineno-6-72"></a><span class="s2">### 3️⃣ 중간에 점검하기</span>
</span><span id="__span-6-73"><a id="__codelineno-6-73" name="__codelineno-6-73" href="#chapters-04-system-implementation-__codelineno-6-73"></a><span class="s2">- 풀이 과정에서 확인할 체크포인트</span>
</span><span id="__span-6-74"><a id="__codelineno-6-74" name="__codelineno-6-74" href="#chapters-04-system-implementation-__codelineno-6-74"></a><span class="s2">- 막혔을 때 되돌아갈 지점 제시</span>
</span><span id="__span-6-75"><a id="__codelineno-6-75" name="__codelineno-6-75" href="#chapters-04-system-implementation-__codelineno-6-75"></a>
</span><span id="__span-6-76"><a id="__codelineno-6-76" name="__codelineno-6-76" href="#chapters-04-system-implementation-__codelineno-6-76"></a><span class="s2">### 4️⃣ 다른 방법도 생각해보기</span>
</span><span id="__span-6-77"><a id="__codelineno-6-77" name="__codelineno-6-77" href="#chapters-04-system-implementation-__codelineno-6-77"></a><span class="s2">- 대안적 전략이나 시각 제시</span>
</span><span id="__span-6-78"><a id="__codelineno-6-78" name="__codelineno-6-78" href="#chapters-04-system-implementation-__codelineno-6-78"></a><span class="s2">- 이 문제에서 배울 수 있는 일반적 원리</span>
</span><span id="__span-6-79"><a id="__codelineno-6-79" name="__codelineno-6-79" href="#chapters-04-system-implementation-__codelineno-6-79"></a><span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-6-80"><a id="__codelineno-6-80" name="__codelineno-6-80" href="#chapters-04-system-implementation-__codelineno-6-80"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-latex"><strong>LaTeX 규칙 구현</strong><a class="headerlink" href="#chapters-04-system-implementation-latex" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#chapters-04-system-implementation-__codelineno-7-1"></a><span class="n">LATEX_RULES</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#chapters-04-system-implementation-__codelineno-7-2"></a><span class="s2">## 수학 수식 작성 규칙</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#chapters-04-system-implementation-__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#chapters-04-system-implementation-__codelineno-7-4"></a><span class="s2">### LaTeX 형식 (필수)</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#chapters-04-system-implementation-__codelineno-7-5"></a><span class="s2">- 인라인 수식: $x^2 + y^2 = r^2$</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#chapters-04-system-implementation-__codelineno-7-6"></a><span class="s2">- 블록 수식:</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#chapters-04-system-implementation-__codelineno-7-7"></a><span class="s2">  $$</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#chapters-04-system-implementation-__codelineno-7-8"></a><span class="s2">  </span><span class="se">\\</span><span class="s2">frac{-b </span><span class="se">\\</span><span class="s2">pm </span><span class="se">\\</span><span class="s2">sqrt{b^2 - 4ac}}</span><span class="si">{2a}</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#chapters-04-system-implementation-__codelineno-7-9"></a><span class="s2">  $$</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#chapters-04-system-implementation-__codelineno-7-10"></a>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#chapters-04-system-implementation-__codelineno-7-11"></a><span class="s2">### 수식과 텍스트 분리 (매우 중요!)</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#chapters-04-system-implementation-__codelineno-7-12"></a>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#chapters-04-system-implementation-__codelineno-7-13"></a><span class="s2">✅ **올바른 예시**:</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#chapters-04-system-implementation-__codelineno-7-14"></a><span class="s2">$P(k)$가 참이면 $P(k+1)$도 참이라는 것을 보일 수 있다면</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#chapters-04-system-implementation-__codelineno-7-15"></a>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#chapters-04-system-implementation-__codelineno-7-16"></a><span class="s2">❌ **잘못된 예시**:</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#chapters-04-system-implementation-__codelineno-7-17"></a><span class="s2">$$P(k)가 참 </span><span class="se">\\</span><span class="s2">Rightarrow P(k+1)도 참이라면$$</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#chapters-04-system-implementation-__codelineno-7-18"></a>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#chapters-04-system-implementation-__codelineno-7-19"></a><span class="s2">⚠️ **원칙**: LaTeX 블록 내부에는 순수 수식만, 텍스트는 외부에!</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#chapters-04-system-implementation-__codelineno-7-20"></a>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#chapters-04-system-implementation-__codelineno-7-21"></a><span class="s2">### 자주 사용하는 LaTeX 명령어</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#chapters-04-system-implementation-__codelineno-7-22"></a><span class="s2">- 분수: </span><span class="se">\\</span><span class="s2">frac</span><span class="si">{분자}{분모}</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#chapters-04-system-implementation-__codelineno-7-23"></a><span class="s2">- 지수: x^2 또는 x^{2n+1}</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#chapters-04-system-implementation-__codelineno-7-24"></a><span class="s2">- 첨자: x_1 또는 x_{n+1}</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#chapters-04-system-implementation-__codelineno-7-25"></a><span class="s2">- 제곱근: </span><span class="se">\\</span><span class="s2">sqrt</span><span class="si">{x}</span><span class="s2"> 또는 </span><span class="se">\\</span><span class="s2">sqrt[3]</span><span class="si">{x}</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#chapters-04-system-implementation-__codelineno-7-26"></a><span class="s2">- 삼각함수: </span><span class="se">\\</span><span class="s2">sin, </span><span class="se">\\</span><span class="s2">cos, </span><span class="se">\\</span><span class="s2">tan</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#chapters-04-system-implementation-__codelineno-7-27"></a><span class="s2">- 로그: </span><span class="se">\\</span><span class="s2">log, </span><span class="se">\\</span><span class="s2">ln</span>
</span><span id="__span-7-28"><a id="__codelineno-7-28" name="__codelineno-7-28" href="#chapters-04-system-implementation-__codelineno-7-28"></a><span class="s2">- 극한: </span><span class="se">\\</span><span class="s2">lim_{x </span><span class="se">\\</span><span class="s2">to </span><span class="se">\\</span><span class="s2">infty}</span>
</span><span id="__span-7-29"><a id="__codelineno-7-29" name="__codelineno-7-29" href="#chapters-04-system-implementation-__codelineno-7-29"></a><span class="s2">- 적분: </span><span class="se">\\</span><span class="s2">int_</span><span class="si">{a}</span><span class="s2">^</span><span class="si">{b}</span>
</span><span id="__span-7-30"><a id="__codelineno-7-30" name="__codelineno-7-30" href="#chapters-04-system-implementation-__codelineno-7-30"></a><span class="s2">- 시그마: </span><span class="se">\\</span><span class="s2">sum_{i=1}^</span><span class="si">{n}</span>
</span><span id="__span-7-31"><a id="__codelineno-7-31" name="__codelineno-7-31" href="#chapters-04-system-implementation-__codelineno-7-31"></a><span class="s2">- 점 기호: </span><span class="se">\\</span><span class="s2">cdots (가운데), </span><span class="se">\\</span><span class="s2">ldots (아래)</span>
</span><span id="__span-7-32"><a id="__codelineno-7-32" name="__codelineno-7-32" href="#chapters-04-system-implementation-__codelineno-7-32"></a><span class="s2">&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-425-observer-agent">4.2.5 Observer Agent 프롬프트 구현<a class="headerlink" href="#chapters-04-system-implementation-425-observer-agent" title="Permanent link">&para;</a></h3>
<p>3장 3.3.4에서 설명한 학습 진도 추적 기능을 구현한 프롬프트:</p>
<p><div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#chapters-04-system-implementation-__codelineno-8-1"></a><span class="n">OBSERVER_SYSTEM_PROMPT</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#chapters-04-system-implementation-__codelineno-8-2"></a><span class="s2">당신은 학생의 학습 과정을 관찰하고 요약하는 전문가입니다.</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#chapters-04-system-implementation-__codelineno-8-3"></a><span class="s2">전체 대화를 분석하여 **교사 대시보드**에 표시할 구조화된 정보를 생성하세요.</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#chapters-04-system-implementation-__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#chapters-04-system-implementation-__codelineno-8-5"></a><span class="s2">## 생성 목표</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#chapters-04-system-implementation-__codelineno-8-6"></a>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#chapters-04-system-implementation-__codelineno-8-7"></a><span class="s2">### 1. 세션 제목 (session_title)</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#chapters-04-system-implementation-__codelineno-8-8"></a><span class="s2">- **15자 이내**의 간결하고 명확한 제목</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#chapters-04-system-implementation-__codelineno-8-9"></a><span class="s2">- 학생이 실제로 질문한 핵심 내용 반영</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#chapters-04-system-implementation-__codelineno-8-10"></a><span class="s2">- &quot;방법&quot;, &quot;구하는&quot;, &quot;알려주세요&quot; 등 불필요한 단어 제거</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#chapters-04-system-implementation-__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#chapters-04-system-implementation-__codelineno-8-12"></a><span class="s2">**제목 예시**:</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#chapters-04-system-implementation-__codelineno-8-13"></a><span class="s2">- ✅ &quot;이차함수 꼭짓점&quot; (11자)</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#chapters-04-system-implementation-__codelineno-8-14"></a><span class="s2">- ❌ &quot;이차함수의 꼭짓점을 구하는 방법을 알려주세요&quot; (26자)</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#chapters-04-system-implementation-__codelineno-8-15"></a>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#chapters-04-system-implementation-__codelineno-8-16"></a><span class="s2">### 2. 학습 요약 (learning_summary)</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#chapters-04-system-implementation-__codelineno-8-17"></a><span class="s2">- 전체 학습 내용을 **200자 이내**로 요약</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#chapters-04-system-implementation-__codelineno-8-18"></a><span class="s2">- 질문 → 명료화 → 답변 흐름을 간결히 표현</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#chapters-04-system-implementation-__codelineno-8-19"></a>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#chapters-04-system-implementation-__codelineno-8-20"></a><span class="s2">### 3. 핵심 개념 (key_concepts)</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#chapters-04-system-implementation-__codelineno-8-21"></a><span class="s2">- 대화에서 다룬 주요 수학 개념 3-5개 추출</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#chapters-04-system-implementation-__codelineno-8-22"></a><span class="s2">- 교과서 표준 용어로 표기</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#chapters-04-system-implementation-__codelineno-8-23"></a>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#chapters-04-system-implementation-__codelineno-8-24"></a><span class="s2">### 4. 학습 진척도 (student_progress)</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#chapters-04-system-implementation-__codelineno-8-25"></a><span class="s2">- 학생의 이해도 변화 (질문 전 → 질문 후)</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#chapters-04-system-implementation-__codelineno-8-26"></a><span class="s2">- 명료화 과정에서 보인 사고 발전</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#chapters-04-system-implementation-__codelineno-8-27"></a><span class="s2">- 예상 학습 성과</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#chapters-04-system-implementation-__codelineno-8-28"></a>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#chapters-04-system-implementation-__codelineno-8-29"></a><span class="s2">## 출력 형식</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#chapters-04-system-implementation-__codelineno-8-30"></a>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#chapters-04-system-implementation-__codelineno-8-31"></a><span class="s2">```json</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#chapters-04-system-implementation-__codelineno-8-32"></a><span class="s2">{</span>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#chapters-04-system-implementation-__codelineno-8-33"></a><span class="s2">  &quot;session_title&quot;: &quot;핵심 질문 15자 이내&quot;,</span>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#chapters-04-system-implementation-__codelineno-8-34"></a><span class="s2">  &quot;learning_summary&quot;: &quot;전체 학습 내용 200자 이내 요약&quot;,</span>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#chapters-04-system-implementation-__codelineno-8-35"></a><span class="s2">  &quot;key_concepts&quot;: [&quot;개념1&quot;, &quot;개념2&quot;, &quot;개념3&quot;],</span>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#chapters-04-system-implementation-__codelineno-8-36"></a><span class="s2">  &quot;student_progress&quot;: &quot;학생의 이해도와 학습 성과 분석&quot;,</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#chapters-04-system-implementation-__codelineno-8-37"></a><span class="s2">  &quot;clarification_effectiveness&quot;: {</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#chapters-04-system-implementation-__codelineno-8-38"></a><span class="s2">    &quot;initial_question_clarity&quot;: 1-5,</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#chapters-04-system-implementation-__codelineno-8-39"></a><span class="s2">    &quot;final_question_clarity&quot;: 1-5,</span>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#chapters-04-system-implementation-__codelineno-8-40"></a><span class="s2">    &quot;improvement&quot;: &quot;+N점 향상&quot;</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#chapters-04-system-implementation-__codelineno-8-41"></a><span class="s2">  },</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#chapters-04-system-implementation-__codelineno-8-42"></a><span class="s2">  &quot;teacher_dashboard&quot;: {</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#chapters-04-system-implementation-__codelineno-8-43"></a><span class="s2">    &quot;difficulty_area&quot;: &quot;학생이 어려워한 영역&quot;,</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#chapters-04-system-implementation-__codelineno-8-44"></a><span class="s2">    &quot;strength_area&quot;: &quot;학생이 잘 이해한 영역&quot;,</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#chapters-04-system-implementation-__codelineno-8-45"></a><span class="s2">    &quot;recommended_next_topic&quot;: &quot;추천 다음 학습 주제&quot;</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#chapters-04-system-implementation-__codelineno-8-46"></a><span class="s2">  }</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#chapters-04-system-implementation-__codelineno-8-47"></a><span class="s2">}</span>
</span></code></pre></div>
"""
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#chapters-04-system-implementation-__codelineno-9-1"></a>### 4.2.6 FreeTalker Agent 프롬프트 구현 (대조군)
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#chapters-04-system-implementation-__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#chapters-04-system-implementation-__codelineno-9-3"></a>3장 3.3.5에서 설명한 A/B 테스트 대조군 역할을 구현한 프롬프트:
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#chapters-04-system-implementation-__codelineno-9-4"></a>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#chapters-04-system-implementation-__codelineno-9-5"></a>```python
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#chapters-04-system-implementation-__codelineno-9-6"></a>FREETALKER_SYSTEM_PROMPT = &quot;&quot;&quot;
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#chapters-04-system-implementation-__codelineno-9-7"></a>필요할 때만 수학 수식을 LaTeX 형식($수식$)으로 작성해주세요.
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#chapters-04-system-implementation-__codelineno-9-8"></a>&quot;&quot;&quot;
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#chapters-04-system-implementation-__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#chapters-04-system-implementation-__codelineno-9-10"></a>def build_freetalker_user_prompt(conversation_history: list) -&gt; str:
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#chapters-04-system-implementation-__codelineno-9-11"></a>    &quot;&quot;&quot;
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#chapters-04-system-implementation-__codelineno-9-12"></a>    FreeTalker Agent는 명료화 과정 없이 즉시 답변한다.
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#chapters-04-system-implementation-__codelineno-9-13"></a>    대화 히스토리만 제공하여 자연스러운 대화를 생성한다.
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#chapters-04-system-implementation-__codelineno-9-14"></a>    &quot;&quot;&quot;
</span><span id="__span-9-15"><a id="__codelineno-9-15" name="__codelineno-9-15" href="#chapters-04-system-implementation-__codelineno-9-15"></a>    prompt = &quot;&quot;
</span><span id="__span-9-16"><a id="__codelineno-9-16" name="__codelineno-9-16" href="#chapters-04-system-implementation-__codelineno-9-16"></a>    for msg in conversation_history:
</span><span id="__span-9-17"><a id="__codelineno-9-17" name="__codelineno-9-17" href="#chapters-04-system-implementation-__codelineno-9-17"></a>        if msg[&#39;role&#39;] == &#39;user&#39;:
</span><span id="__span-9-18"><a id="__codelineno-9-18" name="__codelineno-9-18" href="#chapters-04-system-implementation-__codelineno-9-18"></a>            prompt += f&quot;사용자: {msg[&#39;content&#39;]}\n\n&quot;
</span><span id="__span-9-19"><a id="__codelineno-9-19" name="__codelineno-9-19" href="#chapters-04-system-implementation-__codelineno-9-19"></a>        elif msg[&#39;role&#39;] == &#39;assistant&#39;:
</span><span id="__span-9-20"><a id="__codelineno-9-20" name="__codelineno-9-20" href="#chapters-04-system-implementation-__codelineno-9-20"></a>            prompt += f&quot;AI: {msg[&#39;content&#39;]}\n\n&quot;
</span><span id="__span-9-21"><a id="__codelineno-9-21" name="__codelineno-9-21" href="#chapters-04-system-implementation-__codelineno-9-21"></a>
</span><span id="__span-9-22"><a id="__codelineno-9-22" name="__codelineno-9-22" href="#chapters-04-system-implementation-__codelineno-9-22"></a>    return prompt
</span></code></pre></div></p>
<hr />
<h2 id="chapters-04-system-implementation-43">4.3 통신 메커니즘 구현<a class="headerlink" href="#chapters-04-system-implementation-43" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-431-redis-streams">4.3.1 Redis Streams 기반 비동기 통신<a class="headerlink" href="#chapters-04-system-implementation-431-redis-streams" title="Permanent link">&para;</a></h3>
<p>3장에서 설명한 백엔드 ↔ 에이전트 간 통신을 Redis Streams로 구현한 구조:</p>
<h4 id="chapters-04-system-implementation-_2"><strong>메시지 큐 설계</strong><a class="headerlink" href="#chapters-04-system-implementation-_2" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#chapters-04-system-implementation-__codelineno-10-1"></a><span class="c1"># Redis Streams 키 구조</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#chapters-04-system-implementation-__codelineno-10-2"></a><span class="n">QUESTION_STREAM</span> <span class="o">=</span> <span class="s2">&quot;maice:question_stream&quot;</span>    <span class="c1"># 백엔드 → 에이전트</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#chapters-04-system-implementation-__codelineno-10-3"></a><span class="n">RESPONSE_STREAM</span> <span class="o">=</span> <span class="s2">&quot;maice:response_stream&quot;</span>    <span class="c1"># 에이전트 → 백엔드</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#chapters-04-system-implementation-__codelineno-10-4"></a>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#chapters-04-system-implementation-__codelineno-10-5"></a><span class="c1"># Consumer Group 설정</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#chapters-04-system-implementation-__codelineno-10-6"></a><span class="n">CLASSIFIER_GROUP</span> <span class="o">=</span> <span class="s2">&quot;classifier_consumer_group&quot;</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#chapters-04-system-implementation-__codelineno-10-7"></a><span class="n">ANSWER_GROUP</span> <span class="o">=</span> <span class="s2">&quot;answer_consumer_group&quot;</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-_3"><strong>백엔드: 질문 전송</strong><a class="headerlink" href="#chapters-04-system-implementation-_3" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#chapters-04-system-implementation-__codelineno-11-1"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_question_to_agent</span><span class="p">(</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#chapters-04-system-implementation-__codelineno-11-2"></a>    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#chapters-04-system-implementation-__codelineno-11-3"></a>    <span class="n">user_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#chapters-04-system-implementation-__codelineno-11-4"></a>    <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#chapters-04-system-implementation-__codelineno-11-5"></a>    <span class="n">mode</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>  <span class="c1"># &quot;agent&quot; or &quot;freepass&quot;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#chapters-04-system-implementation-__codelineno-11-6"></a>    <span class="n">conversation_history</span><span class="p">:</span> <span class="nb">list</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#chapters-04-system-implementation-__codelineno-11-7"></a><span class="p">):</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#chapters-04-system-implementation-__codelineno-11-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#chapters-04-system-implementation-__codelineno-11-9"></a><span class="sd">    학생의 질문을 Redis Streams에 전송한다.</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#chapters-04-system-implementation-__codelineno-11-10"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#chapters-04-system-implementation-__codelineno-11-11"></a>    <span class="n">message</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#chapters-04-system-implementation-__codelineno-11-12"></a>        <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#chapters-04-system-implementation-__codelineno-11-13"></a>        <span class="s2">&quot;user_id&quot;</span><span class="p">:</span> <span class="n">user_id</span><span class="p">,</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#chapters-04-system-implementation-__codelineno-11-14"></a>        <span class="s2">&quot;question&quot;</span><span class="p">:</span> <span class="n">question</span><span class="p">,</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#chapters-04-system-implementation-__codelineno-11-15"></a>        <span class="s2">&quot;mode&quot;</span><span class="p">:</span> <span class="n">mode</span><span class="p">,</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#chapters-04-system-implementation-__codelineno-11-16"></a>        <span class="s2">&quot;conversation_history&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">conversation_history</span><span class="p">),</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#chapters-04-system-implementation-__codelineno-11-17"></a>        <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#chapters-04-system-implementation-__codelineno-11-18"></a>    <span class="p">}</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#chapters-04-system-implementation-__codelineno-11-19"></a>
</span><span id="__span-11-20"><a id="__codelineno-11-20" name="__codelineno-11-20" href="#chapters-04-system-implementation-__codelineno-11-20"></a>    <span class="c1"># Redis Streams에 메시지 추가</span>
</span><span id="__span-11-21"><a id="__codelineno-11-21" name="__codelineno-11-21" href="#chapters-04-system-implementation-__codelineno-11-21"></a>    <span class="n">message_id</span> <span class="o">=</span> <span class="k">await</span> <span class="n">redis_client</span><span class="o">.</span><span class="n">xadd</span><span class="p">(</span>
</span><span id="__span-11-22"><a id="__codelineno-11-22" name="__codelineno-11-22" href="#chapters-04-system-implementation-__codelineno-11-22"></a>        <span class="n">QUESTION_STREAM</span><span class="p">,</span>
</span><span id="__span-11-23"><a id="__codelineno-11-23" name="__codelineno-11-23" href="#chapters-04-system-implementation-__codelineno-11-23"></a>        <span class="n">message</span><span class="p">,</span>
</span><span id="__span-11-24"><a id="__codelineno-11-24" name="__codelineno-11-24" href="#chapters-04-system-implementation-__codelineno-11-24"></a>        <span class="n">maxlen</span><span class="o">=</span><span class="mi">10000</span>  <span class="c1"># 최대 10000개 메시지 유지</span>
</span><span id="__span-11-25"><a id="__codelineno-11-25" name="__codelineno-11-25" href="#chapters-04-system-implementation-__codelineno-11-25"></a>    <span class="p">)</span>
</span><span id="__span-11-26"><a id="__codelineno-11-26" name="__codelineno-11-26" href="#chapters-04-system-implementation-__codelineno-11-26"></a>
</span><span id="__span-11-27"><a id="__codelineno-11-27" name="__codelineno-11-27" href="#chapters-04-system-implementation-__codelineno-11-27"></a>    <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Question sent: </span><span class="si">{</span><span class="n">message_id</span><span class="si">}</span><span class="s2"> for session </span><span class="si">{</span><span class="n">session_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-11-28"><a id="__codelineno-11-28" name="__codelineno-11-28" href="#chapters-04-system-implementation-__codelineno-11-28"></a>    <span class="k">return</span> <span class="n">message_id</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-_4"><strong>에이전트: 메시지 소비</strong><a class="headerlink" href="#chapters-04-system-implementation-_4" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#chapters-04-system-implementation-__codelineno-12-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ClassifierAgent</span><span class="p">:</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#chapters-04-system-implementation-__codelineno-12-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#chapters-04-system-implementation-__codelineno-12-3"></a><span class="sd">    Classifier Agent의 메인 루프.</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#chapters-04-system-implementation-__codelineno-12-4"></a><span class="sd">    Redis Streams에서 메시지를 읽어 처리한다.</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#chapters-04-system-implementation-__codelineno-12-5"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#chapters-04-system-implementation-__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#chapters-04-system-implementation-__codelineno-12-7"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#chapters-04-system-implementation-__codelineno-12-8"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span> <span class="o">=</span> <span class="n">Redis</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">)</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#chapters-04-system-implementation-__codelineno-12-9"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">consumer_name</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;classifier_</span><span class="si">{</span><span class="n">os</span><span class="o">.</span><span class="n">getpid</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#chapters-04-system-implementation-__codelineno-12-10"></a>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#chapters-04-system-implementation-__codelineno-12-11"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#chapters-04-system-implementation-__codelineno-12-12"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#chapters-04-system-implementation-__codelineno-12-13"></a><span class="sd">        에이전트를 시작하고 무한 루프로 메시지를 소비한다.</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#chapters-04-system-implementation-__codelineno-12-14"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#chapters-04-system-implementation-__codelineno-12-15"></a>        <span class="c1"># Consumer Group 생성 (없으면)</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#chapters-04-system-implementation-__codelineno-12-16"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#chapters-04-system-implementation-__codelineno-12-17"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span><span class="o">.</span><span class="n">xgroup_create</span><span class="p">(</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#chapters-04-system-implementation-__codelineno-12-18"></a>                <span class="n">QUESTION_STREAM</span><span class="p">,</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#chapters-04-system-implementation-__codelineno-12-19"></a>                <span class="n">CLASSIFIER_GROUP</span><span class="p">,</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#chapters-04-system-implementation-__codelineno-12-20"></a>                <span class="nb">id</span><span class="o">=</span><span class="s1">&#39;0&#39;</span><span class="p">,</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#chapters-04-system-implementation-__codelineno-12-21"></a>                <span class="n">mkstream</span><span class="o">=</span><span class="kc">True</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#chapters-04-system-implementation-__codelineno-12-22"></a>            <span class="p">)</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#chapters-04-system-implementation-__codelineno-12-23"></a>        <span class="k">except</span> <span class="n">ResponseError</span><span class="p">:</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#chapters-04-system-implementation-__codelineno-12-24"></a>            <span class="k">pass</span>  <span class="c1"># 이미 존재하는 경우</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#chapters-04-system-implementation-__codelineno-12-25"></a>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#chapters-04-system-implementation-__codelineno-12-26"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Classifier Agent started: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">consumer_name</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#chapters-04-system-implementation-__codelineno-12-27"></a>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#chapters-04-system-implementation-__codelineno-12-28"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#chapters-04-system-implementation-__codelineno-12-29"></a>            <span class="c1"># 새 메시지 읽기 (블로킹, 5초 타임아웃)</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#chapters-04-system-implementation-__codelineno-12-30"></a>            <span class="n">messages</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span><span class="o">.</span><span class="n">xreadgroup</span><span class="p">(</span>
</span><span id="__span-12-31"><a id="__codelineno-12-31" name="__codelineno-12-31" href="#chapters-04-system-implementation-__codelineno-12-31"></a>                <span class="n">CLASSIFIER_GROUP</span><span class="p">,</span>
</span><span id="__span-12-32"><a id="__codelineno-12-32" name="__codelineno-12-32" href="#chapters-04-system-implementation-__codelineno-12-32"></a>                <span class="bp">self</span><span class="o">.</span><span class="n">consumer_name</span><span class="p">,</span>
</span><span id="__span-12-33"><a id="__codelineno-12-33" name="__codelineno-12-33" href="#chapters-04-system-implementation-__codelineno-12-33"></a>                <span class="p">{</span><span class="n">QUESTION_STREAM</span><span class="p">:</span> <span class="s1">&#39;&gt;&#39;</span><span class="p">},</span>
</span><span id="__span-12-34"><a id="__codelineno-12-34" name="__codelineno-12-34" href="#chapters-04-system-implementation-__codelineno-12-34"></a>                <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-12-35"><a id="__codelineno-12-35" name="__codelineno-12-35" href="#chapters-04-system-implementation-__codelineno-12-35"></a>                <span class="n">block</span><span class="o">=</span><span class="mi">5000</span>
</span><span id="__span-12-36"><a id="__codelineno-12-36" name="__codelineno-12-36" href="#chapters-04-system-implementation-__codelineno-12-36"></a>            <span class="p">)</span>
</span><span id="__span-12-37"><a id="__codelineno-12-37" name="__codelineno-12-37" href="#chapters-04-system-implementation-__codelineno-12-37"></a>
</span><span id="__span-12-38"><a id="__codelineno-12-38" name="__codelineno-12-38" href="#chapters-04-system-implementation-__codelineno-12-38"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">messages</span><span class="p">:</span>
</span><span id="__span-12-39"><a id="__codelineno-12-39" name="__codelineno-12-39" href="#chapters-04-system-implementation-__codelineno-12-39"></a>                <span class="k">continue</span>
</span><span id="__span-12-40"><a id="__codelineno-12-40" name="__codelineno-12-40" href="#chapters-04-system-implementation-__codelineno-12-40"></a>
</span><span id="__span-12-41"><a id="__codelineno-12-41" name="__codelineno-12-41" href="#chapters-04-system-implementation-__codelineno-12-41"></a>            <span class="k">for</span> <span class="n">stream</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
</span><span id="__span-12-42"><a id="__codelineno-12-42" name="__codelineno-12-42" href="#chapters-04-system-implementation-__codelineno-12-42"></a>                <span class="k">for</span> <span class="n">message_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span><span id="__span-12-43"><a id="__codelineno-12-43" name="__codelineno-12-43" href="#chapters-04-system-implementation-__codelineno-12-43"></a>                    <span class="k">try</span><span class="p">:</span>
</span><span id="__span-12-44"><a id="__codelineno-12-44" name="__codelineno-12-44" href="#chapters-04-system-implementation-__codelineno-12-44"></a>                        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">process_message</span><span class="p">(</span><span class="n">message_id</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
</span><span id="__span-12-45"><a id="__codelineno-12-45" name="__codelineno-12-45" href="#chapters-04-system-implementation-__codelineno-12-45"></a>                    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-12-46"><a id="__codelineno-12-46" name="__codelineno-12-46" href="#chapters-04-system-implementation-__codelineno-12-46"></a>                        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error processing </span><span class="si">{</span><span class="n">message_id</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span><span id="__span-12-47"><a id="__codelineno-12-47" name="__codelineno-12-47" href="#chapters-04-system-implementation-__codelineno-12-47"></a>                        <span class="c1"># 에러 발생 시 재시도 로직 (생략)</span>
</span><span id="__span-12-48"><a id="__codelineno-12-48" name="__codelineno-12-48" href="#chapters-04-system-implementation-__codelineno-12-48"></a>
</span><span id="__span-12-49"><a id="__codelineno-12-49" name="__codelineno-12-49" href="#chapters-04-system-implementation-__codelineno-12-49"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process_message</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-12-50"><a id="__codelineno-12-50" name="__codelineno-12-50" href="#chapters-04-system-implementation-__codelineno-12-50"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-12-51"><a id="__codelineno-12-51" name="__codelineno-12-51" href="#chapters-04-system-implementation-__codelineno-12-51"></a><span class="sd">        메시지를 처리하고 결과를 Redis Streams에 전송한다.</span>
</span><span id="__span-12-52"><a id="__codelineno-12-52" name="__codelineno-12-52" href="#chapters-04-system-implementation-__codelineno-12-52"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-12-53"><a id="__codelineno-12-53" name="__codelineno-12-53" href="#chapters-04-system-implementation-__codelineno-12-53"></a>        <span class="n">session_id</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;session_id&#39;</span><span class="p">]</span>
</span><span id="__span-12-54"><a id="__codelineno-12-54" name="__codelineno-12-54" href="#chapters-04-system-implementation-__codelineno-12-54"></a>        <span class="n">question</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]</span>
</span><span id="__span-12-55"><a id="__codelineno-12-55" name="__codelineno-12-55" href="#chapters-04-system-implementation-__codelineno-12-55"></a>        <span class="n">mode</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;mode&#39;</span><span class="p">]</span>
</span><span id="__span-12-56"><a id="__codelineno-12-56" name="__codelineno-12-56" href="#chapters-04-system-implementation-__codelineno-12-56"></a>
</span><span id="__span-12-57"><a id="__codelineno-12-57" name="__codelineno-12-57" href="#chapters-04-system-implementation-__codelineno-12-57"></a>        <span class="c1"># Freepass 모드는 건너뛰기</span>
</span><span id="__span-12-58"><a id="__codelineno-12-58" name="__codelineno-12-58" href="#chapters-04-system-implementation-__codelineno-12-58"></a>        <span class="k">if</span> <span class="n">mode</span> <span class="o">==</span> <span class="s2">&quot;freepass&quot;</span><span class="p">:</span>
</span><span id="__span-12-59"><a id="__codelineno-12-59" name="__codelineno-12-59" href="#chapters-04-system-implementation-__codelineno-12-59"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span><span class="o">.</span><span class="n">xack</span><span class="p">(</span><span class="n">QUESTION_STREAM</span><span class="p">,</span> <span class="n">CLASSIFIER_GROUP</span><span class="p">,</span> <span class="n">message_id</span><span class="p">)</span>
</span><span id="__span-12-60"><a id="__codelineno-12-60" name="__codelineno-12-60" href="#chapters-04-system-implementation-__codelineno-12-60"></a>            <span class="k">return</span>
</span><span id="__span-12-61"><a id="__codelineno-12-61" name="__codelineno-12-61" href="#chapters-04-system-implementation-__codelineno-12-61"></a>
</span><span id="__span-12-62"><a id="__codelineno-12-62" name="__codelineno-12-62" href="#chapters-04-system-implementation-__codelineno-12-62"></a>        <span class="c1"># LLM 호출</span>
</span><span id="__span-12-63"><a id="__codelineno-12-63" name="__codelineno-12-63" href="#chapters-04-system-implementation-__codelineno-12-63"></a>        <span class="n">classification</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">classify_question</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
</span><span id="__span-12-64"><a id="__codelineno-12-64" name="__codelineno-12-64" href="#chapters-04-system-implementation-__codelineno-12-64"></a>
</span><span id="__span-12-65"><a id="__codelineno-12-65" name="__codelineno-12-65" href="#chapters-04-system-implementation-__codelineno-12-65"></a>        <span class="c1"># 결과를 RESPONSE_STREAM에 전송</span>
</span><span id="__span-12-66"><a id="__codelineno-12-66" name="__codelineno-12-66" href="#chapters-04-system-implementation-__codelineno-12-66"></a>        <span class="n">response</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-12-67"><a id="__codelineno-12-67" name="__codelineno-12-67" href="#chapters-04-system-implementation-__codelineno-12-67"></a>            <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-12-68"><a id="__codelineno-12-68" name="__codelineno-12-68" href="#chapters-04-system-implementation-__codelineno-12-68"></a>            <span class="s2">&quot;agent&quot;</span><span class="p">:</span> <span class="s2">&quot;classifier&quot;</span><span class="p">,</span>
</span><span id="__span-12-69"><a id="__codelineno-12-69" name="__codelineno-12-69" href="#chapters-04-system-implementation-__codelineno-12-69"></a>            <span class="s2">&quot;result&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">classification</span><span class="p">),</span>
</span><span id="__span-12-70"><a id="__codelineno-12-70" name="__codelineno-12-70" href="#chapters-04-system-implementation-__codelineno-12-70"></a>            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
</span><span id="__span-12-71"><a id="__codelineno-12-71" name="__codelineno-12-71" href="#chapters-04-system-implementation-__codelineno-12-71"></a>        <span class="p">}</span>
</span><span id="__span-12-72"><a id="__codelineno-12-72" name="__codelineno-12-72" href="#chapters-04-system-implementation-__codelineno-12-72"></a>
</span><span id="__span-12-73"><a id="__codelineno-12-73" name="__codelineno-12-73" href="#chapters-04-system-implementation-__codelineno-12-73"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span><span class="o">.</span><span class="n">xadd</span><span class="p">(</span><span class="n">RESPONSE_STREAM</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
</span><span id="__span-12-74"><a id="__codelineno-12-74" name="__codelineno-12-74" href="#chapters-04-system-implementation-__codelineno-12-74"></a>
</span><span id="__span-12-75"><a id="__codelineno-12-75" name="__codelineno-12-75" href="#chapters-04-system-implementation-__codelineno-12-75"></a>        <span class="c1"># 메시지 처리 완료 확인 (ACK)</span>
</span><span id="__span-12-76"><a id="__codelineno-12-76" name="__codelineno-12-76" href="#chapters-04-system-implementation-__codelineno-12-76"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">redis_client</span><span class="o">.</span><span class="n">xack</span><span class="p">(</span><span class="n">QUESTION_STREAM</span><span class="p">,</span> <span class="n">CLASSIFIER_GROUP</span><span class="p">,</span> <span class="n">message_id</span><span class="p">)</span>
</span><span id="__span-12-77"><a id="__codelineno-12-77" name="__codelineno-12-77" href="#chapters-04-system-implementation-__codelineno-12-77"></a>
</span><span id="__span-12-78"><a id="__codelineno-12-78" name="__codelineno-12-78" href="#chapters-04-system-implementation-__codelineno-12-78"></a>        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Classification completed for session </span><span class="si">{</span><span class="n">session_id</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-432-server-sent-events-sse">4.3.2 Server-Sent Events (SSE) 스트리밍<a class="headerlink" href="#chapters-04-system-implementation-432-server-sent-events-sse" title="Permanent link">&para;</a></h3>
<p>프론트엔드로 실시간 답변을 스트리밍하는 구현:</p>
<h4 id="chapters-04-system-implementation-sse"><strong>백엔드: SSE 엔드포인트</strong><a class="headerlink" href="#chapters-04-system-implementation-sse" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#chapters-04-system-implementation-__codelineno-13-1"></a><span class="kn">from</span><span class="w"> </span><span class="nn">fastapi.responses</span><span class="w"> </span><span class="kn">import</span> <span class="n">StreamingResponse</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#chapters-04-system-implementation-__codelineno-13-2"></a>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#chapters-04-system-implementation-__codelineno-13-3"></a><span class="nd">@router</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;/sessions/</span><span class="si">{session_id}</span><span class="s2">/stream&quot;</span><span class="p">)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#chapters-04-system-implementation-__codelineno-13-4"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">stream_session_response</span><span class="p">(</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#chapters-04-system-implementation-__codelineno-13-5"></a>    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#chapters-04-system-implementation-__codelineno-13-6"></a>    <span class="n">current_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_current_user</span><span class="p">)</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#chapters-04-system-implementation-__codelineno-13-7"></a><span class="p">):</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#chapters-04-system-implementation-__codelineno-13-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#chapters-04-system-implementation-__codelineno-13-9"></a><span class="sd">    세션의 답변을 실시간으로 스트리밍한다.</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#chapters-04-system-implementation-__codelineno-13-10"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#chapters-04-system-implementation-__codelineno-13-11"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">event_generator</span><span class="p">():</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#chapters-04-system-implementation-__codelineno-13-12"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#chapters-04-system-implementation-__codelineno-13-13"></a><span class="sd">        Redis Streams에서 에이전트 응답을 읽어 SSE로 전송한다.</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#chapters-04-system-implementation-__codelineno-13-14"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#chapters-04-system-implementation-__codelineno-13-15"></a>        <span class="n">last_id</span> <span class="o">=</span> <span class="s1">&#39;$&#39;</span>  <span class="c1"># 최신 메시지부터 읽기</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#chapters-04-system-implementation-__codelineno-13-16"></a>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#chapters-04-system-implementation-__codelineno-13-17"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#chapters-04-system-implementation-__codelineno-13-18"></a>            <span class="c1"># RESPONSE_STREAM에서 새 메시지 읽기</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#chapters-04-system-implementation-__codelineno-13-19"></a>            <span class="n">messages</span> <span class="o">=</span> <span class="k">await</span> <span class="n">redis_client</span><span class="o">.</span><span class="n">xread</span><span class="p">(</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#chapters-04-system-implementation-__codelineno-13-20"></a>                <span class="p">{</span><span class="n">RESPONSE_STREAM</span><span class="p">:</span> <span class="n">last_id</span><span class="p">},</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#chapters-04-system-implementation-__codelineno-13-21"></a>                <span class="n">count</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-13-22"><a id="__codelineno-13-22" name="__codelineno-13-22" href="#chapters-04-system-implementation-__codelineno-13-22"></a>                <span class="n">block</span><span class="o">=</span><span class="mi">1000</span>  <span class="c1"># 1초 대기</span>
</span><span id="__span-13-23"><a id="__codelineno-13-23" name="__codelineno-13-23" href="#chapters-04-system-implementation-__codelineno-13-23"></a>            <span class="p">)</span>
</span><span id="__span-13-24"><a id="__codelineno-13-24" name="__codelineno-13-24" href="#chapters-04-system-implementation-__codelineno-13-24"></a>
</span><span id="__span-13-25"><a id="__codelineno-13-25" name="__codelineno-13-25" href="#chapters-04-system-implementation-__codelineno-13-25"></a>            <span class="k">if</span> <span class="ow">not</span> <span class="n">messages</span><span class="p">:</span>
</span><span id="__span-13-26"><a id="__codelineno-13-26" name="__codelineno-13-26" href="#chapters-04-system-implementation-__codelineno-13-26"></a>                <span class="c1"># 타임아웃 체크 (30초 동안 응답 없으면 종료)</span>
</span><span id="__span-13-27"><a id="__codelineno-13-27" name="__codelineno-13-27" href="#chapters-04-system-implementation-__codelineno-13-27"></a>                <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span> <span class="o">&gt;</span> <span class="mi">30</span><span class="p">:</span>
</span><span id="__span-13-28"><a id="__codelineno-13-28" name="__codelineno-13-28" href="#chapters-04-system-implementation-__codelineno-13-28"></a>                    <span class="k">yield</span> <span class="s2">&quot;data: {</span><span class="se">\&quot;</span><span class="s2">type</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">timeout</span><span class="se">\&quot;</span><span class="s2">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="__span-13-29"><a id="__codelineno-13-29" name="__codelineno-13-29" href="#chapters-04-system-implementation-__codelineno-13-29"></a>                    <span class="k">break</span>
</span><span id="__span-13-30"><a id="__codelineno-13-30" name="__codelineno-13-30" href="#chapters-04-system-implementation-__codelineno-13-30"></a>                <span class="k">continue</span>
</span><span id="__span-13-31"><a id="__codelineno-13-31" name="__codelineno-13-31" href="#chapters-04-system-implementation-__codelineno-13-31"></a>
</span><span id="__span-13-32"><a id="__codelineno-13-32" name="__codelineno-13-32" href="#chapters-04-system-implementation-__codelineno-13-32"></a>            <span class="k">for</span> <span class="n">stream</span><span class="p">,</span> <span class="n">message_list</span> <span class="ow">in</span> <span class="n">messages</span><span class="p">:</span>
</span><span id="__span-13-33"><a id="__codelineno-13-33" name="__codelineno-13-33" href="#chapters-04-system-implementation-__codelineno-13-33"></a>                <span class="k">for</span> <span class="n">message_id</span><span class="p">,</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">message_list</span><span class="p">:</span>
</span><span id="__span-13-34"><a id="__codelineno-13-34" name="__codelineno-13-34" href="#chapters-04-system-implementation-__codelineno-13-34"></a>                    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;session_id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">session_id</span><span class="p">:</span>
</span><span id="__span-13-35"><a id="__codelineno-13-35" name="__codelineno-13-35" href="#chapters-04-system-implementation-__codelineno-13-35"></a>                        <span class="k">continue</span>
</span><span id="__span-13-36"><a id="__codelineno-13-36" name="__codelineno-13-36" href="#chapters-04-system-implementation-__codelineno-13-36"></a>
</span><span id="__span-13-37"><a id="__codelineno-13-37" name="__codelineno-13-37" href="#chapters-04-system-implementation-__codelineno-13-37"></a>                    <span class="c1"># SSE 형식으로 전송</span>
</span><span id="__span-13-38"><a id="__codelineno-13-38" name="__codelineno-13-38" href="#chapters-04-system-implementation-__codelineno-13-38"></a>                    <span class="n">event_data</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-13-39"><a id="__codelineno-13-39" name="__codelineno-13-39" href="#chapters-04-system-implementation-__codelineno-13-39"></a>                        <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;agent&#39;</span><span class="p">],</span>
</span><span id="__span-13-40"><a id="__codelineno-13-40" name="__codelineno-13-40" href="#chapters-04-system-implementation-__codelineno-13-40"></a>                        <span class="s2">&quot;content&quot;</span><span class="p">:</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;result&#39;</span><span class="p">])</span>
</span><span id="__span-13-41"><a id="__codelineno-13-41" name="__codelineno-13-41" href="#chapters-04-system-implementation-__codelineno-13-41"></a>                    <span class="p">}</span>
</span><span id="__span-13-42"><a id="__codelineno-13-42" name="__codelineno-13-42" href="#chapters-04-system-implementation-__codelineno-13-42"></a>                    <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;data: </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">event_data</span><span class="p">)</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="__span-13-43"><a id="__codelineno-13-43" name="__codelineno-13-43" href="#chapters-04-system-implementation-__codelineno-13-43"></a>
</span><span id="__span-13-44"><a id="__codelineno-13-44" name="__codelineno-13-44" href="#chapters-04-system-implementation-__codelineno-13-44"></a>                    <span class="n">last_id</span> <span class="o">=</span> <span class="n">message_id</span>
</span><span id="__span-13-45"><a id="__codelineno-13-45" name="__codelineno-13-45" href="#chapters-04-system-implementation-__codelineno-13-45"></a>
</span><span id="__span-13-46"><a id="__codelineno-13-46" name="__codelineno-13-46" href="#chapters-04-system-implementation-__codelineno-13-46"></a>                    <span class="c1"># 최종 답변이면 스트리밍 종료</span>
</span><span id="__span-13-47"><a id="__codelineno-13-47" name="__codelineno-13-47" href="#chapters-04-system-implementation-__codelineno-13-47"></a>                    <span class="k">if</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;agent&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;answer_generator&#39;</span><span class="p">:</span>
</span><span id="__span-13-48"><a id="__codelineno-13-48" name="__codelineno-13-48" href="#chapters-04-system-implementation-__codelineno-13-48"></a>                        <span class="k">yield</span> <span class="s2">&quot;data: {</span><span class="se">\&quot;</span><span class="s2">type</span><span class="se">\&quot;</span><span class="s2">:</span><span class="se">\&quot;</span><span class="s2">done</span><span class="se">\&quot;</span><span class="s2">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="__span-13-49"><a id="__codelineno-13-49" name="__codelineno-13-49" href="#chapters-04-system-implementation-__codelineno-13-49"></a>                        <span class="k">return</span>
</span><span id="__span-13-50"><a id="__codelineno-13-50" name="__codelineno-13-50" href="#chapters-04-system-implementation-__codelineno-13-50"></a>
</span><span id="__span-13-51"><a id="__codelineno-13-51" name="__codelineno-13-51" href="#chapters-04-system-implementation-__codelineno-13-51"></a>    <span class="k">return</span> <span class="n">StreamingResponse</span><span class="p">(</span>
</span><span id="__span-13-52"><a id="__codelineno-13-52" name="__codelineno-13-52" href="#chapters-04-system-implementation-__codelineno-13-52"></a>        <span class="n">event_generator</span><span class="p">(),</span>
</span><span id="__span-13-53"><a id="__codelineno-13-53" name="__codelineno-13-53" href="#chapters-04-system-implementation-__codelineno-13-53"></a>        <span class="n">media_type</span><span class="o">=</span><span class="s2">&quot;text/event-stream&quot;</span><span class="p">,</span>
</span><span id="__span-13-54"><a id="__codelineno-13-54" name="__codelineno-13-54" href="#chapters-04-system-implementation-__codelineno-13-54"></a>        <span class="n">headers</span><span class="o">=</span><span class="p">{</span>
</span><span id="__span-13-55"><a id="__codelineno-13-55" name="__codelineno-13-55" href="#chapters-04-system-implementation-__codelineno-13-55"></a>            <span class="s2">&quot;Cache-Control&quot;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span><span class="p">,</span>
</span><span id="__span-13-56"><a id="__codelineno-13-56" name="__codelineno-13-56" href="#chapters-04-system-implementation-__codelineno-13-56"></a>            <span class="s2">&quot;Connection&quot;</span><span class="p">:</span> <span class="s2">&quot;keep-alive&quot;</span><span class="p">,</span>
</span><span id="__span-13-57"><a id="__codelineno-13-57" name="__codelineno-13-57" href="#chapters-04-system-implementation-__codelineno-13-57"></a>        <span class="p">}</span>
</span><span id="__span-13-58"><a id="__codelineno-13-58" name="__codelineno-13-58" href="#chapters-04-system-implementation-__codelineno-13-58"></a>    <span class="p">)</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-sse_1"><strong>프론트엔드: SSE 소비</strong><a class="headerlink" href="#chapters-04-system-implementation-sse_1" title="Permanent link">&para;</a></h4>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#chapters-04-system-implementation-__codelineno-14-1"></a><span class="c1">// src/lib/services/sse.service.ts</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#chapters-04-system-implementation-__codelineno-14-2"></a>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#chapters-04-system-implementation-__codelineno-14-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">SSEService</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#chapters-04-system-implementation-__codelineno-14-4"></a><span class="w">  </span><span class="cm">/**</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#chapters-04-system-implementation-__codelineno-14-5"></a><span class="cm">   * 세션의 답변 스트리밍을 시작한다.</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#chapters-04-system-implementation-__codelineno-14-6"></a><span class="cm">   */</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#chapters-04-system-implementation-__codelineno-14-7"></a><span class="w">  </span><span class="nx">streamSession</span><span class="p">(</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#chapters-04-system-implementation-__codelineno-14-8"></a><span class="w">    </span><span class="nx">sessionId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#chapters-04-system-implementation-__codelineno-14-9"></a><span class="w">    </span><span class="nx">onMessage</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="kt">any</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">,</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#chapters-04-system-implementation-__codelineno-14-10"></a><span class="w">    </span><span class="nx">onError</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="o">:</span><span class="w"> </span><span class="kt">Error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#chapters-04-system-implementation-__codelineno-14-11"></a><span class="w">  </span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">EventSource</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#chapters-04-system-implementation-__codelineno-14-12"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`/api/sessions/</span><span class="si">${</span><span class="nx">sessionId</span><span class="si">}</span><span class="sb">/stream`</span><span class="p">;</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#chapters-04-system-implementation-__codelineno-14-13"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">eventSource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">EventSource</span><span class="p">(</span><span class="nx">url</span><span class="p">);</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#chapters-04-system-implementation-__codelineno-14-14"></a>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#chapters-04-system-implementation-__codelineno-14-15"></a><span class="w">    </span><span class="nx">eventSource</span><span class="p">.</span><span class="nx">onmessage</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">event</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#chapters-04-system-implementation-__codelineno-14-16"></a><span class="w">      </span><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">event</span><span class="p">.</span><span class="nx">data</span><span class="p">);</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#chapters-04-system-implementation-__codelineno-14-17"></a>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#chapters-04-system-implementation-__codelineno-14-18"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;done&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#chapters-04-system-implementation-__codelineno-14-19"></a><span class="w">        </span><span class="nx">eventSource</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#chapters-04-system-implementation-__codelineno-14-20"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#chapters-04-system-implementation-__codelineno-14-21"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#chapters-04-system-implementation-__codelineno-14-22"></a>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#chapters-04-system-implementation-__codelineno-14-23"></a><span class="w">      </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="kr">type</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s1">&#39;timeout&#39;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#chapters-04-system-implementation-__codelineno-14-24"></a><span class="w">        </span><span class="nx">eventSource</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#chapters-04-system-implementation-__codelineno-14-25"></a><span class="w">        </span><span class="nx">onError</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;응답 시간 초과&#39;</span><span class="p">));</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#chapters-04-system-implementation-__codelineno-14-26"></a><span class="w">        </span><span class="k">return</span><span class="p">;</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#chapters-04-system-implementation-__codelineno-14-27"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#chapters-04-system-implementation-__codelineno-14-28"></a>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#chapters-04-system-implementation-__codelineno-14-29"></a><span class="w">      </span><span class="nx">onMessage</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#chapters-04-system-implementation-__codelineno-14-30"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#chapters-04-system-implementation-__codelineno-14-31"></a>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#chapters-04-system-implementation-__codelineno-14-32"></a><span class="w">    </span><span class="nx">eventSource</span><span class="p">.</span><span class="nx">onerror</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#chapters-04-system-implementation-__codelineno-14-33"></a><span class="w">      </span><span class="nx">eventSource</span><span class="p">.</span><span class="nx">close</span><span class="p">();</span>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#chapters-04-system-implementation-__codelineno-14-34"></a><span class="w">      </span><span class="nx">onError</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="ne">Error</span><span class="p">(</span><span class="s1">&#39;스트리밍 연결 오류&#39;</span><span class="p">));</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#chapters-04-system-implementation-__codelineno-14-35"></a><span class="w">    </span><span class="p">};</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#chapters-04-system-implementation-__codelineno-14-36"></a>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#chapters-04-system-implementation-__codelineno-14-37"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">eventSource</span><span class="p">;</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#chapters-04-system-implementation-__codelineno-14-38"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#chapters-04-system-implementation-__codelineno-14-39"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-433">4.3.3 에이전트 간 협업 메커니즘<a class="headerlink" href="#chapters-04-system-implementation-433" title="Permanent link">&para;</a></h3>
<p>Classifier → Question Improvement → Answer Generator 순차 실행 구현:</p>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#chapters-04-system-implementation-__codelineno-15-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentOrchestrator</span><span class="p">:</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#chapters-04-system-implementation-__codelineno-15-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#chapters-04-system-implementation-__codelineno-15-3"></a><span class="sd">    에이전트 간 협업을 조율하는 오케스트레이터.</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#chapters-04-system-implementation-__codelineno-15-4"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#chapters-04-system-implementation-__codelineno-15-5"></a>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#chapters-04-system-implementation-__codelineno-15-6"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">handle_agent_workflow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#chapters-04-system-implementation-__codelineno-15-7"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#chapters-04-system-implementation-__codelineno-15-8"></a><span class="sd">        Agent 모드의 전체 워크플로우를 관리한다.</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#chapters-04-system-implementation-__codelineno-15-9"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#chapters-04-system-implementation-__codelineno-15-10"></a>        <span class="c1"># 1단계: Classifier Agent 실행</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#chapters-04-system-implementation-__codelineno-15-11"></a>        <span class="n">classification</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_agent_response</span><span class="p">(</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#chapters-04-system-implementation-__codelineno-15-12"></a>            <span class="n">session_id</span><span class="p">,</span> 
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#chapters-04-system-implementation-__codelineno-15-13"></a>            <span class="n">agent_name</span><span class="o">=</span><span class="s2">&quot;classifier&quot;</span><span class="p">,</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#chapters-04-system-implementation-__codelineno-15-14"></a>            <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#chapters-04-system-implementation-__codelineno-15-15"></a>        <span class="p">)</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#chapters-04-system-implementation-__codelineno-15-16"></a>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#chapters-04-system-implementation-__codelineno-15-17"></a>        <span class="k">if</span> <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;quality&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;unanswerable&#39;</span><span class="p">:</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#chapters-04-system-implementation-__codelineno-15-18"></a>            <span class="c1"># 답변 불가 메시지 전송</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#chapters-04-system-implementation-__codelineno-15-19"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_unanswerable_response</span><span class="p">(</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#chapters-04-system-implementation-__codelineno-15-20"></a>                <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#chapters-04-system-implementation-__codelineno-15-21"></a>                <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;unanswerable_response&#39;</span><span class="p">]</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#chapters-04-system-implementation-__codelineno-15-22"></a>            <span class="p">)</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#chapters-04-system-implementation-__codelineno-15-23"></a>            <span class="k">return</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#chapters-04-system-implementation-__codelineno-15-24"></a>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#chapters-04-system-implementation-__codelineno-15-25"></a>        <span class="k">if</span> <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;quality&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;answerable&#39;</span><span class="p">:</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#chapters-04-system-implementation-__codelineno-15-26"></a>            <span class="c1"># 즉시 답변 생성</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#chapters-04-system-implementation-__codelineno-15-27"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_answer_generator</span><span class="p">(</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#chapters-04-system-implementation-__codelineno-15-28"></a>                <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#chapters-04-system-implementation-__codelineno-15-29"></a>                <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;knowledge_code&#39;</span><span class="p">],</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#chapters-04-system-implementation-__codelineno-15-30"></a>                <span class="n">final_question</span><span class="o">=</span><span class="n">classification</span><span class="p">[</span><span class="s1">&#39;original_question&#39;</span><span class="p">]</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#chapters-04-system-implementation-__codelineno-15-31"></a>            <span class="p">)</span>
</span><span id="__span-15-32"><a id="__codelineno-15-32" name="__codelineno-15-32" href="#chapters-04-system-implementation-__codelineno-15-32"></a>            <span class="k">return</span>
</span><span id="__span-15-33"><a id="__codelineno-15-33" name="__codelineno-15-33" href="#chapters-04-system-implementation-__codelineno-15-33"></a>
</span><span id="__span-15-34"><a id="__codelineno-15-34" name="__codelineno-15-34" href="#chapters-04-system-implementation-__codelineno-15-34"></a>        <span class="c1"># 2단계: needs_clarify인 경우 명료화 프로세스</span>
</span><span id="__span-15-35"><a id="__codelineno-15-35" name="__codelineno-15-35" href="#chapters-04-system-implementation-__codelineno-15-35"></a>        <span class="n">clarification_count</span> <span class="o">=</span> <span class="mi">0</span>
</span><span id="__span-15-36"><a id="__codelineno-15-36" name="__codelineno-15-36" href="#chapters-04-system-implementation-__codelineno-15-36"></a>        <span class="n">max_clarifications</span> <span class="o">=</span> <span class="mi">3</span>
</span><span id="__span-15-37"><a id="__codelineno-15-37" name="__codelineno-15-37" href="#chapters-04-system-implementation-__codelineno-15-37"></a>
</span><span id="__span-15-38"><a id="__codelineno-15-38" name="__codelineno-15-38" href="#chapters-04-system-implementation-__codelineno-15-38"></a>        <span class="k">while</span> <span class="n">clarification_count</span> <span class="o">&lt;</span> <span class="n">max_clarifications</span><span class="p">:</span>
</span><span id="__span-15-39"><a id="__codelineno-15-39" name="__codelineno-15-39" href="#chapters-04-system-implementation-__codelineno-15-39"></a>            <span class="c1"># 명료화 질문 전송</span>
</span><span id="__span-15-40"><a id="__codelineno-15-40" name="__codelineno-15-40" href="#chapters-04-system-implementation-__codelineno-15-40"></a>            <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">send_clarification_question</span><span class="p">(</span>
</span><span id="__span-15-41"><a id="__codelineno-15-41" name="__codelineno-15-41" href="#chapters-04-system-implementation-__codelineno-15-41"></a>                <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-42"><a id="__codelineno-15-42" name="__codelineno-15-42" href="#chapters-04-system-implementation-__codelineno-15-42"></a>                <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;clarification_questions&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-15-43"><a id="__codelineno-15-43" name="__codelineno-15-43" href="#chapters-04-system-implementation-__codelineno-15-43"></a>            <span class="p">)</span>
</span><span id="__span-15-44"><a id="__codelineno-15-44" name="__codelineno-15-44" href="#chapters-04-system-implementation-__codelineno-15-44"></a>
</span><span id="__span-15-45"><a id="__codelineno-15-45" name="__codelineno-15-45" href="#chapters-04-system-implementation-__codelineno-15-45"></a>            <span class="c1"># 학생 답변 대기</span>
</span><span id="__span-15-46"><a id="__codelineno-15-46" name="__codelineno-15-46" href="#chapters-04-system-implementation-__codelineno-15-46"></a>            <span class="n">student_answer</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_student_response</span><span class="p">(</span>
</span><span id="__span-15-47"><a id="__codelineno-15-47" name="__codelineno-15-47" href="#chapters-04-system-implementation-__codelineno-15-47"></a>                <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-48"><a id="__codelineno-15-48" name="__codelineno-15-48" href="#chapters-04-system-implementation-__codelineno-15-48"></a>                <span class="n">timeout</span><span class="o">=</span><span class="mi">300</span>  <span class="c1"># 5분</span>
</span><span id="__span-15-49"><a id="__codelineno-15-49" name="__codelineno-15-49" href="#chapters-04-system-implementation-__codelineno-15-49"></a>            <span class="p">)</span>
</span><span id="__span-15-50"><a id="__codelineno-15-50" name="__codelineno-15-50" href="#chapters-04-system-implementation-__codelineno-15-50"></a>
</span><span id="__span-15-51"><a id="__codelineno-15-51" name="__codelineno-15-51" href="#chapters-04-system-implementation-__codelineno-15-51"></a>            <span class="c1"># Question Improvement Agent 평가</span>
</span><span id="__span-15-52"><a id="__codelineno-15-52" name="__codelineno-15-52" href="#chapters-04-system-implementation-__codelineno-15-52"></a>            <span class="n">evaluation</span> <span class="o">=</span> <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">wait_for_agent_response</span><span class="p">(</span>
</span><span id="__span-15-53"><a id="__codelineno-15-53" name="__codelineno-15-53" href="#chapters-04-system-implementation-__codelineno-15-53"></a>                <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-54"><a id="__codelineno-15-54" name="__codelineno-15-54" href="#chapters-04-system-implementation-__codelineno-15-54"></a>                <span class="n">agent_name</span><span class="o">=</span><span class="s2">&quot;question_improvement&quot;</span><span class="p">,</span>
</span><span id="__span-15-55"><a id="__codelineno-15-55" name="__codelineno-15-55" href="#chapters-04-system-implementation-__codelineno-15-55"></a>                <span class="n">timeout</span><span class="o">=</span><span class="mi">10</span>
</span><span id="__span-15-56"><a id="__codelineno-15-56" name="__codelineno-15-56" href="#chapters-04-system-implementation-__codelineno-15-56"></a>            <span class="p">)</span>
</span><span id="__span-15-57"><a id="__codelineno-15-57" name="__codelineno-15-57" href="#chapters-04-system-implementation-__codelineno-15-57"></a>
</span><span id="__span-15-58"><a id="__codelineno-15-58" name="__codelineno-15-58" href="#chapters-04-system-implementation-__codelineno-15-58"></a>            <span class="k">if</span> <span class="n">evaluation</span><span class="p">[</span><span class="s1">&#39;evaluation&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;PASS&#39;</span><span class="p">:</span>
</span><span id="__span-15-59"><a id="__codelineno-15-59" name="__codelineno-15-59" href="#chapters-04-system-implementation-__codelineno-15-59"></a>                <span class="c1"># 명료화 완료, 답변 생성</span>
</span><span id="__span-15-60"><a id="__codelineno-15-60" name="__codelineno-15-60" href="#chapters-04-system-implementation-__codelineno-15-60"></a>                <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_answer_generator</span><span class="p">(</span>
</span><span id="__span-15-61"><a id="__codelineno-15-61" name="__codelineno-15-61" href="#chapters-04-system-implementation-__codelineno-15-61"></a>                    <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-62"><a id="__codelineno-15-62" name="__codelineno-15-62" href="#chapters-04-system-implementation-__codelineno-15-62"></a>                    <span class="n">evaluation</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;reclassified_knowledge_code&#39;</span><span class="p">,</span> 
</span><span id="__span-15-63"><a id="__codelineno-15-63" name="__codelineno-15-63" href="#chapters-04-system-implementation-__codelineno-15-63"></a>                                   <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;knowledge_code&#39;</span><span class="p">]),</span>
</span><span id="__span-15-64"><a id="__codelineno-15-64" name="__codelineno-15-64" href="#chapters-04-system-implementation-__codelineno-15-64"></a>                    <span class="n">final_question</span><span class="o">=</span><span class="n">evaluation</span><span class="p">[</span><span class="s1">&#39;final_question&#39;</span><span class="p">]</span>
</span><span id="__span-15-65"><a id="__codelineno-15-65" name="__codelineno-15-65" href="#chapters-04-system-implementation-__codelineno-15-65"></a>                <span class="p">)</span>
</span><span id="__span-15-66"><a id="__codelineno-15-66" name="__codelineno-15-66" href="#chapters-04-system-implementation-__codelineno-15-66"></a>                <span class="k">return</span>
</span><span id="__span-15-67"><a id="__codelineno-15-67" name="__codelineno-15-67" href="#chapters-04-system-implementation-__codelineno-15-67"></a>
</span><span id="__span-15-68"><a id="__codelineno-15-68" name="__codelineno-15-68" href="#chapters-04-system-implementation-__codelineno-15-68"></a>            <span class="c1"># NEED_MORE인 경우 다음 명료화 질문</span>
</span><span id="__span-15-69"><a id="__codelineno-15-69" name="__codelineno-15-69" href="#chapters-04-system-implementation-__codelineno-15-69"></a>            <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;clarification_questions&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-15-70"><a id="__codelineno-15-70" name="__codelineno-15-70" href="#chapters-04-system-implementation-__codelineno-15-70"></a>                <span class="n">evaluation</span><span class="p">[</span><span class="s1">&#39;next_clarification&#39;</span><span class="p">]</span>
</span><span id="__span-15-71"><a id="__codelineno-15-71" name="__codelineno-15-71" href="#chapters-04-system-implementation-__codelineno-15-71"></a>            <span class="p">]</span>
</span><span id="__span-15-72"><a id="__codelineno-15-72" name="__codelineno-15-72" href="#chapters-04-system-implementation-__codelineno-15-72"></a>            <span class="n">clarification_count</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-15-73"><a id="__codelineno-15-73" name="__codelineno-15-73" href="#chapters-04-system-implementation-__codelineno-15-73"></a>
</span><span id="__span-15-74"><a id="__codelineno-15-74" name="__codelineno-15-74" href="#chapters-04-system-implementation-__codelineno-15-74"></a>        <span class="c1"># 최대 명료화 횟수 도달, 현재 정보로 답변 생성</span>
</span><span id="__span-15-75"><a id="__codelineno-15-75" name="__codelineno-15-75" href="#chapters-04-system-implementation-__codelineno-15-75"></a>        <span class="k">await</span> <span class="bp">self</span><span class="o">.</span><span class="n">trigger_answer_generator</span><span class="p">(</span>
</span><span id="__span-15-76"><a id="__codelineno-15-76" name="__codelineno-15-76" href="#chapters-04-system-implementation-__codelineno-15-76"></a>            <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-15-77"><a id="__codelineno-15-77" name="__codelineno-15-77" href="#chapters-04-system-implementation-__codelineno-15-77"></a>            <span class="n">classification</span><span class="p">[</span><span class="s1">&#39;knowledge_code&#39;</span><span class="p">],</span>
</span><span id="__span-15-78"><a id="__codelineno-15-78" name="__codelineno-15-78" href="#chapters-04-system-implementation-__codelineno-15-78"></a>            <span class="n">final_question</span><span class="o">=</span><span class="n">student_answer</span>
</span><span id="__span-15-79"><a id="__codelineno-15-79" name="__codelineno-15-79" href="#chapters-04-system-implementation-__codelineno-15-79"></a>        <span class="p">)</span>
</span></code></pre></div>
<hr />
<h2 id="chapters-04-system-implementation-44">4.4 배포 및 인프라<a class="headerlink" href="#chapters-04-system-implementation-44" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-441-docker">4.4.1 Docker 기반 배포<a class="headerlink" href="#chapters-04-system-implementation-441-docker" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-docker-compose"><strong>Docker Compose 구성</strong><a class="headerlink" href="#chapters-04-system-implementation-docker-compose" title="Permanent link">&para;</a></h4>
<div class="language-yaml highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#chapters-04-system-implementation-__codelineno-16-1"></a><span class="c1"># docker-compose.yml</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#chapters-04-system-implementation-__codelineno-16-2"></a><span class="nt">version</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;3.8&#39;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#chapters-04-system-implementation-__codelineno-16-3"></a>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#chapters-04-system-implementation-__codelineno-16-4"></a><span class="nt">services</span><span class="p">:</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#chapters-04-system-implementation-__codelineno-16-5"></a><span class="w">  </span><span class="c1"># PostgreSQL 데이터베이스</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#chapters-04-system-implementation-__codelineno-16-6"></a><span class="w">  </span><span class="nt">postgres</span><span class="p">:</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#chapters-04-system-implementation-__codelineno-16-7"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgres:15-alpine</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#chapters-04-system-implementation-__codelineno-16-8"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#chapters-04-system-implementation-__codelineno-16-9"></a><span class="w">      </span><span class="nt">POSTGRES_DB</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maice_agent</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#chapters-04-system-implementation-__codelineno-16-10"></a><span class="w">      </span><span class="nt">POSTGRES_USER</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">maice</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#chapters-04-system-implementation-__codelineno-16-11"></a><span class="w">      </span><span class="nt">POSTGRES_PASSWORD</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${POSTGRES_PASSWORD}</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#chapters-04-system-implementation-__codelineno-16-12"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#chapters-04-system-implementation-__codelineno-16-13"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgres_data:/var/lib/postgresql/data</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#chapters-04-system-implementation-__codelineno-16-14"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#chapters-04-system-implementation-__codelineno-16-15"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;5432:5432&quot;</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#chapters-04-system-implementation-__codelineno-16-16"></a><span class="w">    </span><span class="nt">healthcheck</span><span class="p">:</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#chapters-04-system-implementation-__codelineno-16-17"></a><span class="w">      </span><span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;CMD-SHELL&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;pg_isready</span><span class="nv"> </span><span class="s">-U</span><span class="nv"> </span><span class="s">maice&quot;</span><span class="p p-Indicator">]</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#chapters-04-system-implementation-__codelineno-16-18"></a><span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10s</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#chapters-04-system-implementation-__codelineno-16-19"></a><span class="w">      </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5s</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#chapters-04-system-implementation-__codelineno-16-20"></a><span class="w">      </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#chapters-04-system-implementation-__codelineno-16-21"></a>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#chapters-04-system-implementation-__codelineno-16-22"></a><span class="w">  </span><span class="c1"># Redis 메시지 브로커</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#chapters-04-system-implementation-__codelineno-16-23"></a><span class="w">  </span><span class="nt">redis</span><span class="p">:</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#chapters-04-system-implementation-__codelineno-16-24"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis:7-alpine</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#chapters-04-system-implementation-__codelineno-16-25"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#chapters-04-system-implementation-__codelineno-16-26"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;6379:6379&quot;</span>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#chapters-04-system-implementation-__codelineno-16-27"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-28"><a id="__codelineno-16-28" name="__codelineno-16-28" href="#chapters-04-system-implementation-__codelineno-16-28"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis_data:/data</span>
</span><span id="__span-16-29"><a id="__codelineno-16-29" name="__codelineno-16-29" href="#chapters-04-system-implementation-__codelineno-16-29"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis-server --appendonly yes</span>
</span><span id="__span-16-30"><a id="__codelineno-16-30" name="__codelineno-16-30" href="#chapters-04-system-implementation-__codelineno-16-30"></a><span class="w">    </span><span class="nt">healthcheck</span><span class="p">:</span>
</span><span id="__span-16-31"><a id="__codelineno-16-31" name="__codelineno-16-31" href="#chapters-04-system-implementation-__codelineno-16-31"></a><span class="w">      </span><span class="nt">test</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">[</span><span class="s">&quot;CMD&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;redis-cli&quot;</span><span class="p p-Indicator">,</span><span class="w"> </span><span class="s">&quot;ping&quot;</span><span class="p p-Indicator">]</span>
</span><span id="__span-16-32"><a id="__codelineno-16-32" name="__codelineno-16-32" href="#chapters-04-system-implementation-__codelineno-16-32"></a><span class="w">      </span><span class="nt">interval</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">10s</span>
</span><span id="__span-16-33"><a id="__codelineno-16-33" name="__codelineno-16-33" href="#chapters-04-system-implementation-__codelineno-16-33"></a><span class="w">      </span><span class="nt">timeout</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">3s</span>
</span><span id="__span-16-34"><a id="__codelineno-16-34" name="__codelineno-16-34" href="#chapters-04-system-implementation-__codelineno-16-34"></a><span class="w">      </span><span class="nt">retries</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span>
</span><span id="__span-16-35"><a id="__codelineno-16-35" name="__codelineno-16-35" href="#chapters-04-system-implementation-__codelineno-16-35"></a>
</span><span id="__span-16-36"><a id="__codelineno-16-36" name="__codelineno-16-36" href="#chapters-04-system-implementation-__codelineno-16-36"></a><span class="w">  </span><span class="c1"># FastAPI 백엔드</span>
</span><span id="__span-16-37"><a id="__codelineno-16-37" name="__codelineno-16-37" href="#chapters-04-system-implementation-__codelineno-16-37"></a><span class="w">  </span><span class="nt">backend</span><span class="p">:</span>
</span><span id="__span-16-38"><a id="__codelineno-16-38" name="__codelineno-16-38" href="#chapters-04-system-implementation-__codelineno-16-38"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span>
</span><span id="__span-16-39"><a id="__codelineno-16-39" name="__codelineno-16-39" href="#chapters-04-system-implementation-__codelineno-16-39"></a><span class="w">      </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./backend</span>
</span><span id="__span-16-40"><a id="__codelineno-16-40" name="__codelineno-16-40" href="#chapters-04-system-implementation-__codelineno-16-40"></a><span class="w">      </span><span class="nt">dockerfile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
</span><span id="__span-16-41"><a id="__codelineno-16-41" name="__codelineno-16-41" href="#chapters-04-system-implementation-__codelineno-16-41"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
</span><span id="__span-16-42"><a id="__codelineno-16-42" name="__codelineno-16-42" href="#chapters-04-system-implementation-__codelineno-16-42"></a><span class="w">      </span><span class="nt">DATABASE_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql://maice:${POSTGRES_PASSWORD}@postgres:5432/maice_agent</span>
</span><span id="__span-16-43"><a id="__codelineno-16-43" name="__codelineno-16-43" href="#chapters-04-system-implementation-__codelineno-16-43"></a><span class="w">      </span><span class="nt">REDIS_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis://redis:6379/0</span>
</span><span id="__span-16-44"><a id="__codelineno-16-44" name="__codelineno-16-44" href="#chapters-04-system-implementation-__codelineno-16-44"></a><span class="w">      </span><span class="nt">GEMINI_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${GEMINI_API_KEY}</span>
</span><span id="__span-16-45"><a id="__codelineno-16-45" name="__codelineno-16-45" href="#chapters-04-system-implementation-__codelineno-16-45"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-16-46"><a id="__codelineno-16-46" name="__codelineno-16-46" href="#chapters-04-system-implementation-__codelineno-16-46"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;8000:8000&quot;</span>
</span><span id="__span-16-47"><a id="__codelineno-16-47" name="__codelineno-16-47" href="#chapters-04-system-implementation-__codelineno-16-47"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-16-48"><a id="__codelineno-16-48" name="__codelineno-16-48" href="#chapters-04-system-implementation-__codelineno-16-48"></a><span class="w">      </span><span class="nt">postgres</span><span class="p">:</span>
</span><span id="__span-16-49"><a id="__codelineno-16-49" name="__codelineno-16-49" href="#chapters-04-system-implementation-__codelineno-16-49"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service_healthy</span>
</span><span id="__span-16-50"><a id="__codelineno-16-50" name="__codelineno-16-50" href="#chapters-04-system-implementation-__codelineno-16-50"></a><span class="w">      </span><span class="nt">redis</span><span class="p">:</span>
</span><span id="__span-16-51"><a id="__codelineno-16-51" name="__codelineno-16-51" href="#chapters-04-system-implementation-__codelineno-16-51"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service_healthy</span>
</span><span id="__span-16-52"><a id="__codelineno-16-52" name="__codelineno-16-52" href="#chapters-04-system-implementation-__codelineno-16-52"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-53"><a id="__codelineno-16-53" name="__codelineno-16-53" href="#chapters-04-system-implementation-__codelineno-16-53"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./backend:/app</span>
</span><span id="__span-16-54"><a id="__codelineno-16-54" name="__codelineno-16-54" href="#chapters-04-system-implementation-__codelineno-16-54"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uvicorn main:app --host 0.0.0.0 --port 8000 --reload</span>
</span><span id="__span-16-55"><a id="__codelineno-16-55" name="__codelineno-16-55" href="#chapters-04-system-implementation-__codelineno-16-55"></a>
</span><span id="__span-16-56"><a id="__codelineno-16-56" name="__codelineno-16-56" href="#chapters-04-system-implementation-__codelineno-16-56"></a><span class="w">  </span><span class="c1"># SvelteKit 프론트엔드</span>
</span><span id="__span-16-57"><a id="__codelineno-16-57" name="__codelineno-16-57" href="#chapters-04-system-implementation-__codelineno-16-57"></a><span class="w">  </span><span class="nt">frontend</span><span class="p">:</span>
</span><span id="__span-16-58"><a id="__codelineno-16-58" name="__codelineno-16-58" href="#chapters-04-system-implementation-__codelineno-16-58"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span>
</span><span id="__span-16-59"><a id="__codelineno-16-59" name="__codelineno-16-59" href="#chapters-04-system-implementation-__codelineno-16-59"></a><span class="w">      </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./frontend</span>
</span><span id="__span-16-60"><a id="__codelineno-16-60" name="__codelineno-16-60" href="#chapters-04-system-implementation-__codelineno-16-60"></a><span class="w">      </span><span class="nt">dockerfile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
</span><span id="__span-16-61"><a id="__codelineno-16-61" name="__codelineno-16-61" href="#chapters-04-system-implementation-__codelineno-16-61"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
</span><span id="__span-16-62"><a id="__codelineno-16-62" name="__codelineno-16-62" href="#chapters-04-system-implementation-__codelineno-16-62"></a><span class="w">      </span><span class="nt">PUBLIC_API_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">http://backend:8000</span>
</span><span id="__span-16-63"><a id="__codelineno-16-63" name="__codelineno-16-63" href="#chapters-04-system-implementation-__codelineno-16-63"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-16-64"><a id="__codelineno-16-64" name="__codelineno-16-64" href="#chapters-04-system-implementation-__codelineno-16-64"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;3000:3000&quot;</span>
</span><span id="__span-16-65"><a id="__codelineno-16-65" name="__codelineno-16-65" href="#chapters-04-system-implementation-__codelineno-16-65"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-16-66"><a id="__codelineno-16-66" name="__codelineno-16-66" href="#chapters-04-system-implementation-__codelineno-16-66"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">backend</span>
</span><span id="__span-16-67"><a id="__codelineno-16-67" name="__codelineno-16-67" href="#chapters-04-system-implementation-__codelineno-16-67"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-68"><a id="__codelineno-16-68" name="__codelineno-16-68" href="#chapters-04-system-implementation-__codelineno-16-68"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./frontend:/app</span>
</span><span id="__span-16-69"><a id="__codelineno-16-69" name="__codelineno-16-69" href="#chapters-04-system-implementation-__codelineno-16-69"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">npm run dev -- --host</span>
</span><span id="__span-16-70"><a id="__codelineno-16-70" name="__codelineno-16-70" href="#chapters-04-system-implementation-__codelineno-16-70"></a>
</span><span id="__span-16-71"><a id="__codelineno-16-71" name="__codelineno-16-71" href="#chapters-04-system-implementation-__codelineno-16-71"></a><span class="w">  </span><span class="c1"># AI 에이전트 (멀티프로세스)</span>
</span><span id="__span-16-72"><a id="__codelineno-16-72" name="__codelineno-16-72" href="#chapters-04-system-implementation-__codelineno-16-72"></a><span class="w">  </span><span class="nt">agents</span><span class="p">:</span>
</span><span id="__span-16-73"><a id="__codelineno-16-73" name="__codelineno-16-73" href="#chapters-04-system-implementation-__codelineno-16-73"></a><span class="w">    </span><span class="nt">build</span><span class="p">:</span>
</span><span id="__span-16-74"><a id="__codelineno-16-74" name="__codelineno-16-74" href="#chapters-04-system-implementation-__codelineno-16-74"></a><span class="w">      </span><span class="nt">context</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./agents</span>
</span><span id="__span-16-75"><a id="__codelineno-16-75" name="__codelineno-16-75" href="#chapters-04-system-implementation-__codelineno-16-75"></a><span class="w">      </span><span class="nt">dockerfile</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">Dockerfile</span>
</span><span id="__span-16-76"><a id="__codelineno-16-76" name="__codelineno-16-76" href="#chapters-04-system-implementation-__codelineno-16-76"></a><span class="w">    </span><span class="nt">environment</span><span class="p">:</span>
</span><span id="__span-16-77"><a id="__codelineno-16-77" name="__codelineno-16-77" href="#chapters-04-system-implementation-__codelineno-16-77"></a><span class="w">      </span><span class="nt">REDIS_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">redis://redis:6379/0</span>
</span><span id="__span-16-78"><a id="__codelineno-16-78" name="__codelineno-16-78" href="#chapters-04-system-implementation-__codelineno-16-78"></a><span class="w">      </span><span class="nt">DATABASE_URL</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">postgresql://maice:${POSTGRES_PASSWORD}@postgres:5432/maice_agent</span>
</span><span id="__span-16-79"><a id="__codelineno-16-79" name="__codelineno-16-79" href="#chapters-04-system-implementation-__codelineno-16-79"></a><span class="w">      </span><span class="nt">GEMINI_API_KEY</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">${GEMINI_API_KEY}</span>
</span><span id="__span-16-80"><a id="__codelineno-16-80" name="__codelineno-16-80" href="#chapters-04-system-implementation-__codelineno-16-80"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-16-81"><a id="__codelineno-16-81" name="__codelineno-16-81" href="#chapters-04-system-implementation-__codelineno-16-81"></a><span class="w">      </span><span class="nt">postgres</span><span class="p">:</span>
</span><span id="__span-16-82"><a id="__codelineno-16-82" name="__codelineno-16-82" href="#chapters-04-system-implementation-__codelineno-16-82"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service_healthy</span>
</span><span id="__span-16-83"><a id="__codelineno-16-83" name="__codelineno-16-83" href="#chapters-04-system-implementation-__codelineno-16-83"></a><span class="w">      </span><span class="nt">redis</span><span class="p">:</span>
</span><span id="__span-16-84"><a id="__codelineno-16-84" name="__codelineno-16-84" href="#chapters-04-system-implementation-__codelineno-16-84"></a><span class="w">        </span><span class="nt">condition</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">service_healthy</span>
</span><span id="__span-16-85"><a id="__codelineno-16-85" name="__codelineno-16-85" href="#chapters-04-system-implementation-__codelineno-16-85"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-86"><a id="__codelineno-16-86" name="__codelineno-16-86" href="#chapters-04-system-implementation-__codelineno-16-86"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./agents:/app</span>
</span><span id="__span-16-87"><a id="__codelineno-16-87" name="__codelineno-16-87" href="#chapters-04-system-implementation-__codelineno-16-87"></a><span class="w">    </span><span class="nt">command</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">python run_all_agents.py</span>
</span><span id="__span-16-88"><a id="__codelineno-16-88" name="__codelineno-16-88" href="#chapters-04-system-implementation-__codelineno-16-88"></a>
</span><span id="__span-16-89"><a id="__codelineno-16-89" name="__codelineno-16-89" href="#chapters-04-system-implementation-__codelineno-16-89"></a><span class="w">  </span><span class="c1"># Nginx 리버스 프록시</span>
</span><span id="__span-16-90"><a id="__codelineno-16-90" name="__codelineno-16-90" href="#chapters-04-system-implementation-__codelineno-16-90"></a><span class="w">  </span><span class="nt">nginx</span><span class="p">:</span>
</span><span id="__span-16-91"><a id="__codelineno-16-91" name="__codelineno-16-91" href="#chapters-04-system-implementation-__codelineno-16-91"></a><span class="w">    </span><span class="nt">image</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">nginx:alpine</span>
</span><span id="__span-16-92"><a id="__codelineno-16-92" name="__codelineno-16-92" href="#chapters-04-system-implementation-__codelineno-16-92"></a><span class="w">    </span><span class="nt">ports</span><span class="p">:</span>
</span><span id="__span-16-93"><a id="__codelineno-16-93" name="__codelineno-16-93" href="#chapters-04-system-implementation-__codelineno-16-93"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;80:80&quot;</span>
</span><span id="__span-16-94"><a id="__codelineno-16-94" name="__codelineno-16-94" href="#chapters-04-system-implementation-__codelineno-16-94"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="s">&quot;443:443&quot;</span>
</span><span id="__span-16-95"><a id="__codelineno-16-95" name="__codelineno-16-95" href="#chapters-04-system-implementation-__codelineno-16-95"></a><span class="w">    </span><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-96"><a id="__codelineno-16-96" name="__codelineno-16-96" href="#chapters-04-system-implementation-__codelineno-16-96"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./nginx/nginx.conf:/etc/nginx/nginx.conf:ro</span>
</span><span id="__span-16-97"><a id="__codelineno-16-97" name="__codelineno-16-97" href="#chapters-04-system-implementation-__codelineno-16-97"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">./nginx/ssl:/etc/nginx/ssl:ro</span>
</span><span id="__span-16-98"><a id="__codelineno-16-98" name="__codelineno-16-98" href="#chapters-04-system-implementation-__codelineno-16-98"></a><span class="w">    </span><span class="nt">depends_on</span><span class="p">:</span>
</span><span id="__span-16-99"><a id="__codelineno-16-99" name="__codelineno-16-99" href="#chapters-04-system-implementation-__codelineno-16-99"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">frontend</span>
</span><span id="__span-16-100"><a id="__codelineno-16-100" name="__codelineno-16-100" href="#chapters-04-system-implementation-__codelineno-16-100"></a><span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">backend</span>
</span><span id="__span-16-101"><a id="__codelineno-16-101" name="__codelineno-16-101" href="#chapters-04-system-implementation-__codelineno-16-101"></a>
</span><span id="__span-16-102"><a id="__codelineno-16-102" name="__codelineno-16-102" href="#chapters-04-system-implementation-__codelineno-16-102"></a><span class="nt">volumes</span><span class="p">:</span>
</span><span id="__span-16-103"><a id="__codelineno-16-103" name="__codelineno-16-103" href="#chapters-04-system-implementation-__codelineno-16-103"></a><span class="w">  </span><span class="nt">postgres_data</span><span class="p">:</span>
</span><span id="__span-16-104"><a id="__codelineno-16-104" name="__codelineno-16-104" href="#chapters-04-system-implementation-__codelineno-16-104"></a><span class="w">  </span><span class="nt">redis_data</span><span class="p">:</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-_5"><strong>에이전트 멀티프로세스 실행</strong><a class="headerlink" href="#chapters-04-system-implementation-_5" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#chapters-04-system-implementation-__codelineno-17-1"></a><span class="c1"># agents/run_all_agents.py</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#chapters-04-system-implementation-__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#chapters-04-system-implementation-__codelineno-17-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">multiprocessing</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#chapters-04-system-implementation-__codelineno-17-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">classifier_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">ClassifierAgent</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#chapters-04-system-implementation-__codelineno-17-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">question_improvement_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">QuestionImprovementAgent</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#chapters-04-system-implementation-__codelineno-17-6"></a><span class="kn">from</span><span class="w"> </span><span class="nn">answer_generator_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">AnswerGeneratorAgent</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#chapters-04-system-implementation-__codelineno-17-7"></a><span class="kn">from</span><span class="w"> </span><span class="nn">observer_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">ObserverAgent</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#chapters-04-system-implementation-__codelineno-17-8"></a><span class="kn">from</span><span class="w"> </span><span class="nn">freetalker_agent</span><span class="w"> </span><span class="kn">import</span> <span class="n">FreeTalkerAgent</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#chapters-04-system-implementation-__codelineno-17-9"></a>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#chapters-04-system-implementation-__codelineno-17-10"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_classifier</span><span class="p">():</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#chapters-04-system-implementation-__codelineno-17-11"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">ClassifierAgent</span><span class="p">()</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#chapters-04-system-implementation-__codelineno-17-12"></a>    <span class="n">agent</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#chapters-04-system-implementation-__codelineno-17-13"></a>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#chapters-04-system-implementation-__codelineno-17-14"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_question_improvement</span><span class="p">():</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#chapters-04-system-implementation-__codelineno-17-15"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">QuestionImprovementAgent</span><span class="p">()</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#chapters-04-system-implementation-__codelineno-17-16"></a>    <span class="n">agent</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#chapters-04-system-implementation-__codelineno-17-17"></a>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#chapters-04-system-implementation-__codelineno-17-18"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_answer_generator</span><span class="p">():</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#chapters-04-system-implementation-__codelineno-17-19"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">AnswerGeneratorAgent</span><span class="p">()</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#chapters-04-system-implementation-__codelineno-17-20"></a>    <span class="n">agent</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#chapters-04-system-implementation-__codelineno-17-21"></a>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#chapters-04-system-implementation-__codelineno-17-22"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_observer</span><span class="p">():</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#chapters-04-system-implementation-__codelineno-17-23"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">ObserverAgent</span><span class="p">()</span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#chapters-04-system-implementation-__codelineno-17-24"></a>    <span class="n">agent</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#chapters-04-system-implementation-__codelineno-17-25"></a>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#chapters-04-system-implementation-__codelineno-17-26"></a><span class="k">def</span><span class="w"> </span><span class="nf">run_freetalker</span><span class="p">():</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#chapters-04-system-implementation-__codelineno-17-27"></a>    <span class="n">agent</span> <span class="o">=</span> <span class="n">FreeTalkerAgent</span><span class="p">()</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#chapters-04-system-implementation-__codelineno-17-28"></a>    <span class="n">agent</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#chapters-04-system-implementation-__codelineno-17-29"></a>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#chapters-04-system-implementation-__codelineno-17-30"></a><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
</span><span id="__span-17-31"><a id="__codelineno-17-31" name="__codelineno-17-31" href="#chapters-04-system-implementation-__codelineno-17-31"></a>    <span class="c1"># 각 에이전트를 독립 프로세스로 실행</span>
</span><span id="__span-17-32"><a id="__codelineno-17-32" name="__codelineno-17-32" href="#chapters-04-system-implementation-__codelineno-17-32"></a>    <span class="n">processes</span> <span class="o">=</span> <span class="p">[</span>
</span><span id="__span-17-33"><a id="__codelineno-17-33" name="__codelineno-17-33" href="#chapters-04-system-implementation-__codelineno-17-33"></a>        <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_classifier</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Classifier&quot;</span><span class="p">),</span>
</span><span id="__span-17-34"><a id="__codelineno-17-34" name="__codelineno-17-34" href="#chapters-04-system-implementation-__codelineno-17-34"></a>        <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_question_improvement</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;QuestionImprovement&quot;</span><span class="p">),</span>
</span><span id="__span-17-35"><a id="__codelineno-17-35" name="__codelineno-17-35" href="#chapters-04-system-implementation-__codelineno-17-35"></a>        <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_answer_generator</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;AnswerGenerator&quot;</span><span class="p">),</span>
</span><span id="__span-17-36"><a id="__codelineno-17-36" name="__codelineno-17-36" href="#chapters-04-system-implementation-__codelineno-17-36"></a>        <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_observer</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;Observer&quot;</span><span class="p">),</span>
</span><span id="__span-17-37"><a id="__codelineno-17-37" name="__codelineno-17-37" href="#chapters-04-system-implementation-__codelineno-17-37"></a>        <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">run_freetalker</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;FreeTalker&quot;</span><span class="p">),</span>
</span><span id="__span-17-38"><a id="__codelineno-17-38" name="__codelineno-17-38" href="#chapters-04-system-implementation-__codelineno-17-38"></a>    <span class="p">]</span>
</span><span id="__span-17-39"><a id="__codelineno-17-39" name="__codelineno-17-39" href="#chapters-04-system-implementation-__codelineno-17-39"></a>
</span><span id="__span-17-40"><a id="__codelineno-17-40" name="__codelineno-17-40" href="#chapters-04-system-implementation-__codelineno-17-40"></a>    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">processes</span><span class="p">:</span>
</span><span id="__span-17-41"><a id="__codelineno-17-41" name="__codelineno-17-41" href="#chapters-04-system-implementation-__codelineno-17-41"></a>        <span class="n">p</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-17-42"><a id="__codelineno-17-42" name="__codelineno-17-42" href="#chapters-04-system-implementation-__codelineno-17-42"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Started </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">name</span><span class="si">}</span><span class="s2"> (PID: </span><span class="si">{</span><span class="n">p</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-17-43"><a id="__codelineno-17-43" name="__codelineno-17-43" href="#chapters-04-system-implementation-__codelineno-17-43"></a>
</span><span id="__span-17-44"><a id="__codelineno-17-44" name="__codelineno-17-44" href="#chapters-04-system-implementation-__codelineno-17-44"></a>    <span class="c1"># 모든 프로세스 대기</span>
</span><span id="__span-17-45"><a id="__codelineno-17-45" name="__codelineno-17-45" href="#chapters-04-system-implementation-__codelineno-17-45"></a>    <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">processes</span><span class="p">:</span>
</span><span id="__span-17-46"><a id="__codelineno-17-46" name="__codelineno-17-46" href="#chapters-04-system-implementation-__codelineno-17-46"></a>        <span class="n">p</span><span class="o">.</span><span class="n">join</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-442">4.4.2 성능 최적화<a class="headerlink" href="#chapters-04-system-implementation-442" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-redis-connection-pooling"><strong>Redis Connection Pooling</strong><a class="headerlink" href="#chapters-04-system-implementation-redis-connection-pooling" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#chapters-04-system-implementation-__codelineno-18-1"></a><span class="c1"># config/redis_config.py</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#chapters-04-system-implementation-__codelineno-18-2"></a>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#chapters-04-system-implementation-__codelineno-18-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">redis.asyncio</span><span class="w"> </span><span class="kn">import</span> <span class="n">Redis</span><span class="p">,</span> <span class="n">ConnectionPool</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#chapters-04-system-implementation-__codelineno-18-4"></a>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#chapters-04-system-implementation-__codelineno-18-5"></a><span class="c1"># Connection Pool 설정</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#chapters-04-system-implementation-__codelineno-18-6"></a><span class="n">redis_pool</span> <span class="o">=</span> <span class="n">ConnectionPool</span><span class="p">(</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#chapters-04-system-implementation-__codelineno-18-7"></a>    <span class="n">host</span><span class="o">=</span><span class="s1">&#39;redis&#39;</span><span class="p">,</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#chapters-04-system-implementation-__codelineno-18-8"></a>    <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#chapters-04-system-implementation-__codelineno-18-9"></a>    <span class="n">db</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#chapters-04-system-implementation-__codelineno-18-10"></a>    <span class="n">max_connections</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span>  <span class="c1"># 최대 연결 수</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#chapters-04-system-implementation-__codelineno-18-11"></a>    <span class="n">decode_responses</span><span class="o">=</span><span class="kc">False</span>  <span class="c1"># 바이너리 데이터 지원</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#chapters-04-system-implementation-__codelineno-18-12"></a><span class="p">)</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#chapters-04-system-implementation-__codelineno-18-13"></a>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#chapters-04-system-implementation-__codelineno-18-14"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_redis_client</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">Redis</span><span class="p">:</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#chapters-04-system-implementation-__codelineno-18-15"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#chapters-04-system-implementation-__codelineno-18-16"></a><span class="sd">    Redis 클라이언트를 Connection Pool에서 가져온다.</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#chapters-04-system-implementation-__codelineno-18-17"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#chapters-04-system-implementation-__codelineno-18-18"></a>    <span class="k">return</span> <span class="n">Redis</span><span class="p">(</span><span class="n">connection_pool</span><span class="o">=</span><span class="n">redis_pool</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-postgresql-connection-pooling"><strong>PostgreSQL Connection Pooling</strong><a class="headerlink" href="#chapters-04-system-implementation-postgresql-connection-pooling" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#chapters-04-system-implementation-__codelineno-19-1"></a><span class="c1"># config/database_config.py</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#chapters-04-system-implementation-__codelineno-19-2"></a>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#chapters-04-system-implementation-__codelineno-19-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.ext.asyncio</span><span class="w"> </span><span class="kn">import</span> <span class="n">create_async_engine</span><span class="p">,</span> <span class="n">AsyncSession</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#chapters-04-system-implementation-__codelineno-19-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.orm</span><span class="w"> </span><span class="kn">import</span> <span class="n">sessionmaker</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#chapters-04-system-implementation-__codelineno-19-5"></a>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#chapters-04-system-implementation-__codelineno-19-6"></a><span class="c1"># 비동기 엔진 생성</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#chapters-04-system-implementation-__codelineno-19-7"></a><span class="n">engine</span> <span class="o">=</span> <span class="n">create_async_engine</span><span class="p">(</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#chapters-04-system-implementation-__codelineno-19-8"></a>    <span class="s2">&quot;postgresql+asyncpg://maice:password@postgres:5432/maice_agent&quot;</span><span class="p">,</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#chapters-04-system-implementation-__codelineno-19-9"></a>    <span class="n">pool_size</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span>  <span class="c1"># Connection Pool 크기</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#chapters-04-system-implementation-__codelineno-19-10"></a>    <span class="n">max_overflow</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>  <span class="c1"># 추가 연결 허용</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#chapters-04-system-implementation-__codelineno-19-11"></a>    <span class="n">pool_pre_ping</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>  <span class="c1"># 연결 유효성 검사</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#chapters-04-system-implementation-__codelineno-19-12"></a>    <span class="n">echo</span><span class="o">=</span><span class="kc">False</span>  <span class="c1"># SQL 로깅 비활성화 (프로덕션)</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#chapters-04-system-implementation-__codelineno-19-13"></a><span class="p">)</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#chapters-04-system-implementation-__codelineno-19-14"></a>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#chapters-04-system-implementation-__codelineno-19-15"></a><span class="c1"># 세션 팩토리</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#chapters-04-system-implementation-__codelineno-19-16"></a><span class="n">AsyncSessionLocal</span> <span class="o">=</span> <span class="n">sessionmaker</span><span class="p">(</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#chapters-04-system-implementation-__codelineno-19-17"></a>    <span class="n">engine</span><span class="p">,</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#chapters-04-system-implementation-__codelineno-19-18"></a>    <span class="n">class_</span><span class="o">=</span><span class="n">AsyncSession</span><span class="p">,</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#chapters-04-system-implementation-__codelineno-19-19"></a>    <span class="n">expire_on_commit</span><span class="o">=</span><span class="kc">False</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#chapters-04-system-implementation-__codelineno-19-20"></a><span class="p">)</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#chapters-04-system-implementation-__codelineno-19-21"></a>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#chapters-04-system-implementation-__codelineno-19-22"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_db</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="n">AsyncSession</span><span class="p">:</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#chapters-04-system-implementation-__codelineno-19-23"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#chapters-04-system-implementation-__codelineno-19-24"></a><span class="sd">    데이터베이스 세션을 생성한다.</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#chapters-04-system-implementation-__codelineno-19-25"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#chapters-04-system-implementation-__codelineno-19-26"></a>    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncSessionLocal</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#chapters-04-system-implementation-__codelineno-19-27"></a>        <span class="k">try</span><span class="p">:</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#chapters-04-system-implementation-__codelineno-19-28"></a>            <span class="k">yield</span> <span class="n">session</span>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#chapters-04-system-implementation-__codelineno-19-29"></a>        <span class="k">finally</span><span class="p">:</span>
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#chapters-04-system-implementation-__codelineno-19-30"></a>            <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-gemini-api-rate-limiting"><strong>Gemini API Rate Limiting</strong><a class="headerlink" href="#chapters-04-system-implementation-gemini-api-rate-limiting" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#chapters-04-system-implementation-__codelineno-20-1"></a><span class="c1"># utils/rate_limiter.py</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#chapters-04-system-implementation-__codelineno-20-2"></a>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#chapters-04-system-implementation-__codelineno-20-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#chapters-04-system-implementation-__codelineno-20-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">collections</span><span class="w"> </span><span class="kn">import</span> <span class="n">deque</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#chapters-04-system-implementation-__codelineno-20-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#chapters-04-system-implementation-__codelineno-20-6"></a>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#chapters-04-system-implementation-__codelineno-20-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">RateLimiter</span><span class="p">:</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#chapters-04-system-implementation-__codelineno-20-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#chapters-04-system-implementation-__codelineno-20-9"></a><span class="sd">    Gemini API의 Rate Limit을 관리한다.</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#chapters-04-system-implementation-__codelineno-20-10"></a><span class="sd">    - 분당 15 requests (무료 티어)</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#chapters-04-system-implementation-__codelineno-20-11"></a><span class="sd">    - 일일 1500 requests</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#chapters-04-system-implementation-__codelineno-20-12"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#chapters-04-system-implementation-__codelineno-20-13"></a>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#chapters-04-system-implementation-__codelineno-20-14"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">requests_per_minute</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span> <span class="n">requests_per_day</span><span class="o">=</span><span class="mi">1500</span><span class="p">):</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#chapters-04-system-implementation-__codelineno-20-15"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rpm</span> <span class="o">=</span> <span class="n">requests_per_minute</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#chapters-04-system-implementation-__codelineno-20-16"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rpd</span> <span class="o">=</span> <span class="n">requests_per_day</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#chapters-04-system-implementation-__codelineno-20-17"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">minute_window</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#chapters-04-system-implementation-__codelineno-20-18"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">day_window</span> <span class="o">=</span> <span class="n">deque</span><span class="p">()</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#chapters-04-system-implementation-__codelineno-20-19"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">lock</span> <span class="o">=</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">Lock</span><span class="p">()</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#chapters-04-system-implementation-__codelineno-20-20"></a>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#chapters-04-system-implementation-__codelineno-20-21"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">acquire</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#chapters-04-system-implementation-__codelineno-20-22"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#chapters-04-system-implementation-__codelineno-20-23"></a><span class="sd">        API 호출 권한을 획득한다. 필요시 대기한다.</span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#chapters-04-system-implementation-__codelineno-20-24"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#chapters-04-system-implementation-__codelineno-20-25"></a>        <span class="k">async</span> <span class="k">with</span> <span class="bp">self</span><span class="o">.</span><span class="n">lock</span><span class="p">:</span>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#chapters-04-system-implementation-__codelineno-20-26"></a>            <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#chapters-04-system-implementation-__codelineno-20-27"></a>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#chapters-04-system-implementation-__codelineno-20-28"></a>            <span class="c1"># 분당 제한 확인</span>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#chapters-04-system-implementation-__codelineno-20-29"></a>            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">minute_window</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rpm</span><span class="p">:</span>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#chapters-04-system-implementation-__codelineno-20-30"></a>                <span class="n">oldest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">minute_window</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#chapters-04-system-implementation-__codelineno-20-31"></a>                <span class="k">if</span> <span class="n">now</span> <span class="o">-</span> <span class="n">oldest</span> <span class="o">&lt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#chapters-04-system-implementation-__codelineno-20-32"></a>                    <span class="n">wait_time</span> <span class="o">=</span> <span class="p">(</span><span class="n">oldest</span> <span class="o">+</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">minutes</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">now</span><span class="p">)</span><span class="o">.</span><span class="n">total_seconds</span><span class="p">()</span>
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#chapters-04-system-implementation-__codelineno-20-33"></a>                    <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">wait_time</span><span class="p">)</span>
</span><span id="__span-20-34"><a id="__codelineno-20-34" name="__codelineno-20-34" href="#chapters-04-system-implementation-__codelineno-20-34"></a>                    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span>
</span><span id="__span-20-35"><a id="__codelineno-20-35" name="__codelineno-20-35" href="#chapters-04-system-implementation-__codelineno-20-35"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-20-36"><a id="__codelineno-20-36" name="__codelineno-20-36" href="#chapters-04-system-implementation-__codelineno-20-36"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">minute_window</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span><span id="__span-20-37"><a id="__codelineno-20-37" name="__codelineno-20-37" href="#chapters-04-system-implementation-__codelineno-20-37"></a>
</span><span id="__span-20-38"><a id="__codelineno-20-38" name="__codelineno-20-38" href="#chapters-04-system-implementation-__codelineno-20-38"></a>            <span class="c1"># 일일 제한 확인</span>
</span><span id="__span-20-39"><a id="__codelineno-20-39" name="__codelineno-20-39" href="#chapters-04-system-implementation-__codelineno-20-39"></a>            <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">day_window</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="bp">self</span><span class="o">.</span><span class="n">rpd</span><span class="p">:</span>
</span><span id="__span-20-40"><a id="__codelineno-20-40" name="__codelineno-20-40" href="#chapters-04-system-implementation-__codelineno-20-40"></a>                <span class="n">oldest</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">day_window</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</span><span id="__span-20-41"><a id="__codelineno-20-41" name="__codelineno-20-41" href="#chapters-04-system-implementation-__codelineno-20-41"></a>                <span class="k">if</span> <span class="n">now</span> <span class="o">-</span> <span class="n">oldest</span> <span class="o">&lt;</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
</span><span id="__span-20-42"><a id="__codelineno-20-42" name="__codelineno-20-42" href="#chapters-04-system-implementation-__codelineno-20-42"></a>                    <span class="c1"># 일일 한도 도달 시 에러</span>
</span><span id="__span-20-43"><a id="__codelineno-20-43" name="__codelineno-20-43" href="#chapters-04-system-implementation-__codelineno-20-43"></a>                    <span class="k">raise</span> <span class="ne">Exception</span><span class="p">(</span><span class="s2">&quot;Daily rate limit exceeded&quot;</span><span class="p">)</span>
</span><span id="__span-20-44"><a id="__codelineno-20-44" name="__codelineno-20-44" href="#chapters-04-system-implementation-__codelineno-20-44"></a>                <span class="k">else</span><span class="p">:</span>
</span><span id="__span-20-45"><a id="__codelineno-20-45" name="__codelineno-20-45" href="#chapters-04-system-implementation-__codelineno-20-45"></a>                    <span class="bp">self</span><span class="o">.</span><span class="n">day_window</span><span class="o">.</span><span class="n">popleft</span><span class="p">()</span>
</span><span id="__span-20-46"><a id="__codelineno-20-46" name="__codelineno-20-46" href="#chapters-04-system-implementation-__codelineno-20-46"></a>
</span><span id="__span-20-47"><a id="__codelineno-20-47" name="__codelineno-20-47" href="#chapters-04-system-implementation-__codelineno-20-47"></a>            <span class="c1"># 타임스탬프 기록</span>
</span><span id="__span-20-48"><a id="__codelineno-20-48" name="__codelineno-20-48" href="#chapters-04-system-implementation-__codelineno-20-48"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">minute_window</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
</span><span id="__span-20-49"><a id="__codelineno-20-49" name="__codelineno-20-49" href="#chapters-04-system-implementation-__codelineno-20-49"></a>            <span class="bp">self</span><span class="o">.</span><span class="n">day_window</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">now</span><span class="p">)</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-443">4.4.3 모니터링 및 로깅<a class="headerlink" href="#chapters-04-system-implementation-443" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-_6"><strong>구조화된 로깅</strong><a class="headerlink" href="#chapters-04-system-implementation-_6" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#chapters-04-system-implementation-__codelineno-21-1"></a><span class="c1"># utils/logger.py</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#chapters-04-system-implementation-__codelineno-21-2"></a>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#chapters-04-system-implementation-__codelineno-21-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">logging</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#chapters-04-system-implementation-__codelineno-21-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">json</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#chapters-04-system-implementation-__codelineno-21-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#chapters-04-system-implementation-__codelineno-21-6"></a>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#chapters-04-system-implementation-__codelineno-21-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">StructuredLogger</span><span class="p">:</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#chapters-04-system-implementation-__codelineno-21-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#chapters-04-system-implementation-__codelineno-21-9"></a><span class="sd">    JSON 형식의 구조화된 로그를 생성한다.</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#chapters-04-system-implementation-__codelineno-21-10"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#chapters-04-system-implementation-__codelineno-21-11"></a>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#chapters-04-system-implementation-__codelineno-21-12"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#chapters-04-system-implementation-__codelineno-21-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#chapters-04-system-implementation-__codelineno-21-14"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">INFO</span><span class="p">)</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#chapters-04-system-implementation-__codelineno-21-15"></a>
</span><span id="__span-21-16"><a id="__codelineno-21-16" name="__codelineno-21-16" href="#chapters-04-system-implementation-__codelineno-21-16"></a>        <span class="c1"># JSON 포맷 핸들러</span>
</span><span id="__span-21-17"><a id="__codelineno-21-17" name="__codelineno-21-17" href="#chapters-04-system-implementation-__codelineno-21-17"></a>        <span class="n">handler</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
</span><span id="__span-21-18"><a id="__codelineno-21-18" name="__codelineno-21-18" href="#chapters-04-system-implementation-__codelineno-21-18"></a>        <span class="n">handler</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">JsonFormatter</span><span class="p">())</span>
</span><span id="__span-21-19"><a id="__codelineno-21-19" name="__codelineno-21-19" href="#chapters-04-system-implementation-__codelineno-21-19"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">handler</span><span class="p">)</span>
</span><span id="__span-21-20"><a id="__codelineno-21-20" name="__codelineno-21-20" href="#chapters-04-system-implementation-__codelineno-21-20"></a>
</span><span id="__span-21-21"><a id="__codelineno-21-21" name="__codelineno-21-21" href="#chapters-04-system-implementation-__codelineno-21-21"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">log_agent_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event_type</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="nb">dict</span><span class="p">):</span>
</span><span id="__span-21-22"><a id="__codelineno-21-22" name="__codelineno-21-22" href="#chapters-04-system-implementation-__codelineno-21-22"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-21-23"><a id="__codelineno-21-23" name="__codelineno-21-23" href="#chapters-04-system-implementation-__codelineno-21-23"></a><span class="sd">        에이전트 이벤트를 로깅한다.</span>
</span><span id="__span-21-24"><a id="__codelineno-21-24" name="__codelineno-21-24" href="#chapters-04-system-implementation-__codelineno-21-24"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-21-25"><a id="__codelineno-21-25" name="__codelineno-21-25" href="#chapters-04-system-implementation-__codelineno-21-25"></a>        <span class="n">log_entry</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-21-26"><a id="__codelineno-21-26" name="__codelineno-21-26" href="#chapters-04-system-implementation-__codelineno-21-26"></a>            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-21-27"><a id="__codelineno-21-27" name="__codelineno-21-27" href="#chapters-04-system-implementation-__codelineno-21-27"></a>            <span class="s2">&quot;event_type&quot;</span><span class="p">:</span> <span class="n">event_type</span><span class="p">,</span>
</span><span id="__span-21-28"><a id="__codelineno-21-28" name="__codelineno-21-28" href="#chapters-04-system-implementation-__codelineno-21-28"></a>            <span class="s2">&quot;session_id&quot;</span><span class="p">:</span> <span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-21-29"><a id="__codelineno-21-29" name="__codelineno-21-29" href="#chapters-04-system-implementation-__codelineno-21-29"></a>            <span class="s2">&quot;data&quot;</span><span class="p">:</span> <span class="n">data</span>
</span><span id="__span-21-30"><a id="__codelineno-21-30" name="__codelineno-21-30" href="#chapters-04-system-implementation-__codelineno-21-30"></a>        <span class="p">}</span>
</span><span id="__span-21-31"><a id="__codelineno-21-31" name="__codelineno-21-31" href="#chapters-04-system-implementation-__codelineno-21-31"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">log_entry</span><span class="p">))</span>
</span><span id="__span-21-32"><a id="__codelineno-21-32" name="__codelineno-21-32" href="#chapters-04-system-implementation-__codelineno-21-32"></a>
</span><span id="__span-21-33"><a id="__codelineno-21-33" name="__codelineno-21-33" href="#chapters-04-system-implementation-__codelineno-21-33"></a><span class="k">class</span><span class="w"> </span><span class="nc">JsonFormatter</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">Formatter</span><span class="p">):</span>
</span><span id="__span-21-34"><a id="__codelineno-21-34" name="__codelineno-21-34" href="#chapters-04-system-implementation-__codelineno-21-34"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-21-35"><a id="__codelineno-21-35" name="__codelineno-21-35" href="#chapters-04-system-implementation-__codelineno-21-35"></a><span class="sd">    로그를 JSON 형식으로 포맷한다.</span>
</span><span id="__span-21-36"><a id="__codelineno-21-36" name="__codelineno-21-36" href="#chapters-04-system-implementation-__codelineno-21-36"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-21-37"><a id="__codelineno-21-37" name="__codelineno-21-37" href="#chapters-04-system-implementation-__codelineno-21-37"></a>
</span><span id="__span-21-38"><a id="__codelineno-21-38" name="__codelineno-21-38" href="#chapters-04-system-implementation-__codelineno-21-38"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">record</span><span class="p">):</span>
</span><span id="__span-21-39"><a id="__codelineno-21-39" name="__codelineno-21-39" href="#chapters-04-system-implementation-__codelineno-21-39"></a>        <span class="n">log_obj</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-21-40"><a id="__codelineno-21-40" name="__codelineno-21-40" href="#chapters-04-system-implementation-__codelineno-21-40"></a>            <span class="s2">&quot;timestamp&quot;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span>
</span><span id="__span-21-41"><a id="__codelineno-21-41" name="__codelineno-21-41" href="#chapters-04-system-implementation-__codelineno-21-41"></a>            <span class="s2">&quot;level&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">levelname</span><span class="p">,</span>
</span><span id="__span-21-42"><a id="__codelineno-21-42" name="__codelineno-21-42" href="#chapters-04-system-implementation-__codelineno-21-42"></a>            <span class="s2">&quot;logger&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">name</span><span class="p">,</span>
</span><span id="__span-21-43"><a id="__codelineno-21-43" name="__codelineno-21-43" href="#chapters-04-system-implementation-__codelineno-21-43"></a>            <span class="s2">&quot;message&quot;</span><span class="p">:</span> <span class="n">record</span><span class="o">.</span><span class="n">getMessage</span><span class="p">()</span>
</span><span id="__span-21-44"><a id="__codelineno-21-44" name="__codelineno-21-44" href="#chapters-04-system-implementation-__codelineno-21-44"></a>        <span class="p">}</span>
</span><span id="__span-21-45"><a id="__codelineno-21-45" name="__codelineno-21-45" href="#chapters-04-system-implementation-__codelineno-21-45"></a>
</span><span id="__span-21-46"><a id="__codelineno-21-46" name="__codelineno-21-46" href="#chapters-04-system-implementation-__codelineno-21-46"></a>        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">record</span><span class="p">,</span> <span class="s1">&#39;session_id&#39;</span><span class="p">):</span>
</span><span id="__span-21-47"><a id="__codelineno-21-47" name="__codelineno-21-47" href="#chapters-04-system-implementation-__codelineno-21-47"></a>            <span class="n">log_obj</span><span class="p">[</span><span class="s1">&#39;session_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">record</span><span class="o">.</span><span class="n">session_id</span>
</span><span id="__span-21-48"><a id="__codelineno-21-48" name="__codelineno-21-48" href="#chapters-04-system-implementation-__codelineno-21-48"></a>
</span><span id="__span-21-49"><a id="__codelineno-21-49" name="__codelineno-21-49" href="#chapters-04-system-implementation-__codelineno-21-49"></a>        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">log_obj</span><span class="p">)</span>
</span></code></pre></div>
<h4 id="chapters-04-system-implementation-prometheus"><strong>Prometheus 메트릭 수집</strong><a class="headerlink" href="#chapters-04-system-implementation-prometheus" title="Permanent link">&para;</a></h4>
<div class="language-python highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#chapters-04-system-implementation-__codelineno-22-1"></a><span class="c1"># monitoring/metrics.py</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#chapters-04-system-implementation-__codelineno-22-2"></a>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#chapters-04-system-implementation-__codelineno-22-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">prometheus_client</span><span class="w"> </span><span class="kn">import</span> <span class="n">Counter</span><span class="p">,</span> <span class="n">Histogram</span><span class="p">,</span> <span class="n">Gauge</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#chapters-04-system-implementation-__codelineno-22-4"></a>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#chapters-04-system-implementation-__codelineno-22-5"></a><span class="c1"># 에이전트 요청 카운터</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#chapters-04-system-implementation-__codelineno-22-6"></a><span class="n">agent_requests_total</span> <span class="o">=</span> <span class="n">Counter</span><span class="p">(</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#chapters-04-system-implementation-__codelineno-22-7"></a>    <span class="s1">&#39;agent_requests_total&#39;</span><span class="p">,</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#chapters-04-system-implementation-__codelineno-22-8"></a>    <span class="s1">&#39;Total number of agent requests&#39;</span><span class="p">,</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#chapters-04-system-implementation-__codelineno-22-9"></a>    <span class="p">[</span><span class="s1">&#39;agent_name&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">]</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#chapters-04-system-implementation-__codelineno-22-10"></a><span class="p">)</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#chapters-04-system-implementation-__codelineno-22-11"></a>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#chapters-04-system-implementation-__codelineno-22-12"></a><span class="c1"># 응답 시간 히스토그램</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#chapters-04-system-implementation-__codelineno-22-13"></a><span class="n">agent_response_duration_seconds</span> <span class="o">=</span> <span class="n">Histogram</span><span class="p">(</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#chapters-04-system-implementation-__codelineno-22-14"></a>    <span class="s1">&#39;agent_response_duration_seconds&#39;</span><span class="p">,</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#chapters-04-system-implementation-__codelineno-22-15"></a>    <span class="s1">&#39;Agent response duration in seconds&#39;</span><span class="p">,</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#chapters-04-system-implementation-__codelineno-22-16"></a>    <span class="p">[</span><span class="s1">&#39;agent_name&#39;</span><span class="p">]</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#chapters-04-system-implementation-__codelineno-22-17"></a><span class="p">)</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#chapters-04-system-implementation-__codelineno-22-18"></a>
</span><span id="__span-22-19"><a id="__codelineno-22-19" name="__codelineno-22-19" href="#chapters-04-system-implementation-__codelineno-22-19"></a><span class="c1"># 활성 세션 게이지</span>
</span><span id="__span-22-20"><a id="__codelineno-22-20" name="__codelineno-22-20" href="#chapters-04-system-implementation-__codelineno-22-20"></a><span class="n">active_sessions</span> <span class="o">=</span> <span class="n">Gauge</span><span class="p">(</span>
</span><span id="__span-22-21"><a id="__codelineno-22-21" name="__codelineno-22-21" href="#chapters-04-system-implementation-__codelineno-22-21"></a>    <span class="s1">&#39;active_sessions&#39;</span><span class="p">,</span>
</span><span id="__span-22-22"><a id="__codelineno-22-22" name="__codelineno-22-22" href="#chapters-04-system-implementation-__codelineno-22-22"></a>    <span class="s1">&#39;Number of active sessions&#39;</span><span class="p">,</span>
</span><span id="__span-22-23"><a id="__codelineno-22-23" name="__codelineno-22-23" href="#chapters-04-system-implementation-__codelineno-22-23"></a>    <span class="p">[</span><span class="s1">&#39;mode&#39;</span><span class="p">]</span>  <span class="c1"># agent or freepass</span>
</span><span id="__span-22-24"><a id="__codelineno-22-24" name="__codelineno-22-24" href="#chapters-04-system-implementation-__codelineno-22-24"></a><span class="p">)</span>
</span><span id="__span-22-25"><a id="__codelineno-22-25" name="__codelineno-22-25" href="#chapters-04-system-implementation-__codelineno-22-25"></a>
</span><span id="__span-22-26"><a id="__codelineno-22-26" name="__codelineno-22-26" href="#chapters-04-system-implementation-__codelineno-22-26"></a><span class="c1"># 명료화 횟수 히스토그램</span>
</span><span id="__span-22-27"><a id="__codelineno-22-27" name="__codelineno-22-27" href="#chapters-04-system-implementation-__codelineno-22-27"></a><span class="n">clarification_count</span> <span class="o">=</span> <span class="n">Histogram</span><span class="p">(</span>
</span><span id="__span-22-28"><a id="__codelineno-22-28" name="__codelineno-22-28" href="#chapters-04-system-implementation-__codelineno-22-28"></a>    <span class="s1">&#39;clarification_count&#39;</span><span class="p">,</span>
</span><span id="__span-22-29"><a id="__codelineno-22-29" name="__codelineno-22-29" href="#chapters-04-system-implementation-__codelineno-22-29"></a>    <span class="s1">&#39;Number of clarifications per session&#39;</span><span class="p">,</span>
</span><span id="__span-22-30"><a id="__codelineno-22-30" name="__codelineno-22-30" href="#chapters-04-system-implementation-__codelineno-22-30"></a>    <span class="n">buckets</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
</span><span id="__span-22-31"><a id="__codelineno-22-31" name="__codelineno-22-31" href="#chapters-04-system-implementation-__codelineno-22-31"></a><span class="p">)</span>
</span></code></pre></div>
<hr />
<h2 id="chapters-04-system-implementation-45">4.5 시스템 안정성 및 에러 처리<a class="headerlink" href="#chapters-04-system-implementation-45" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-451">4.5.1 에이전트 자동 재시작<a class="headerlink" href="#chapters-04-system-implementation-451" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#chapters-04-system-implementation-__codelineno-23-1"></a><span class="c1"># agents/supervisor.py</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#chapters-04-system-implementation-__codelineno-23-2"></a>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#chapters-04-system-implementation-__codelineno-23-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">multiprocessing</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#chapters-04-system-implementation-__codelineno-23-4"></a><span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#chapters-04-system-implementation-__codelineno-23-5"></a><span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Callable</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#chapters-04-system-implementation-__codelineno-23-6"></a>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#chapters-04-system-implementation-__codelineno-23-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">AgentSupervisor</span><span class="p">:</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#chapters-04-system-implementation-__codelineno-23-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#chapters-04-system-implementation-__codelineno-23-9"></a><span class="sd">    에이전트 프로세스를 감시하고 장애 시 자동 재시작한다.</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#chapters-04-system-implementation-__codelineno-23-10"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#chapters-04-system-implementation-__codelineno-23-11"></a>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#chapters-04-system-implementation-__codelineno-23-12"></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#chapters-04-system-implementation-__codelineno-23-13"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processes</span> <span class="o">=</span> <span class="p">{}</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#chapters-04-system-implementation-__codelineno-23-14"></a>
</span><span id="__span-23-15"><a id="__codelineno-23-15" name="__codelineno-23-15" href="#chapters-04-system-implementation-__codelineno-23-15"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">register_agent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">target</span><span class="p">:</span> <span class="n">Callable</span><span class="p">):</span>
</span><span id="__span-23-16"><a id="__codelineno-23-16" name="__codelineno-23-16" href="#chapters-04-system-implementation-__codelineno-23-16"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-23-17"><a id="__codelineno-23-17" name="__codelineno-23-17" href="#chapters-04-system-implementation-__codelineno-23-17"></a><span class="sd">        에이전트를 등록하고 시작한다.</span>
</span><span id="__span-23-18"><a id="__codelineno-23-18" name="__codelineno-23-18" href="#chapters-04-system-implementation-__codelineno-23-18"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-23-19"><a id="__codelineno-23-19" name="__codelineno-23-19" href="#chapters-04-system-implementation-__codelineno-23-19"></a>        <span class="n">process</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="n">target</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
</span><span id="__span-23-20"><a id="__codelineno-23-20" name="__codelineno-23-20" href="#chapters-04-system-implementation-__codelineno-23-20"></a>        <span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-23-21"><a id="__codelineno-23-21" name="__codelineno-23-21" href="#chapters-04-system-implementation-__codelineno-23-21"></a>        <span class="bp">self</span><span class="o">.</span><span class="n">processes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
</span><span id="__span-23-22"><a id="__codelineno-23-22" name="__codelineno-23-22" href="#chapters-04-system-implementation-__codelineno-23-22"></a>            <span class="s1">&#39;process&#39;</span><span class="p">:</span> <span class="n">process</span><span class="p">,</span>
</span><span id="__span-23-23"><a id="__codelineno-23-23" name="__codelineno-23-23" href="#chapters-04-system-implementation-__codelineno-23-23"></a>            <span class="s1">&#39;target&#39;</span><span class="p">:</span> <span class="n">target</span><span class="p">,</span>
</span><span id="__span-23-24"><a id="__codelineno-23-24" name="__codelineno-23-24" href="#chapters-04-system-implementation-__codelineno-23-24"></a>            <span class="s1">&#39;restart_count&#39;</span><span class="p">:</span> <span class="mi">0</span>
</span><span id="__span-23-25"><a id="__codelineno-23-25" name="__codelineno-23-25" href="#chapters-04-system-implementation-__codelineno-23-25"></a>        <span class="p">}</span>
</span><span id="__span-23-26"><a id="__codelineno-23-26" name="__codelineno-23-26" href="#chapters-04-system-implementation-__codelineno-23-26"></a>        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Started </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> (PID: </span><span class="si">{</span><span class="n">process</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-23-27"><a id="__codelineno-23-27" name="__codelineno-23-27" href="#chapters-04-system-implementation-__codelineno-23-27"></a>
</span><span id="__span-23-28"><a id="__codelineno-23-28" name="__codelineno-23-28" href="#chapters-04-system-implementation-__codelineno-23-28"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">monitor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span id="__span-23-29"><a id="__codelineno-23-29" name="__codelineno-23-29" href="#chapters-04-system-implementation-__codelineno-23-29"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-23-30"><a id="__codelineno-23-30" name="__codelineno-23-30" href="#chapters-04-system-implementation-__codelineno-23-30"></a><span class="sd">        에이전트 프로세스를 모니터링하고 장애 시 재시작한다.</span>
</span><span id="__span-23-31"><a id="__codelineno-23-31" name="__codelineno-23-31" href="#chapters-04-system-implementation-__codelineno-23-31"></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="__span-23-32"><a id="__codelineno-23-32" name="__codelineno-23-32" href="#chapters-04-system-implementation-__codelineno-23-32"></a>        <span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
</span><span id="__span-23-33"><a id="__codelineno-23-33" name="__codelineno-23-33" href="#chapters-04-system-implementation-__codelineno-23-33"></a>            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">info</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">processes</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
</span><span id="__span-23-34"><a id="__codelineno-23-34" name="__codelineno-23-34" href="#chapters-04-system-implementation-__codelineno-23-34"></a>                <span class="n">process</span> <span class="o">=</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;process&#39;</span><span class="p">]</span>
</span><span id="__span-23-35"><a id="__codelineno-23-35" name="__codelineno-23-35" href="#chapters-04-system-implementation-__codelineno-23-35"></a>
</span><span id="__span-23-36"><a id="__codelineno-23-36" name="__codelineno-23-36" href="#chapters-04-system-implementation-__codelineno-23-36"></a>                <span class="k">if</span> <span class="ow">not</span> <span class="n">process</span><span class="o">.</span><span class="n">is_alive</span><span class="p">():</span>
</span><span id="__span-23-37"><a id="__codelineno-23-37" name="__codelineno-23-37" href="#chapters-04-system-implementation-__codelineno-23-37"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;⚠️ </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> died unexpectedly. Restarting...&quot;</span><span class="p">)</span>
</span><span id="__span-23-38"><a id="__codelineno-23-38" name="__codelineno-23-38" href="#chapters-04-system-implementation-__codelineno-23-38"></a>
</span><span id="__span-23-39"><a id="__codelineno-23-39" name="__codelineno-23-39" href="#chapters-04-system-implementation-__codelineno-23-39"></a>                    <span class="c1"># 재시작 횟수 제한 (5회)</span>
</span><span id="__span-23-40"><a id="__codelineno-23-40" name="__codelineno-23-40" href="#chapters-04-system-implementation-__codelineno-23-40"></a>                    <span class="k">if</span> <span class="n">info</span><span class="p">[</span><span class="s1">&#39;restart_count&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">:</span>
</span><span id="__span-23-41"><a id="__codelineno-23-41" name="__codelineno-23-41" href="#chapters-04-system-implementation-__codelineno-23-41"></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;❌ </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> failed to restart 5 times. Giving up.&quot;</span><span class="p">)</span>
</span><span id="__span-23-42"><a id="__codelineno-23-42" name="__codelineno-23-42" href="#chapters-04-system-implementation-__codelineno-23-42"></a>                        <span class="k">continue</span>
</span><span id="__span-23-43"><a id="__codelineno-23-43" name="__codelineno-23-43" href="#chapters-04-system-implementation-__codelineno-23-43"></a>
</span><span id="__span-23-44"><a id="__codelineno-23-44" name="__codelineno-23-44" href="#chapters-04-system-implementation-__codelineno-23-44"></a>                    <span class="c1"># 새 프로세스 시작</span>
</span><span id="__span-23-45"><a id="__codelineno-23-45" name="__codelineno-23-45" href="#chapters-04-system-implementation-__codelineno-23-45"></a>                    <span class="n">new_process</span> <span class="o">=</span> <span class="n">multiprocessing</span><span class="o">.</span><span class="n">Process</span><span class="p">(</span>
</span><span id="__span-23-46"><a id="__codelineno-23-46" name="__codelineno-23-46" href="#chapters-04-system-implementation-__codelineno-23-46"></a>                        <span class="n">target</span><span class="o">=</span><span class="n">info</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span>
</span><span id="__span-23-47"><a id="__codelineno-23-47" name="__codelineno-23-47" href="#chapters-04-system-implementation-__codelineno-23-47"></a>                        <span class="n">name</span><span class="o">=</span><span class="n">name</span>
</span><span id="__span-23-48"><a id="__codelineno-23-48" name="__codelineno-23-48" href="#chapters-04-system-implementation-__codelineno-23-48"></a>                    <span class="p">)</span>
</span><span id="__span-23-49"><a id="__codelineno-23-49" name="__codelineno-23-49" href="#chapters-04-system-implementation-__codelineno-23-49"></a>                    <span class="n">new_process</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
</span><span id="__span-23-50"><a id="__codelineno-23-50" name="__codelineno-23-50" href="#chapters-04-system-implementation-__codelineno-23-50"></a>
</span><span id="__span-23-51"><a id="__codelineno-23-51" name="__codelineno-23-51" href="#chapters-04-system-implementation-__codelineno-23-51"></a>                    <span class="n">info</span><span class="p">[</span><span class="s1">&#39;process&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">new_process</span>
</span><span id="__span-23-52"><a id="__codelineno-23-52" name="__codelineno-23-52" href="#chapters-04-system-implementation-__codelineno-23-52"></a>                    <span class="n">info</span><span class="p">[</span><span class="s1">&#39;restart_count&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
</span><span id="__span-23-53"><a id="__codelineno-23-53" name="__codelineno-23-53" href="#chapters-04-system-implementation-__codelineno-23-53"></a>
</span><span id="__span-23-54"><a id="__codelineno-23-54" name="__codelineno-23-54" href="#chapters-04-system-implementation-__codelineno-23-54"></a>                    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;✅ </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s2"> restarted (PID: </span><span class="si">{</span><span class="n">new_process</span><span class="o">.</span><span class="n">pid</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span>
</span><span id="__span-23-55"><a id="__codelineno-23-55" name="__codelineno-23-55" href="#chapters-04-system-implementation-__codelineno-23-55"></a>
</span><span id="__span-23-56"><a id="__codelineno-23-56" name="__codelineno-23-56" href="#chapters-04-system-implementation-__codelineno-23-56"></a>            <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>  <span class="c1"># 5초마다 체크</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-452">4.5.2 에러 처리 및 재시도 로직<a class="headerlink" href="#chapters-04-system-implementation-452" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#chapters-04-system-implementation-__codelineno-24-1"></a><span class="c1"># utils/retry.py</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#chapters-04-system-implementation-__codelineno-24-2"></a>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#chapters-04-system-implementation-__codelineno-24-3"></a><span class="kn">import</span><span class="w"> </span><span class="nn">asyncio</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#chapters-04-system-implementation-__codelineno-24-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">functools</span><span class="w"> </span><span class="kn">import</span> <span class="n">wraps</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#chapters-04-system-implementation-__codelineno-24-5"></a>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#chapters-04-system-implementation-__codelineno-24-6"></a><span class="k">def</span><span class="w"> </span><span class="nf">retry_on_failure</span><span class="p">(</span><span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">backoff</span><span class="o">=</span><span class="mf">2.0</span><span class="p">):</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#chapters-04-system-implementation-__codelineno-24-7"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#chapters-04-system-implementation-__codelineno-24-8"></a><span class="sd">    LLM API 호출 실패 시 재시도하는 데코레이터.</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#chapters-04-system-implementation-__codelineno-24-9"></a>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#chapters-04-system-implementation-__codelineno-24-10"></a><span class="sd">    Args:</span>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#chapters-04-system-implementation-__codelineno-24-11"></a><span class="sd">        max_retries: 최대 재시도 횟수</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#chapters-04-system-implementation-__codelineno-24-12"></a><span class="sd">        delay: 초기 지연 시간 (초)</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#chapters-04-system-implementation-__codelineno-24-13"></a><span class="sd">        backoff: 지연 시간 증가 배율</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#chapters-04-system-implementation-__codelineno-24-14"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#chapters-04-system-implementation-__codelineno-24-15"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">decorator</span><span class="p">(</span><span class="n">func</span><span class="p">):</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#chapters-04-system-implementation-__codelineno-24-16"></a>        <span class="nd">@wraps</span><span class="p">(</span><span class="n">func</span><span class="p">)</span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#chapters-04-system-implementation-__codelineno-24-17"></a>        <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#chapters-04-system-implementation-__codelineno-24-18"></a>            <span class="n">last_exception</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#chapters-04-system-implementation-__codelineno-24-19"></a>            <span class="n">current_delay</span> <span class="o">=</span> <span class="n">delay</span>
</span><span id="__span-24-20"><a id="__codelineno-24-20" name="__codelineno-24-20" href="#chapters-04-system-implementation-__codelineno-24-20"></a>
</span><span id="__span-24-21"><a id="__codelineno-24-21" name="__codelineno-24-21" href="#chapters-04-system-implementation-__codelineno-24-21"></a>            <span class="k">for</span> <span class="n">attempt</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_retries</span> <span class="o">+</span> <span class="mi">1</span><span class="p">):</span>
</span><span id="__span-24-22"><a id="__codelineno-24-22" name="__codelineno-24-22" href="#chapters-04-system-implementation-__codelineno-24-22"></a>                <span class="k">try</span><span class="p">:</span>
</span><span id="__span-24-23"><a id="__codelineno-24-23" name="__codelineno-24-23" href="#chapters-04-system-implementation-__codelineno-24-23"></a>                    <span class="k">return</span> <span class="k">await</span> <span class="n">func</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
</span><span id="__span-24-24"><a id="__codelineno-24-24" name="__codelineno-24-24" href="#chapters-04-system-implementation-__codelineno-24-24"></a>                <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
</span><span id="__span-24-25"><a id="__codelineno-24-25" name="__codelineno-24-25" href="#chapters-04-system-implementation-__codelineno-24-25"></a>                    <span class="n">last_exception</span> <span class="o">=</span> <span class="n">e</span>
</span><span id="__span-24-26"><a id="__codelineno-24-26" name="__codelineno-24-26" href="#chapters-04-system-implementation-__codelineno-24-26"></a>
</span><span id="__span-24-27"><a id="__codelineno-24-27" name="__codelineno-24-27" href="#chapters-04-system-implementation-__codelineno-24-27"></a>                    <span class="k">if</span> <span class="n">attempt</span> <span class="o">&lt;</span> <span class="n">max_retries</span><span class="p">:</span>
</span><span id="__span-24-28"><a id="__codelineno-24-28" name="__codelineno-24-28" href="#chapters-04-system-implementation-__codelineno-24-28"></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Attempt </span><span class="si">{</span><span class="n">attempt</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="si">}</span><span class="s2"> failed: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">. &quot;</span>
</span><span id="__span-24-29"><a id="__codelineno-24-29" name="__codelineno-24-29" href="#chapters-04-system-implementation-__codelineno-24-29"></a>                              <span class="sa">f</span><span class="s2">&quot;Retrying in </span><span class="si">{</span><span class="n">current_delay</span><span class="si">}</span><span class="s2">s...&quot;</span><span class="p">)</span>
</span><span id="__span-24-30"><a id="__codelineno-24-30" name="__codelineno-24-30" href="#chapters-04-system-implementation-__codelineno-24-30"></a>                        <span class="k">await</span> <span class="n">asyncio</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">current_delay</span><span class="p">)</span>
</span><span id="__span-24-31"><a id="__codelineno-24-31" name="__codelineno-24-31" href="#chapters-04-system-implementation-__codelineno-24-31"></a>                        <span class="n">current_delay</span> <span class="o">*=</span> <span class="n">backoff</span>
</span><span id="__span-24-32"><a id="__codelineno-24-32" name="__codelineno-24-32" href="#chapters-04-system-implementation-__codelineno-24-32"></a>                    <span class="k">else</span><span class="p">:</span>
</span><span id="__span-24-33"><a id="__codelineno-24-33" name="__codelineno-24-33" href="#chapters-04-system-implementation-__codelineno-24-33"></a>                        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;All </span><span class="si">{</span><span class="n">max_retries</span><span class="si">}</span><span class="s2"> retries failed.&quot;</span><span class="p">)</span>
</span><span id="__span-24-34"><a id="__codelineno-24-34" name="__codelineno-24-34" href="#chapters-04-system-implementation-__codelineno-24-34"></a>
</span><span id="__span-24-35"><a id="__codelineno-24-35" name="__codelineno-24-35" href="#chapters-04-system-implementation-__codelineno-24-35"></a>            <span class="k">raise</span> <span class="n">last_exception</span>
</span><span id="__span-24-36"><a id="__codelineno-24-36" name="__codelineno-24-36" href="#chapters-04-system-implementation-__codelineno-24-36"></a>
</span><span id="__span-24-37"><a id="__codelineno-24-37" name="__codelineno-24-37" href="#chapters-04-system-implementation-__codelineno-24-37"></a>        <span class="k">return</span> <span class="n">wrapper</span>
</span><span id="__span-24-38"><a id="__codelineno-24-38" name="__codelineno-24-38" href="#chapters-04-system-implementation-__codelineno-24-38"></a>    <span class="k">return</span> <span class="n">decorator</span>
</span><span id="__span-24-39"><a id="__codelineno-24-39" name="__codelineno-24-39" href="#chapters-04-system-implementation-__codelineno-24-39"></a>
</span><span id="__span-24-40"><a id="__codelineno-24-40" name="__codelineno-24-40" href="#chapters-04-system-implementation-__codelineno-24-40"></a><span class="c1"># 사용 예시</span>
</span><span id="__span-24-41"><a id="__codelineno-24-41" name="__codelineno-24-41" href="#chapters-04-system-implementation-__codelineno-24-41"></a><span class="nd">@retry_on_failure</span><span class="p">(</span><span class="n">max_retries</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">delay</span><span class="o">=</span><span class="mf">2.0</span><span class="p">,</span> <span class="n">backoff</span><span class="o">=</span><span class="mf">2.0</span><span class="p">)</span>
</span><span id="__span-24-42"><a id="__codelineno-24-42" name="__codelineno-24-42" href="#chapters-04-system-implementation-__codelineno-24-42"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">call_gemini_api</span><span class="p">(</span><span class="n">prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
</span><span id="__span-24-43"><a id="__codelineno-24-43" name="__codelineno-24-43" href="#chapters-04-system-implementation-__codelineno-24-43"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-24-44"><a id="__codelineno-24-44" name="__codelineno-24-44" href="#chapters-04-system-implementation-__codelineno-24-44"></a><span class="sd">    Gemini API를 호출한다. 실패 시 자동 재시도.</span>
</span><span id="__span-24-45"><a id="__codelineno-24-45" name="__codelineno-24-45" href="#chapters-04-system-implementation-__codelineno-24-45"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-24-46"><a id="__codelineno-24-46" name="__codelineno-24-46" href="#chapters-04-system-implementation-__codelineno-24-46"></a>    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">gemini_client</span><span class="o">.</span><span class="n">generate_content</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</span><span id="__span-24-47"><a id="__codelineno-24-47" name="__codelineno-24-47" href="#chapters-04-system-implementation-__codelineno-24-47"></a>    <span class="k">return</span> <span class="n">response</span>
</span></code></pre></div>
<hr />
<h2 id="chapters-04-system-implementation-46">4.6 데이터 수집 및 분석 인프라<a class="headerlink" href="#chapters-04-system-implementation-46" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-461">4.6.1 프롬프트 로깅<a class="headerlink" href="#chapters-04-system-implementation-461" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#chapters-04-system-implementation-__codelineno-25-1"></a><span class="c1"># models/llm_prompt_log.py</span>
</span><span id="__span-25-2"><a id="__codelineno-25-2" name="__codelineno-25-2" href="#chapters-04-system-implementation-__codelineno-25-2"></a>
</span><span id="__span-25-3"><a id="__codelineno-25-3" name="__codelineno-25-3" href="#chapters-04-system-implementation-__codelineno-25-3"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy</span><span class="w"> </span><span class="kn">import</span> <span class="n">Column</span><span class="p">,</span> <span class="n">String</span><span class="p">,</span> <span class="n">Text</span><span class="p">,</span> <span class="n">DateTime</span><span class="p">,</span> <span class="n">UUID</span><span class="p">,</span> <span class="n">Integer</span><span class="p">,</span> <span class="n">JSONB</span>
</span><span id="__span-25-4"><a id="__codelineno-25-4" name="__codelineno-25-4" href="#chapters-04-system-implementation-__codelineno-25-4"></a><span class="kn">from</span><span class="w"> </span><span class="nn">sqlalchemy.dialects.postgresql</span><span class="w"> </span><span class="kn">import</span> <span class="n">UUID</span> <span class="k">as</span> <span class="n">PG_UUID</span>
</span><span id="__span-25-5"><a id="__codelineno-25-5" name="__codelineno-25-5" href="#chapters-04-system-implementation-__codelineno-25-5"></a><span class="kn">import</span><span class="w"> </span><span class="nn">uuid</span>
</span><span id="__span-25-6"><a id="__codelineno-25-6" name="__codelineno-25-6" href="#chapters-04-system-implementation-__codelineno-25-6"></a>
</span><span id="__span-25-7"><a id="__codelineno-25-7" name="__codelineno-25-7" href="#chapters-04-system-implementation-__codelineno-25-7"></a><span class="k">class</span><span class="w"> </span><span class="nc">LLMPromptLog</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span><span id="__span-25-8"><a id="__codelineno-25-8" name="__codelineno-25-8" href="#chapters-04-system-implementation-__codelineno-25-8"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-25-9"><a id="__codelineno-25-9" name="__codelineno-25-9" href="#chapters-04-system-implementation-__codelineno-25-9"></a><span class="sd">    모든 LLM 호출을 기록한다. (재현 가능성 확보)</span>
</span><span id="__span-25-10"><a id="__codelineno-25-10" name="__codelineno-25-10" href="#chapters-04-system-implementation-__codelineno-25-10"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-25-11"><a id="__codelineno-25-11" name="__codelineno-25-11" href="#chapters-04-system-implementation-__codelineno-25-11"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;llm_prompt_logs&quot;</span>
</span><span id="__span-25-12"><a id="__codelineno-25-12" name="__codelineno-25-12" href="#chapters-04-system-implementation-__codelineno-25-12"></a>
</span><span id="__span-25-13"><a id="__codelineno-25-13" name="__codelineno-25-13" href="#chapters-04-system-implementation-__codelineno-25-13"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">PG_UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">)</span>
</span><span id="__span-25-14"><a id="__codelineno-25-14" name="__codelineno-25-14" href="#chapters-04-system-implementation-__codelineno-25-14"></a>    <span class="n">session_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">PG_UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;sessions.id&quot;</span><span class="p">))</span>
</span><span id="__span-25-15"><a id="__codelineno-25-15" name="__codelineno-25-15" href="#chapters-04-system-implementation-__codelineno-25-15"></a>    <span class="n">agent_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>  <span class="c1"># classifier, answer_generator 등</span>
</span><span id="__span-25-16"><a id="__codelineno-25-16" name="__codelineno-25-16" href="#chapters-04-system-implementation-__codelineno-25-16"></a>
</span><span id="__span-25-17"><a id="__codelineno-25-17" name="__codelineno-25-17" href="#chapters-04-system-implementation-__codelineno-25-17"></a>    <span class="c1"># 프롬프트 정보</span>
</span><span id="__span-25-18"><a id="__codelineno-25-18" name="__codelineno-25-18" href="#chapters-04-system-implementation-__codelineno-25-18"></a>    <span class="n">system_prompt</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
</span><span id="__span-25-19"><a id="__codelineno-25-19" name="__codelineno-25-19" href="#chapters-04-system-implementation-__codelineno-25-19"></a>    <span class="n">user_prompt</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
</span><span id="__span-25-20"><a id="__codelineno-25-20" name="__codelineno-25-20" href="#chapters-04-system-implementation-__codelineno-25-20"></a>    <span class="n">prompt_tokens</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
</span><span id="__span-25-21"><a id="__codelineno-25-21" name="__codelineno-25-21" href="#chapters-04-system-implementation-__codelineno-25-21"></a>
</span><span id="__span-25-22"><a id="__codelineno-25-22" name="__codelineno-25-22" href="#chapters-04-system-implementation-__codelineno-25-22"></a>    <span class="c1"># 응답 정보</span>
</span><span id="__span-25-23"><a id="__codelineno-25-23" name="__codelineno-25-23" href="#chapters-04-system-implementation-__codelineno-25-23"></a>    <span class="n">raw_response</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Text</span><span class="p">)</span>
</span><span id="__span-25-24"><a id="__codelineno-25-24" name="__codelineno-25-24" href="#chapters-04-system-implementation-__codelineno-25-24"></a>    <span class="n">parsed_response</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>  <span class="c1"># JSON 파싱 결과</span>
</span><span id="__span-25-25"><a id="__codelineno-25-25" name="__codelineno-25-25" href="#chapters-04-system-implementation-__codelineno-25-25"></a>    <span class="n">completion_tokens</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>
</span><span id="__span-25-26"><a id="__codelineno-25-26" name="__codelineno-25-26" href="#chapters-04-system-implementation-__codelineno-25-26"></a>
</span><span id="__span-25-27"><a id="__codelineno-25-27" name="__codelineno-25-27" href="#chapters-04-system-implementation-__codelineno-25-27"></a>    <span class="c1"># 메타데이터</span>
</span><span id="__span-25-28"><a id="__codelineno-25-28" name="__codelineno-25-28" href="#chapters-04-system-implementation-__codelineno-25-28"></a>    <span class="n">model_name</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>
</span><span id="__span-25-29"><a id="__codelineno-25-29" name="__codelineno-25-29" href="#chapters-04-system-implementation-__codelineno-25-29"></a>    <span class="n">temperature</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Float</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mf">0.7</span><span class="p">)</span>
</span><span id="__span-25-30"><a id="__codelineno-25-30" name="__codelineno-25-30" href="#chapters-04-system-implementation-__codelineno-25-30"></a>    <span class="n">created_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
</span><span id="__span-25-31"><a id="__codelineno-25-31" name="__codelineno-25-31" href="#chapters-04-system-implementation-__codelineno-25-31"></a>    <span class="n">latency_ms</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">)</span>  <span class="c1"># 응답 시간 (밀리초)</span>
</span><span id="__span-25-32"><a id="__codelineno-25-32" name="__codelineno-25-32" href="#chapters-04-system-implementation-__codelineno-25-32"></a>
</span><span id="__span-25-33"><a id="__codelineno-25-33" name="__codelineno-25-33" href="#chapters-04-system-implementation-__codelineno-25-33"></a><span class="c1"># 로깅 함수</span>
</span><span id="__span-25-34"><a id="__codelineno-25-34" name="__codelineno-25-34" href="#chapters-04-system-implementation-__codelineno-25-34"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">log_llm_call</span><span class="p">(</span>
</span><span id="__span-25-35"><a id="__codelineno-25-35" name="__codelineno-25-35" href="#chapters-04-system-implementation-__codelineno-25-35"></a>    <span class="n">session_id</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-25-36"><a id="__codelineno-25-36" name="__codelineno-25-36" href="#chapters-04-system-implementation-__codelineno-25-36"></a>    <span class="n">agent_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-25-37"><a id="__codelineno-25-37" name="__codelineno-25-37" href="#chapters-04-system-implementation-__codelineno-25-37"></a>    <span class="n">system_prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-25-38"><a id="__codelineno-25-38" name="__codelineno-25-38" href="#chapters-04-system-implementation-__codelineno-25-38"></a>    <span class="n">user_prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-25-39"><a id="__codelineno-25-39" name="__codelineno-25-39" href="#chapters-04-system-implementation-__codelineno-25-39"></a>    <span class="n">response</span><span class="p">:</span> <span class="nb">dict</span><span class="p">,</span>
</span><span id="__span-25-40"><a id="__codelineno-25-40" name="__codelineno-25-40" href="#chapters-04-system-implementation-__codelineno-25-40"></a>    <span class="n">latency_ms</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="__span-25-41"><a id="__codelineno-25-41" name="__codelineno-25-41" href="#chapters-04-system-implementation-__codelineno-25-41"></a><span class="p">):</span>
</span><span id="__span-25-42"><a id="__codelineno-25-42" name="__codelineno-25-42" href="#chapters-04-system-implementation-__codelineno-25-42"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-25-43"><a id="__codelineno-25-43" name="__codelineno-25-43" href="#chapters-04-system-implementation-__codelineno-25-43"></a><span class="sd">    LLM 호출을 데이터베이스에 기록한다.</span>
</span><span id="__span-25-44"><a id="__codelineno-25-44" name="__codelineno-25-44" href="#chapters-04-system-implementation-__codelineno-25-44"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-25-45"><a id="__codelineno-25-45" name="__codelineno-25-45" href="#chapters-04-system-implementation-__codelineno-25-45"></a>    <span class="n">log_entry</span> <span class="o">=</span> <span class="n">LLMPromptLog</span><span class="p">(</span>
</span><span id="__span-25-46"><a id="__codelineno-25-46" name="__codelineno-25-46" href="#chapters-04-system-implementation-__codelineno-25-46"></a>        <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-25-47"><a id="__codelineno-25-47" name="__codelineno-25-47" href="#chapters-04-system-implementation-__codelineno-25-47"></a>        <span class="n">agent_name</span><span class="o">=</span><span class="n">agent_name</span><span class="p">,</span>
</span><span id="__span-25-48"><a id="__codelineno-25-48" name="__codelineno-25-48" href="#chapters-04-system-implementation-__codelineno-25-48"></a>        <span class="n">system_prompt</span><span class="o">=</span><span class="n">system_prompt</span><span class="p">,</span>
</span><span id="__span-25-49"><a id="__codelineno-25-49" name="__codelineno-25-49" href="#chapters-04-system-implementation-__codelineno-25-49"></a>        <span class="n">user_prompt</span><span class="o">=</span><span class="n">user_prompt</span><span class="p">,</span>
</span><span id="__span-25-50"><a id="__codelineno-25-50" name="__codelineno-25-50" href="#chapters-04-system-implementation-__codelineno-25-50"></a>        <span class="n">raw_response</span><span class="o">=</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">response</span><span class="p">),</span>
</span><span id="__span-25-51"><a id="__codelineno-25-51" name="__codelineno-25-51" href="#chapters-04-system-implementation-__codelineno-25-51"></a>        <span class="n">parsed_response</span><span class="o">=</span><span class="n">response</span><span class="p">,</span>
</span><span id="__span-25-52"><a id="__codelineno-25-52" name="__codelineno-25-52" href="#chapters-04-system-implementation-__codelineno-25-52"></a>        <span class="n">model_name</span><span class="o">=</span><span class="s2">&quot;gemini-2.5-flash-lite&quot;</span><span class="p">,</span>
</span><span id="__span-25-53"><a id="__codelineno-25-53" name="__codelineno-25-53" href="#chapters-04-system-implementation-__codelineno-25-53"></a>        <span class="n">latency_ms</span><span class="o">=</span><span class="n">latency_ms</span>
</span><span id="__span-25-54"><a id="__codelineno-25-54" name="__codelineno-25-54" href="#chapters-04-system-implementation-__codelineno-25-54"></a>    <span class="p">)</span>
</span><span id="__span-25-55"><a id="__codelineno-25-55" name="__codelineno-25-55" href="#chapters-04-system-implementation-__codelineno-25-55"></a>
</span><span id="__span-25-56"><a id="__codelineno-25-56" name="__codelineno-25-56" href="#chapters-04-system-implementation-__codelineno-25-56"></a>    <span class="k">async</span> <span class="k">with</span> <span class="n">AsyncSessionLocal</span><span class="p">()</span> <span class="k">as</span> <span class="n">session</span><span class="p">:</span>
</span><span id="__span-25-57"><a id="__codelineno-25-57" name="__codelineno-25-57" href="#chapters-04-system-implementation-__codelineno-25-57"></a>        <span class="n">session</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">log_entry</span><span class="p">)</span>
</span><span id="__span-25-58"><a id="__codelineno-25-58" name="__codelineno-25-58" href="#chapters-04-system-implementation-__codelineno-25-58"></a>        <span class="k">await</span> <span class="n">session</span><span class="o">.</span><span class="n">commit</span><span class="p">()</span>
</span></code></pre></div>
<h3 id="chapters-04-system-implementation-462-ab">4.6.2 A/B 테스트 데이터 수집<a class="headerlink" href="#chapters-04-system-implementation-462-ab" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#chapters-04-system-implementation-__codelineno-26-1"></a><span class="c1"># models/session.py</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#chapters-04-system-implementation-__codelineno-26-2"></a>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#chapters-04-system-implementation-__codelineno-26-3"></a><span class="k">class</span><span class="w"> </span><span class="nc">Session</span><span class="p">(</span><span class="n">Base</span><span class="p">):</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#chapters-04-system-implementation-__codelineno-26-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="__span-26-5"><a id="__codelineno-26-5" name="__codelineno-26-5" href="#chapters-04-system-implementation-__codelineno-26-5"></a><span class="sd">    학생의 학습 세션을 기록한다.</span>
</span><span id="__span-26-6"><a id="__codelineno-26-6" name="__codelineno-26-6" href="#chapters-04-system-implementation-__codelineno-26-6"></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="__span-26-7"><a id="__codelineno-26-7" name="__codelineno-26-7" href="#chapters-04-system-implementation-__codelineno-26-7"></a>    <span class="n">__tablename__</span> <span class="o">=</span> <span class="s2">&quot;sessions&quot;</span>
</span><span id="__span-26-8"><a id="__codelineno-26-8" name="__codelineno-26-8" href="#chapters-04-system-implementation-__codelineno-26-8"></a>
</span><span id="__span-26-9"><a id="__codelineno-26-9" name="__codelineno-26-9" href="#chapters-04-system-implementation-__codelineno-26-9"></a>    <span class="nb">id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">PG_UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">primary_key</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">uuid</span><span class="o">.</span><span class="n">uuid4</span><span class="p">)</span>
</span><span id="__span-26-10"><a id="__codelineno-26-10" name="__codelineno-26-10" href="#chapters-04-system-implementation-__codelineno-26-10"></a>    <span class="n">user_id</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">PG_UUID</span><span class="p">(</span><span class="n">as_uuid</span><span class="o">=</span><span class="kc">True</span><span class="p">),</span> <span class="n">ForeignKey</span><span class="p">(</span><span class="s2">&quot;users.id&quot;</span><span class="p">))</span>
</span><span id="__span-26-11"><a id="__codelineno-26-11" name="__codelineno-26-11" href="#chapters-04-system-implementation-__codelineno-26-11"></a>
</span><span id="__span-26-12"><a id="__codelineno-26-12" name="__codelineno-26-12" href="#chapters-04-system-implementation-__codelineno-26-12"></a>    <span class="c1"># A/B 테스트 모드</span>
</span><span id="__span-26-13"><a id="__codelineno-26-13" name="__codelineno-26-13" href="#chapters-04-system-implementation-__codelineno-26-13"></a>    <span class="n">mode</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Enum</span><span class="p">(</span><span class="s2">&quot;agent&quot;</span><span class="p">,</span> <span class="s2">&quot;freepass&quot;</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;session_mode&quot;</span><span class="p">))</span>
</span><span id="__span-26-14"><a id="__codelineno-26-14" name="__codelineno-26-14" href="#chapters-04-system-implementation-__codelineno-26-14"></a>
</span><span id="__span-26-15"><a id="__codelineno-26-15" name="__codelineno-26-15" href="#chapters-04-system-implementation-__codelineno-26-15"></a>    <span class="c1"># 대화 데이터</span>
</span><span id="__span-26-16"><a id="__codelineno-26-16" name="__codelineno-26-16" href="#chapters-04-system-implementation-__codelineno-26-16"></a>    <span class="n">conversation</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>  <span class="c1"># 전체 대화 히스토리</span>
</span><span id="__span-26-17"><a id="__codelineno-26-17" name="__codelineno-26-17" href="#chapters-04-system-implementation-__codelineno-26-17"></a>
</span><span id="__span-26-18"><a id="__codelineno-26-18" name="__codelineno-26-18" href="#chapters-04-system-implementation-__codelineno-26-18"></a>    <span class="c1"># 명료화 정보 (Agent 모드만)</span>
</span><span id="__span-26-19"><a id="__codelineno-26-19" name="__codelineno-26-19" href="#chapters-04-system-implementation-__codelineno-26-19"></a>    <span class="n">clarification_count</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">Integer</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-26-20"><a id="__codelineno-26-20" name="__codelineno-26-20" href="#chapters-04-system-implementation-__codelineno-26-20"></a>    <span class="n">clarification_history</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>
</span><span id="__span-26-21"><a id="__codelineno-26-21" name="__codelineno-26-21" href="#chapters-04-system-implementation-__codelineno-26-21"></a>
</span><span id="__span-26-22"><a id="__codelineno-26-22" name="__codelineno-26-22" href="#chapters-04-system-implementation-__codelineno-26-22"></a>    <span class="c1"># 질문 분류 (Agent 모드만)</span>
</span><span id="__span-26-23"><a id="__codelineno-26-23" name="__codelineno-26-23" href="#chapters-04-system-implementation-__codelineno-26-23"></a>    <span class="n">knowledge_code</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>  <span class="c1"># K1/K2/K3/K4</span>
</span><span id="__span-26-24"><a id="__codelineno-26-24" name="__codelineno-26-24" href="#chapters-04-system-implementation-__codelineno-26-24"></a>    <span class="n">initial_quality</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>  <span class="c1"># answerable/needs_clarify/unanswerable</span>
</span><span id="__span-26-25"><a id="__codelineno-26-25" name="__codelineno-26-25" href="#chapters-04-system-implementation-__codelineno-26-25"></a>
</span><span id="__span-26-26"><a id="__codelineno-26-26" name="__codelineno-26-26" href="#chapters-04-system-implementation-__codelineno-26-26"></a>    <span class="c1"># 타임스탬프</span>
</span><span id="__span-26-27"><a id="__codelineno-26-27" name="__codelineno-26-27" href="#chapters-04-system-implementation-__codelineno-26-27"></a>    <span class="n">created_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
</span><span id="__span-26-28"><a id="__codelineno-26-28" name="__codelineno-26-28" href="#chapters-04-system-implementation-__codelineno-26-28"></a>    <span class="n">updated_at</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">DateTime</span><span class="p">,</span> <span class="n">onupdate</span><span class="o">=</span><span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">)</span>
</span><span id="__span-26-29"><a id="__codelineno-26-29" name="__codelineno-26-29" href="#chapters-04-system-implementation-__codelineno-26-29"></a>
</span><span id="__span-26-30"><a id="__codelineno-26-30" name="__codelineno-26-30" href="#chapters-04-system-implementation-__codelineno-26-30"></a>    <span class="c1"># 세션 메타데이터</span>
</span><span id="__span-26-31"><a id="__codelineno-26-31" name="__codelineno-26-31" href="#chapters-04-system-implementation-__codelineno-26-31"></a>    <span class="n">session_title</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">String</span><span class="p">)</span>  <span class="c1"># Observer가 생성</span>
</span><span id="__span-26-32"><a id="__codelineno-26-32" name="__codelineno-26-32" href="#chapters-04-system-implementation-__codelineno-26-32"></a>    <span class="n">key_concepts</span> <span class="o">=</span> <span class="n">Column</span><span class="p">(</span><span class="n">JSONB</span><span class="p">)</span>  <span class="c1"># 주요 개념 목록</span>
</span></code></pre></div>
<hr />
<h2 id="chapters-04-system-implementation-47">4.7 구현 결과 요약<a class="headerlink" href="#chapters-04-system-implementation-47" title="Permanent link">&para;</a></h2>
<h3 id="chapters-04-system-implementation-471">4.7.1 시스템 성능 지표<a class="headerlink" href="#chapters-04-system-implementation-471" title="Permanent link">&para;</a></h3>
<p>실제 운영 환경에서 수집된 성능 데이터 (2025년 10월 20일 ~ 11월 1일):</p>
<table>
<thead>
<tr>
<th>지표</th>
<th>값</th>
<th>비고</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>평균 응답 시간</strong></td>
<td>2.3초</td>
<td>질문 제출 → 첫 답변 생성</td>
</tr>
<tr>
<td><strong>Classifier 처리 시간</strong></td>
<td>1.8초</td>
<td>K1-K4 분류 + 명료화 질문 생성</td>
</tr>
<tr>
<td><strong>Answer Generator 처리 시간</strong></td>
<td>2.1초</td>
<td>유형별 맞춤 답변 생성</td>
</tr>
<tr>
<td><strong>동시 세션 처리</strong></td>
<td>최대 120개</td>
<td>Redis Streams + 비동기 I/O</td>
</tr>
<tr>
<td><strong>일일 LLM API 호출</strong></td>
<td>평균 387건</td>
<td>5개 에이전트 통합</td>
</tr>
<tr>
<td><strong>시스템 가용성</strong></td>
<td>99.2%</td>
<td>12일간 운영</td>
</tr>
</tbody>
</table>
<h3 id="chapters-04-system-implementation-472">4.7.2 기술적 달성 사항<a class="headerlink" href="#chapters-04-system-implementation-472" title="Permanent link">&para;</a></h3>
<h4 id="chapters-04-system-implementation-reproducibility"><strong>재현 가능성 (Reproducibility)</strong><a class="headerlink" href="#chapters-04-system-implementation-reproducibility" title="Permanent link">&para;</a></h4>
<ul>
<li>✅ 모든 프롬프트와 LLM 응답을 PostgreSQL에 기록</li>
<li>✅ 구조화된 JSON 로그로 분석 용이</li>
<li>✅ A/B 테스트 모드 자동 할당 및 추적</li>
</ul>
<h4 id="chapters-04-system-implementation-scalability"><strong>확장 가능성 (Scalability)</strong><a class="headerlink" href="#chapters-04-system-implementation-scalability" title="Permanent link">&para;</a></h4>
<ul>
<li>✅ Redis Streams 기반 비동기 통신으로 수평 확장 가능</li>
<li>✅ 각 에이전트 독립 프로세스로 개별 확장 가능</li>
<li>✅ Docker Compose로 쉬운 배포 및 복제</li>
</ul>
<h4 id="chapters-04-system-implementation-reliability"><strong>안정성 (Reliability)</strong><a class="headerlink" href="#chapters-04-system-implementation-reliability" title="Permanent link">&para;</a></h4>
<ul>
<li>✅ Connection Pooling으로 리소스 효율 최적화</li>
<li>✅ Rate Limiter로 API 한도 초과 방지</li>
<li>✅ Supervisor 패턴으로 에이전트 자동 재시작</li>
<li>✅ 재시도 로직으로 일시적 장애 대응</li>
</ul>
<hr />
<p><strong>다음 장 예고</strong>: 5장에서는 본 시스템을 수학적 귀납법 단원에 구체적으로 적용한 사례와 실제 학생 대화 시나리오를 다룬다.</p></section><section class="print-page" id="chapters-05-mathematical-induction-application" heading-number="2.5"><h1 id="chapters-05-mathematical-induction-application-chapters-05-mathematical-induction-application">5장. 수학적 귀납법 적용</h1><h2 id="4">4. 수학적 귀납법 단원 적용<a class="headerlink" href="#chapters-05-mathematical-induction-application-4" title="Permanent link">&para;</a></h2>
<h3 id="chapters-05-mathematical-induction-application-41">4.1 수학적 귀납법 단원 특성<a class="headerlink" href="#chapters-05-mathematical-induction-application-41" title="Permanent link">&para;</a></h3>
<p>수학적 귀납법은 고등학교 2학년 수학Ⅰ 과정의 "수열" 단원에서 다루는 증명 방법이다. 2022 개정 교육과정에서는 다음과 같이 성취기준이 제시되어 있다:</p>
<blockquote>
<p><strong>[12수학Ⅰ01-05]</strong> 수학적 귀납법의 원리를 이해하고, 이를 이용하여 자연수 n에 대한 명제를 증명할 수 있다.</p>
</blockquote>
<p>학생들이 겪는 주요 어려움:
1. 귀납 가정을 어떻게 활용하는지 모름
2. 기본 단계와 귀납 단계의 연결 이해 어려움
3. 등식 증명과 부등식 증명의 전략 차이 혼란
4. 자신이 어느 단계에서 막혔는지 표현하기 어려움</p>
<h3 id="chapters-05-mathematical-induction-application-42">4.2 단원별 맞춤 설계<a class="headerlink" href="#chapters-05-mathematical-induction-application-42" title="Permanent link">&para;</a></h3>
<h4 id="chapters-05-mathematical-induction-application-421">4.2.1 수학적 귀납법 특화 평가 항목<a class="headerlink" href="#chapters-05-mathematical-induction-application-421" title="Permanent link">&para;</a></h4>
<p>기본 12개 평가 항목에 수학적 귀납법 특화 항목을 추가로 고려한다:</p>
<p><strong>수학적 전문성 영역</strong>:
- 귀납 가정의 역할을 이해하고 있는가
- 기본 단계(n=1)와 귀납 단계(n=k→k+1)를 구분하는가
- 등식/부등식 증명 전략을 인지하고 있는가</p>
<p><strong>질문 구조 영역</strong>:
- 어느 단계(기본/귀납)에서 어려움을 겪는지 명시했는가
- 귀납 가정을 어떻게 활용해야 하는지 질문했는가</p>
<p><strong>학습 맥락 영역</strong>:
- 수열의 합 공식을 알고 있는가 (선수 지식)
- 등비수열, 계차수열 등 관련 개념을 언급했는가</p>
<h4 id="chapters-05-mathematical-induction-application-422">4.2.2 듀이의 반성적 사고 기반 명료화 질문 템플릿<a class="headerlink" href="#chapters-05-mathematical-induction-application-422" title="Permanent link">&para;</a></h4>
<p>듀이의 5단계 반성적 사고 과정에 기반한 수학적 귀납법 명료화 질문 템플릿:</p>
<p><strong>1단계: 문제 상황 인식 지원</strong>
- <strong>목적</strong>: 학생이 자신의 불확실성과 의문을 명확히 인식하도록 지원
- <strong>질문 예시</strong>:
  - "어떤 부분이 가장 불확실하고 막막하게 느껴지나요?"
  - "수학적 귀납법 증명 과정에서 어느 지점에서 '잠깐, 이건 뭔지 모르겠다'고 생각했나요?"
  - "문제를 보았을 때 처음에 어떤 감정이나 느낌이 들었나요?"</p>
<p><strong>2단계: 문제 정의 지원</strong>
- <strong>목적</strong>: 불확실한 상황을 명확한 문제로 정의하도록 지원
- <strong>질문 예시</strong>:
  - "정확히 어떤 명제를 증명하려고 하나요? 명제를 완전한 문장으로 써주세요."
  - "등식 증명인지, 부등식 증명인지, 아니면 다른 형태인지 구분할 수 있나요?"
  - "증명해야 할 것은 '모든 자연수 n에 대해' 그 다음이 무엇인가요?"</p>
<p><strong>3단계: 가설 설정 지원</strong>
- <strong>목적</strong>: 해결 방안을 시도해보고 그 결과를 반성하도록 지원
- <strong>질문 예시</strong>:
  - "지금까지 어떤 방법을 시도해봤나요? 그때 어떻게 생각했었나요?"
  - "기본 단계(n=1)는 증명했나요? 어떻게 증명했나요?"
  - "귀납 단계에서 n=k일 때 성립한다고 가정한 후, 어떤 접근 방법을 생각해봤나요?"</p>
<p><strong>4단계: 가설 검증 지원</strong>
- <strong>목적</strong>: 논리적 연결과 타당성을 검증하도록 지원
- <strong>질문 예시</strong>:
  - "귀납 가정 'n=k일 때 성립한다'는 것을 어떻게 n=k+1 증명에 활용할 수 있을까요?"
  - "n=k+1일 때의 식을 n=k일 때의 식과 어떻게 연결해야 한다고 생각하나요?"
  - "귀납 가정을 적용할 때 논리적으로 맞는지 어떻게 확인할 수 있을까요?"</p>
<p><strong>5단계: 결론 도출 지원</strong>
- <strong>목적</strong>: 명확한 학습 목표와 기대 결과를 설정하도록 지원
- <strong>질문 예시</strong>:
  - "이 문제를 해결한 후 어떤 것을 이해하게 되고 싶나요?"
  - "수학적 귀납법의 어떤 부분을 완전히 마스터하고 싶나요?"
  - "비슷한 문제를 스스로 해결할 수 있게 되는 것이 목표인가요?"</p>
<p><strong>수학적 귀납법 특화 추가 질문</strong>:
- <strong>선수 지식 확인</strong>: "등비수열의 합 공식, 계차수열 등 관련 개념을 알고 있나요?"
- <strong>학습 맥락 파악</strong>: "이 단원에서 어느 정도까지 학습했나요?"</p>
<h3 id="chapters-05-mathematical-induction-application-43">4.3 실제 적용 시나리오<a class="headerlink" href="#chapters-05-mathematical-induction-application-43" title="Permanent link">&para;</a></h3>
<h4 id="chapters-05-mathematical-induction-application-1">시나리오 1: 등식 증명 질문<a class="headerlink" href="#chapters-05-mathematical-induction-application-1" title="Permanent link">&para;</a></h4>
<p><strong>학생 초기 질문</strong>:</p>
<blockquote>
<p>"이 문제 풀어줘."</p>
</blockquote>
<p><strong>QuestionClassifierAgent 평가</strong>:
- 수학적 전문성: 1점 (문제가 무엇인지 불명확)
- 질문 구조: 1점 (질문 의도 불분명)
- 학습 맥락: 1점 (학습 상황 미제시)
- 판정: <strong>needs_clarify</strong></p>
<p><strong>QuestionImprovementAgent 명료화 질문 (1단계: 문제 상황 인식 지원)</strong>:</p>
<blockquote>
<p>"문제를 해결하려고 할 때 어떤 부분이 가장 막막하고 불확실하게 느껴지나요? 어떤 감정이나 느낌이 들었나요?"</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"그냥 뭔지 모르겠어요. 문제가 뭔지도 확실하지 않고요."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 명료화 질문 (2단계: 문제 정의 지원)</strong>:</p>
<blockquote>
<p>"그렇다면 정확히 어떤 명제를 증명하려고 하나요? 명제를 완전한 문장으로 써주세요. 예를 들어, '모든 자연수 n에 대해 1+2+3+...+n = n(n+1)/2가 성립한다'처럼요."</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"1+3+5+...+(2n-1) = n²을 증명하는 건데 귀납 단계를 모르겠어요."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 명료화 질문 (3단계: 가설 설정 지원)</strong>:</p>
<blockquote>
<p>"지금까지 어떤 방법을 시도해봤나요? 기본 단계(n=1일 때)는 증명했나요? 그리고 귀납 단계에서 어떤 접근 방법을 생각해봤나요?"</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"기본 단계는 했어요. n=1일 때 좌변 = 1, 우변 = 1² = 1이니까 같아요. 그런데 귀납 단계에서 어떻게 해야 할지..."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 명료화 질문 (4단계: 가설 검증 지원)</strong>:</p>
<blockquote>
<p>"귀납 가정 'n=k일 때 성립한다'는 것을 어떻게 n=k+1 증명에 활용할 수 있을지 생각해봤나요? n=k+1일 때의 식을 n=k일 때의 식과 어떻게 연결해야 한다고 생각하나요?"</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"n=k+1일 때 1+3+5+...+(2k+1)을 어떻게 n=k일 때 식과 연결해야 할지 모르겠어요."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 명료화 질문 (5단계: 결론 도출 지원)</strong>:</p>
<blockquote>
<p>"이 문제를 해결한 후 수학적 귀납법의 어떤 부분을 완전히 마스터하고 싶나요? 비슷한 문제를 스스로 해결할 수 있게 되는 것이 목표인가요?"</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"귀납 가정을 어떻게 활용하는지 완전히 이해하고 싶어요. 그래야 다음 문제도 스스로 풀 수 있을 것 같아요."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 최종 평가</strong>:
- 반성적 사고 5단계 모두 지원 완료
- 충분히 명료화됨
- 판정: <strong>answerable</strong>
- AnswerGeneratorAgent로 전달</p>
<p><strong>AnswerGeneratorAgent 답변 생성</strong>:</p>
<blockquote>
<p>"좋은 질문입니다! 귀납 단계에서 n=k+1일 때를 증명하려면, 먼저 n=k+1일 때의 좌변을 써보세요:</p>
<p>좌변 = 1+3+5+...+(2k-1) + (2k+1)</p>
<p>여기서 중요한 포인트는 <strong>1+3+5+...+(2k-1)</strong> 부분이 바로 n=k일 때의 좌변이라는 것입니다!</p>
<p>귀납 가정에 의해 이 부분은 k²과 같다고 가정했죠. 따라서:</p>
<p>좌변 = k² + (2k+1) = k² + 2k + 1 = (k+1)²</p>
<p>이렇게 귀납 가정을 적용하는 것이 핵심입니다. 질문하신 부분이 정확히 이 지점이었네요!"</p>
</blockquote>
<p><strong>ObserverAgent 학습 요약</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-05-mathematical-induction-application-__codelineno-0-1"></a>반성적 사고 과정 분석:
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#chapters-05-mathematical-induction-application-__codelineno-0-2"></a>- 1단계(문제 상황 인식): &quot;뭔지 모르겠다&quot; → 불확실성 인식
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#chapters-05-mathematical-induction-application-__codelineno-0-3"></a>- 2단계(문제 정의): 막연한 요청 → 명확한 명제 정의
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#chapters-05-mathematical-induction-application-__codelineno-0-4"></a>- 3단계(가설 설정): 기본 단계 성공 → 귀납 단계 어려움
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#chapters-05-mathematical-induction-application-__codelineno-0-5"></a>- 4단계(가설 검증): 귀납 가정 활용 방법 탐구
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#chapters-05-mathematical-induction-application-__codelineno-0-6"></a>- 5단계(결론 도출): 학습 목표 명확화
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#chapters-05-mathematical-induction-application-__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#chapters-05-mathematical-induction-application-__codelineno-0-8"></a>학습 맥락:
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#chapters-05-mathematical-induction-application-__codelineno-0-9"></a>- 단원: 수학적 귀납법 (등식 증명)
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#chapters-05-mathematical-induction-application-__codelineno-0-10"></a>- 문제: 홀수의 합 공식 증명
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#chapters-05-mathematical-induction-application-__codelineno-0-11"></a>- 어려움: 귀납 단계에서 귀납 가정 활용 방법
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#chapters-05-mathematical-induction-application-__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#chapters-05-mathematical-induction-application-__codelineno-0-13"></a>명료화 성과:
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#chapters-05-mathematical-induction-application-__codelineno-0-14"></a>- 반성적 사고 5단계 완주
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#chapters-05-mathematical-induction-application-__codelineno-0-15"></a>- 질문 품질: 3점 → 11점 (+8점 향상)
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#chapters-05-mathematical-induction-application-__codelineno-0-16"></a>- 메타인지 능력: 자신의 이해도 정확히 파악
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#chapters-05-mathematical-induction-application-__codelineno-0-17"></a>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#chapters-05-mathematical-induction-application-__codelineno-0-18"></a>학습 성과:
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#chapters-05-mathematical-induction-application-__codelineno-0-19"></a>- 귀납 단계의 구조 이해
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#chapters-05-mathematical-induction-application-__codelineno-0-20"></a>- n=k+1일 때 좌변을 n=k 형태로 분해하는 전략 습득
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#chapters-05-mathematical-induction-application-__codelineno-0-21"></a>- 귀납 가정 적용 시점 파악
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#chapters-05-mathematical-induction-application-__codelineno-0-22"></a>- 자기주도 학습 목표 설정
</span></code></pre></div></p>
<h4 id="chapters-05-mathematical-induction-application-2">시나리오 2: 부등식 증명 질문<a class="headerlink" href="#chapters-05-mathematical-induction-application-2" title="Permanent link">&para;</a></h4>
<p><strong>학생 초기 질문</strong>:</p>
<blockquote>
<p>"2ⁿ &gt; n 증명이 안 돼요."</p>
</blockquote>
<p><strong>QuestionClassifierAgent 평가</strong>:
- 수학적 전문성: 2점 (문제는 제시했으나 증명 방법 미언급)
- 질문 구조: 2점 (어디가 안 되는지 불분명)
- 학습 맥락: 1점 (학습 단계 미제시)
- 판정: <strong>needs_clarify</strong></p>
<p><strong>QuestionImprovementAgent 명료화 질문</strong>:</p>
<blockquote>
<p>"2ⁿ &gt; n을 수학적 귀납법으로 증명하는 거죠? 어느 단계에서 막혔나요?
1) 기본 단계 (n=1일 때)
2) 귀납 단계에서 어떻게 시작할지
3) 귀납 가정을 어떻게 사용할지"</p>
</blockquote>
<p><strong>학생 응답</strong>:</p>
<blockquote>
<p>"귀납 단계에서 2^(k+1) &gt; k+1을 보여야 하는데 2^k &gt; k에서 어떻게 가는지 모르겠어요."</p>
</blockquote>
<p><strong>QuestionImprovementAgent 재평가</strong>:
- 충분히 명료화됨
- 부등식에서 귀납 가정 활용 전략 질문
- 판정: <strong>answerable</strong></p>
<p><strong>AnswerGeneratorAgent 답변 생성</strong>:</p>
<blockquote>
<p>"부등식 증명에서 귀납 가정을 활용하는 핵심 전략을 알려드릴게요.</p>
<p>목표: 2^(k+1) &gt; k+1을 보이기</p>
<p><strong>전략 1: 좌변을 변형</strong>
2^(k+1) = 2 · 2^k</p>
<p><strong>전략 2: 귀납 가정 적용</strong>
귀납 가정에 의해 2^k &gt; k이므로
2 · 2^k &gt; 2k</p>
<p><strong>전략 3: 2k와 k+1 비교</strong>
이제 2k &gt; k+1 임을 보이면 됩니다.
k ≥ 2일 때, 2k = k + k ≥ k + 2 &gt; k + 1</p>
<p>따라서 2^(k+1) = 2 · 2^k &gt; 2k &gt; k+1</p>
<p>부등식 증명의 핵심은 **중간 매개체(2k)**를 활용하는 것입니다!"</p>
</blockquote>
<hr /></section><section class="print-page" id="chapters-06-research-methods" heading-number="2.6"><h1 id="chapters-06-research-methods-chapters-06-research-methods">6장. 연구 방법</h1><h2 id="5">5. 연구 방법<a class="headerlink" href="#chapters-06-research-methods-5" title="Permanent link">&para;</a></h2>
<h3 id="chapters-06-research-methods-51">5.1 연구 설계<a class="headerlink" href="#chapters-06-research-methods-51" title="Permanent link">&para;</a></h3>
<p>본 연구는 설계 및 개발 연구(Design and Development Research) 방법론과 준실험 연구 설계를 결합하여 수행한다. 먼저 질문 명료화 기반 AI agent 시스템을 설계 및 개발한 후, 이를 일반적인 LLM 프리패스 방식과 비교하여 학습 효과의 우수성을 검증한다.</p>
<p>연구 단계:
1. <strong>요구 분석</strong>: 프리패스 방식의 한계 분석 및 명료화 필요성 검증
2. <strong>설계</strong>: 프리패스 대비 우수성을 목표로 한 MAICE agent 시스템 아키텍처 설계
3. <strong>개발</strong>: 명료화 프로세스 기반 멀티 에이전트 시스템 개발
4. <strong>비교 실험</strong>: MAICE vs 프리패스 방식의 학습 효과 비교 실험
5. <strong>효과성 검증</strong>: 프리패스 대비 MAICE의 우수성 통계적 검증</p>
<h3 id="chapters-06-research-methods-52">5.2 연구 대상<a class="headerlink" href="#chapters-06-research-methods-52" title="Permanent link">&para;</a></h3>
<h4 id="chapters-06-research-methods-521">5.2.1 학생 질문 데이터<a class="headerlink" href="#chapters-06-research-methods-521" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>규모</strong>: 1,012건의 수학 질문</li>
<li><strong>수집 기간</strong>: 2025년 10~11월</li>
<li><strong>출처</strong>: 고등학교 수학 학습 과정에서 llm을 통한 학습 중 수집된 대화 세션 내용</li>
</ul>
<h4 id="chapters-06-research-methods-522">5.2.2 교사 평가단<a class="headerlink" href="#chapters-06-research-methods-522" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>인원</strong>: 현직 수학교사 3명</li>
<li><strong>경력</strong>: 평균 6년 이상</li>
<li><strong>역할</strong>: 학생 질문 및 AI 답변 품질 평가</li>
</ul>
<h4 id="chapters-06-research-methods-523">5.2.3 비교 실험 대상<a class="headerlink" href="#chapters-06-research-methods-523" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>대상</strong>: 고등학교 2학년 학생 59명</li>
<li><strong>실험군(Agent 모드)</strong>: 학생들이 Agent 모드로 무작위 배정</li>
<li><strong>대조군(Freepass 모드)</strong>: 학생들이 Freepass 모드로 무작위 배정</li>
<li><strong>단원</strong>: 수학Ⅰ - 수열 (수학적 귀납법)</li>
<li><strong>기간</strong>: 2025년 10월 29일 ~ 11월 1일 (약 2주간)</li>
<li><strong>학생 사전 성적 데이터 수집</strong>:</li>
<li>서술형 점수 (30점 만점): 평균 14.8점, 범위 0~30점</li>
<li>객관식 점수 (70점 만점): 평균 39.3점, 범위 14.6~61.7점</li>
<li>총점 (100점 만점): 평균 54.1점, 범위 17.9~89.9점</li>
</ul>
<h4 id="chapters-06-research-methods-524">5.2.4 실험 설계 및 진행 절차<a class="headerlink" href="#chapters-06-research-methods-524" title="Permanent link">&para;</a></h4>
<p><strong>1단계: 수학적 귀납법 개념 학습</strong>
- 학생들에게 수학적 귀납법의 기본 개념 소개
- 기저 단계와 귀납 단계의 원리 학습</p>
<p><strong>2단계: 문제 세트 단계적 부여 및 교사 협력 학습</strong>
본 연구는 다음과 같은 구조화된 학습 과정을 설계하였다:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-06-research-methods-__codelineno-0-1"></a>[문제 세트 1 부여] → [학생 개별 풀이 + AI 활용] → [교사와 함께 풀이]
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#chapters-06-research-methods-__codelineno-0-2"></a>         ↓
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#chapters-06-research-methods-__codelineno-0-3"></a>[문제 세트 2 부여] → [학생 개별 풀이 + AI 활용] → [교사와 함께 풀이]
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#chapters-06-research-methods-__codelineno-0-4"></a>         ↓
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#chapters-06-research-methods-__codelineno-0-5"></a>[문제 세트 3 부여] → [학생 개별 풀이 + AI 활용] → [교사와 함께 풀이]
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#chapters-06-research-methods-__codelineno-0-6"></a>         ↓
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#chapters-06-research-methods-__codelineno-0-7"></a>    (총 5세트 예정, 현재 3세트 완료)
</span></code></pre></div>
<ul>
<li><strong>문제 유형</strong>: 등식 명제 증명, 부등식 명제 증명</li>
<li><strong>각 세트 구성</strong>: 2~3개의 수학적 귀납법 증명 문제</li>
<li><strong>학습 과정</strong>:</li>
<li>학생이 문제를 풀이하는 과정에서 AI(Agent 또는 Freepass)를 자유롭게 활용</li>
<li>풀이 완료 후 교사와 함께 증명 과정 검토 및 피드백</li>
<li>다음 세트로 진행</li>
</ul>
<p><strong>3단계: 모드별 AI 활용 패턴 관찰</strong>
- <strong>Agent 모드</strong>: 명료화 질문을 통한 질문 구체화 과정 경험
- <strong>Freepass 모드</strong>: 즉시 답변 제공 방식으로 학습</p>
<p><strong>4단계: 데이터 수집 및 평가</strong>
- 모든 세션 대화 내용 자동 수집
- Gemini 2.5 Flash를 활용한 자동 루브릭 채점
- 세션별 질문 점수, 답변 점수, 학습 지원 점수 평가</p>
<blockquote>
<p>주: 자동 채점은 세션 단위의 최종 질문 품질 중심 루브릭을 사용하며, 출력은 <code>question_score</code>, <code>answer_score</code>, <code>context_score</code>, <code>total_15</code>와 함께 <code>checklist</code> 및 <code>process_metrics</code>를 포함하는 JSON 스키마를 따른다. 세부 정의와 제약은 <code>docs/부록_A_루브릭_상세설명서.md</code> 참조.</p>
</blockquote>
<h3 id="chapters-06-research-methods-53">5.3 연구 도구<a class="headerlink" href="#chapters-06-research-methods-53" title="Permanent link">&para;</a></h3>
<h4 id="chapters-06-research-methods-531">5.3.1 질문 품질 평가 도구<a class="headerlink" href="#chapters-06-research-methods-531" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>구성</strong>: 3개 영역 12개 세부 항목</li>
<li><strong>척도</strong>: 5점 리커트 척도</li>
<li><strong>평가자</strong>: AI agent 자동 평가 + 교사 평가</li>
</ul>
<h4 id="chapters-06-research-methods-532-vs-maice">5.3.2 프리패스 vs MAICE 비교 평가 도구<a class="headerlink" href="#chapters-06-research-methods-532-vs-maice" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>사전-사후 학습 성과 평가</strong>: 수학적 귀납법 이해도 평가 (100점 만점)</li>
<li><strong>학습 경험 평가</strong>: </li>
<li>학습 만족도 설문 (5점 척도, 7개 문항)</li>
<li>메타인지 능력 평가 (5점 척도, 5개 문항) </li>
<li>질문 품질 개선도 측정 (12개 세부 항목)</li>
<li><strong>학습 과정 데이터</strong>:</li>
<li>문제해결 시간 비교 (프리패스 vs MAICE)</li>
<li>질문 횟수 및 세션 길이 분석</li>
<li>명료화 과정 참여도 측정</li>
</ul>
<h4 id="chapters-06-research-methods-533">5.3.3 시스템 로그 데이터<a class="headerlink" href="#chapters-06-research-methods-533" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>MAICE 그룹</strong>:</li>
<li>명료화 대화 횟수 및 질문 개선 정도</li>
<li>에이전트별 응답 시간 및 처리 과정</li>
<li>학습자 질문 진화 추이</li>
<li><strong>프리패스 그룹</strong>:</li>
<li>즉시 답변 횟수 및 대화 길이</li>
<li>후속 질문 발생 패턴</li>
</ul>
<h3 id="chapters-06-research-methods-54">5.4 자료 수집 및 분석<a class="headerlink" href="#chapters-06-research-methods-54" title="Permanent link">&para;</a></h3>
<h4 id="chapters-06-research-methods-541">5.4.1 정량적 분석<a class="headerlink" href="#chapters-06-research-methods-541" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>MAICE vs 프리패스 학습 효과 비교</strong>: 독립표본 t-검정으로 두 그룹 간 학습 성과 차이 검증</li>
<li><strong>사전-사후 성취도 분석</strong>: 대응표본 t-검정으로 각 그룹 내 학습 개선도 측정</li>
<li><strong>학습 경험 및 만족도 분석</strong>: 만족도, 메타인지, 질문 품질 영역별 그룹 간 차이 분석</li>
<li><strong>효과 크기</strong>: Cohen's d를 통한 실용적 의미 해석</li>
<li><strong>상관관계 분석</strong>: 명료화 참여도와 학습 성과 간 관련성 분석</li>
</ul>
<h4 id="chapters-06-research-methods-542">5.4.2 질적 분석<a class="headerlink" href="#chapters-06-research-methods-542" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>학습 과정 비교 분석</strong>: MAICE 그룹의 명료화 과정과 프리패스 그룹의 즉시 답변 패턴 비교</li>
<li><strong>학생 피드백 분석</strong>: 두 그룹별 학습 경험 및 어려움에 대한 귀납적 코딩</li>
<li><strong>교사 관찰 분석</strong>: 두 방식의 교육적 효과성에 대한 교사 평가 분석</li>
</ul>
<h4 id="chapters-06-research-methods-543">5.4.3 데이터 수집 및 필터링 상세<a class="headerlink" href="#chapters-06-research-methods-543" title="Permanent link">&para;</a></h4>
<p><strong>데이터 수집</strong>:
- <strong>수집 기간</strong>: 2025년 10월 20일 ~ 11월 1일
- <strong>수집 방법</strong>: PostgreSQL 데이터베이스에서 학생 세션 자동 수집
- <strong>수집 대상</strong>: 고등학교 2학년 수학적 귀납법 학습 중 AI 활용 전체 대화 세션
- <strong>원본 데이터</strong>: 
  - 세션 데이터: <code>학생세션_수집_20251101_114113.json</code> (총 232개 세션)
  - AI 채점 데이터: <code>Gemini_루브릭채점_after_20251020_20251101_135623.json</code> (총 177개 채점)</p>
<p><strong>데이터 필터링 (대화 유효성 검증)</strong>:</p>
<p>본 연구는 학습 상호작용의 질을 정확히 측정하기 위해 다음 기준으로 유효 세션을 선별하였다:</p>
<ol>
<li><strong>메시지 개수 ≥ 2</strong>: 최소한의 상호작용이 존재하는 세션만 포함</li>
<li><strong>역할 공존</strong>: <code>user</code> AND (<code>maice</code> OR <code>assistant</code>) 메시지가 모두 존재</li>
<li>학생 질문과 AI 응답이 모두 있는 완전한 대화만 분석</li>
<li><strong>내용 유효성</strong>: 모든 메시지 <code>content</code>가 공백이 아님</li>
<li>기술적 오류나 빈 메시지가 없는 세션만 포함</li>
<li><strong>세션 완결성</strong>: 마지막 발화자가 <code>user</code>가 아님</li>
<li>AI가 최종 응답을 제공한 완결된 세션만 분석</li>
</ol>
<p><strong>필터링 결과</strong>:
- <strong>유효 세션</strong>: 177개 (Agent 73개, Freepass 104개)
- <strong>분석 대상 학생</strong>: 59명 (중간고사 점수 데이터 보유 학생)
  - Agent 모드: 30명
  - Freepass 모드: 29명
- <strong>매칭 성공</strong>: 53명 (AI 채점 + 중간고사 점수 모두 보유)
- <strong>다회 세션 학생</strong>: 39명 (2회 이상 세션 이용자, 학습 증가폭 분석 대상)</p>
<p><strong>AI 자동 채점</strong>:
- <strong>채점 모델</strong>: Google Gemini 2.5 Flash
- <strong>채점 방식</strong>: 병렬 채점 (최대 50개 동시 처리)
- <strong>채점 기준</strong>: 개선된 루브릭 (질문 5점 + 답변 5점 + 맥락 5점 = 총 15점)
- <strong>채점 스크립트</strong>: <code>analysis/Gemini_병렬_채점.py</code>
- <strong>샘플링 옵션</strong>: 
  - 전체 데이터 채점: <code>--per-mode None</code>
  - 모드별 균등 샘플링: <code>--per-mode N</code> (각 모드에서 N개씩 추출)
  - 날짜 필터링: <code>--min-date YYYY-MM-DD</code> (특정 날짜 이후 세션만 분석)</p>
<p><strong>재현 가능성</strong>:
- <strong>재현 스크립트</strong>: <code>analysis/repro_stats.py</code>
- <strong>산출 통계</strong>: 
  - 모드별 평균 점수
  - 점수대별 Welch t-검정 및 효과크기(Cohen's d)
  - 13점 이상 고득점 비율
  - 서술형 점수 기준 구간별 분석</p>
<hr /></section><section class="print-page" id="chapters-07-results" heading-number="2.7"><h1 id="chapters-07-results-chapters-07-results">7장. 결과</h1><h2 id="6">6. 결과<a class="headerlink" href="#chapters-07-results-6" title="Permanent link">&para;</a></h2>
<h3 id="chapters-07-results-61">6.1 시스템 구현 결과<a class="headerlink" href="#chapters-07-results-61" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-611">6.1.1 전체 시스템 구축<a class="headerlink" href="#chapters-07-results-611" title="Permanent link">&para;</a></h4>
<p>MAICE agent 시스템을 성공적으로 구현하여 실제 고등학교 환경에서 운영하였다:</p>
<p><strong>프론트엔드</strong>:
- SvelteKit 2.0 기반 반응형 웹 인터페이스
- MathLive 수식 입력 시스템
- 실시간 SSE 스트리밍 채팅
- 라이트/다크 테마 지원</p>
<p><strong>백엔드</strong>:
- FastAPI 기반 RESTful API 서버
- PostgreSQL 데이터베이스
- Redis Streams 메시지 큐
- JWT 인증 및 Google OAuth 2.0</p>
<p><strong>에이전트 시스템</strong>:
- 8종 독립 agent 멀티프로세스 실행
- Redis Streams/Pub/Sub 통신
- OpenAI GPT-4o-mini 모델 활용
- Agent별 평균 응답 시간: 2-42초</p>
<h4 id="chapters-07-results-612-docker">6.1.2 Docker 기반 배포<a class="headerlink" href="#chapters-07-results-612-docker" title="Permanent link">&para;</a></h4>
<ul>
<li>Docker Compose를 통한 컨테이너 오케스트레이션</li>
<li>Nginx 리버스 프록시</li>
<li>자동 재시작 및 로그 관리</li>
<li>Blue-Green 무중단 배포</li>
</ul>
<h4 id="chapters-07-results-613">6.1.3 실증 운영 현황<a class="headerlink" href="#chapters-07-results-613" title="Permanent link">&para;</a></h4>
<p>2025년 9월 29일부터 10월 27일까지 실제 수학교실에서 운영된 결과:</p>
<table>
<thead>
<tr>
<th>지표</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td>총 세션 수</td>
<td>161개</td>
</tr>
<tr>
<td>총 메시지 수</td>
<td>848개</td>
</tr>
<tr>
<td>참여 학생 수</td>
<td>55명</td>
</tr>
<tr>
<td>평균 메시지 길이</td>
<td>517자</td>
</tr>
<tr>
<td>명료화 질문 비율</td>
<td>8.4% (71개)</td>
</tr>
<tr>
<td>세션당 평균 메시지</td>
<td>5.3개</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="chapters-07-results-62">6.2 시스템 사용 분석<a class="headerlink" href="#chapters-07-results-62" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-621">6.2.1 메시지 유형별 분포<a class="headerlink" href="#chapters-07-results-621" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>메시지 유형</th>
<th>빈도</th>
<th>비율</th>
<th>평균 길이</th>
</tr>
</thead>
<tbody>
<tr>
<td>maice_answer (최종 답변)</td>
<td>319개</td>
<td>37.6%</td>
<td>1,021자</td>
</tr>
<tr>
<td>user_question (초기 질문)</td>
<td>301개</td>
<td>35.5%</td>
<td>51자</td>
</tr>
<tr>
<td>maice_clarification_question (명료화 질문)</td>
<td>71개</td>
<td>8.4%</td>
<td>73자</td>
</tr>
<tr>
<td>user_clarification_response (명료화 응답)</td>
<td>57개</td>
<td>6.7%</td>
<td>17자</td>
</tr>
<tr>
<td>maice_processing (처리 중)</td>
<td>55개</td>
<td>6.5%</td>
<td>32자</td>
</tr>
<tr>
<td>user_follow_up (추가 질문)</td>
<td>45개</td>
<td>5.3%</td>
<td>42자</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 전체 메시지의 약 8.4%가 명료화 질문으로, 명료화 프로세스가 활발히 작동했음을 확인할 수 있다. MAICE의 평균 응답 길이(1,021자)가 사용자 질문(51자)의 약 20배로, 상세하고 교육적인 답변을 제공했다.</p>
<h4 id="chapters-07-results-622">6.2.2 세션 활성도 분석<a class="headerlink" href="#chapters-07-results-622" title="Permanent link">&para;</a></h4>
<p><strong>상위 10개 활발한 세션</strong>:</p>
<table>
<thead>
<tr>
<th>세션 ID</th>
<th>사용자 ID</th>
<th>메시지 수</th>
<th>명료화 질문 수</th>
<th>세션 단계</th>
</tr>
</thead>
<tbody>
<tr>
<td>124</td>
<td>41</td>
<td>42개</td>
<td>9개</td>
<td>ready_for_new_question</td>
</tr>
<tr>
<td>68</td>
<td>16</td>
<td>31개</td>
<td>5개</td>
<td>ready_for_new_question</td>
</tr>
<tr>
<td>75</td>
<td>36</td>
<td>25개</td>
<td>3개</td>
<td>ready_for_new_question</td>
</tr>
<tr>
<td>129</td>
<td>42</td>
<td>24개</td>
<td>0개</td>
<td>initial_question</td>
</tr>
<tr>
<td>139</td>
<td>53</td>
<td>22개</td>
<td>0개</td>
<td>initial_question</td>
</tr>
<tr>
<td>61</td>
<td>30</td>
<td>20개</td>
<td>5개</td>
<td>clarification</td>
</tr>
<tr>
<td>83</td>
<td>35</td>
<td>18개</td>
<td>0개</td>
<td>initial_question</td>
</tr>
<tr>
<td>112</td>
<td>73</td>
<td>18개</td>
<td>0개</td>
<td>initial_question</td>
</tr>
<tr>
<td>137</td>
<td>16</td>
<td>16개</td>
<td>4개</td>
<td>ready_for_new_question</td>
</tr>
<tr>
<td>133</td>
<td>47</td>
<td>15개</td>
<td>1개</td>
<td>ready_for_new_question</td>
</tr>
</tbody>
</table>
<p><strong>주요 발견</strong>:
- 세션 124는 42개 메시지 중 9개(21.4%)가 명료화 질문으로 가장 활발한 상호작용
- 명료화 질문이 있는 세션은 평균 15.2개 메시지 vs 없는 세션 7.8개 (약 2배 차이)
- 명료화 과정을 거친 세션은 "ready_for_new_question" 단계로 이행하여 더 깊은 학습 발생</p>
<h4 id="chapters-07-results-623">6.2.3 명료화 프로세스 효과<a class="headerlink" href="#chapters-07-results-623" title="Permanent link">&para;</a></h4>
<p><strong>명료화 있는 세션 vs 없는 세션 비교</strong>:</p>
<table>
<thead>
<tr>
<th>지표</th>
<th>명료화 있음 (37개)</th>
<th>명료화 없음 (124개)</th>
<th>향상율</th>
</tr>
</thead>
<tbody>
<tr>
<td>평균 메시지 수</td>
<td>11.8개</td>
<td>4.9개</td>
<td><strong>+141%</strong></td>
</tr>
<tr>
<td>평균 세션 길이 추정</td>
<td>~18분</td>
<td>~8분</td>
<td><strong>+125%</strong></td>
</tr>
<tr>
<td>활성 상호작용 비율</td>
<td>72%</td>
<td>45%</td>
<td>+60%</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 명료화 질문이 포함된 세션은 없는 세션보다 평균 메시지 수가 2.4배 많아, 더 깊은 학습 상호작용이 발생하였다.</p>
<hr />
<h3 id="chapters-07-results-63">6.3 실제 대화 사례 분석<a class="headerlink" href="#chapters-07-results-63" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-631-1-124">6.3.1 사례 1: 점진적 명료화를 통한 질문 구체화 (세션 124)<a class="headerlink" href="#chapters-07-results-631-1-124" title="Permanent link">&para;</a></h4>
<p><strong>초기 질문</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-07-results-__codelineno-0-1"></a>피보나치 수열을 수학적 귀납법으로 풀어저
</span></code></pre></div></p>
<p><strong>명료화 과정</strong> (3회):
1. <strong>Agent</strong>: "피보나치 수열의 어떤 성질을 수학적 귀납법으로 증명하고 싶으신가요? 예를 들어 일반항, 합 공식, 혹은 항들 간의 관계 중 어떤 부분이 궁금하신가요?"
2. <strong>학생</strong>: "피보나치 수열을 수학적귀납법으로 풀어"
3. <strong>Agent</strong>: "피보나치 수열에 대해 수학적 귀납법으로 증명하고 싶은 명제가 무엇인지 알려주세요. 예를 들어 'F(n) ≤ 2^n'이나 'F(1) + ... + F(n) = F(n+2) - 1' 같은 형태 중 어떤 것을 원하시나요?"
4. <strong>학생</strong>: "일반항으로 만들어줘"</p>
<p><strong>최종 응답</strong>: 피보나치 수열의 일반항 공식(Binet 공식)을 수학적 귀납법으로 증명하는 상세한 해설 제공</p>
<p><strong>분석</strong>: 초기 모호한 질문(3점)이 3회의 명료화를 통해 "피보나치 수열의 일반항을 수학적 귀납법으로 증명하는 방법"(10점)으로 구체화되었다.</p>
<h4 id="chapters-07-results-632-2-75">6.3.2 사례 2: 수학적 귀납법의 원리 이해 (세션 75)<a class="headerlink" href="#chapters-07-results-632-2-75" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "수학적 귀납법으로 k, k+1일때 성립한걸 보인게 왜 증명이 되는거야?"</p>
<p><strong>명료화 질문</strong> (1차):
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#chapters-07-results-__codelineno-1-1"></a>지금 말씀하신 &#39;도미노 이론&#39;은 수학적 귀납법에서 비유로 사용된 도미노 비유를 말하시는 걸까요, 
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#chapters-07-results-__codelineno-1-2"></a>아니면 실제로 누가 만든 이론을 알고 싶은 걸까요?
</span></code></pre></div></p>
<p><strong>학생 추가 질문</strong>: "도미노 이론을 누가 만든거야?"</p>
<p><strong>Agent 응답</strong>: 도미노 비유를 통한 수학적 귀납법의 원리 설명, 그리고 해당 비유의 역사적 배경</p>
<p><strong>또 다른 질문</strong>: "1+2+2<sup>2+...+2</sup>(n-1)=2^n-1 이걸 수학적 귀납법으로 증명해줘"</p>
<p><strong>Agent 응답</strong>: 완전하고 상세한 증명 과정을 단계별로 제시
- 기저 단계: n=1일 때 성립 확인
- 귀납 가정: n=k일 때 성립 가정
- 귀납 단계: n=k+1일 때 성립 증명</p>
<p><strong>분석</strong>: 학생이 수학적 귀납법의 원리를 스스로 물어보며, 실제 증명 예시를 통해 개념을 내재화하는 과정이 확인되었다.</p>
<h4 id="chapters-07-results-633-3-68">6.3.3 사례 3: 반복 명료화를 통한 학습 (세션 68)<a class="headerlink" href="#chapters-07-results-633-3-68" title="Permanent link">&para;</a></h4>
<p>이 세션은 총 31개 메시지, 5개 명료화 질문으로 가장 긴 학습 대화 중 하나였다.</p>
<p><strong>첫 질문</strong>: "수학적 귀납법에 대해 알려줘"</p>
<p><strong>명료화 1차</strong>: "수학적 귀납법의 어떤 부분이 특히 궁금하신가요?"
<strong>학생</strong>: "그 정의에 대해 알고싶어"
<strong>응답</strong>: 수학적 귀납법의 정의와 원리 상세 설명</p>
<p><strong>추가 질문</strong>: "좋아, 다른 예시도 알려줄래?"</p>
<p><strong>명료화 2차</strong>: "수학적 귀납법을 이용한 예시 중에서, 수열 공식이나 부등식 증명 같은 특정한 주제가 더 궁금하신가요?"
<strong>학생</strong>: "부등식 증명의 예시로 들어봐"
<strong>응답</strong>: 부등식 증명 예시 제공</p>
<p><strong>연속 학습</strong>: 
- "n!이 2^n 보다 큰것도 보여줄 수 있어?"
- "n^n &gt; n! 은?"
- "n^n 보다 큰거 있는지?"
- "n<sup>a</sup>n 과 a<sup>n</sup>n 중 누가더 세지?"</p>
<p><strong>분석</strong>: 학생이 명료화 질문에 답하는 과정에서 자연스럽게 다음 학습 내용을 스스로 찾아가며, 심화된 질문을 연속적으로 제시하는 능동적 학습 패턴이 나타났다.</p>
<h4 id="chapters-07-results-634-4-129">6.3.4 사례 4: 구체적인 증명 요청 (세션 129)<a class="headerlink" href="#chapters-07-results-634-4-129" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: 
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#chapters-07-results-__codelineno-2-1"></a>피보나치 수열에서 $\sum_{i=1}^{n}a_{i}=a_{n+2}-1$ 이 성립한다는 것을 귀납적으로 증명하는 과정을 적을건데, 
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#chapters-07-results-__codelineno-2-2"></a>보고 잘 풀었는지 판단해줘.
</span></code></pre></div></p>
<p><strong>Agent 응답</strong>: 
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#chapters-07-results-__codelineno-3-1"></a>좋아요 전체적으로 매우 논리적이고 올바른 귀납 증명입니다. 다만, 표현이나 논리 흐름을 
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#chapters-07-results-__codelineno-3-2"></a>조금 더 명확하게 다듬을 수 있습니다.
</span></code></pre></div></p>
<p>증명의 강점과 개선점을 구체적으로 제시하여 학생의 학습을 지원.</p>
<h4 id="chapters-07-results-635-5-139">6.3.5 사례 5: 부등식 증명의 어려움 극복 (세션 139)<a class="headerlink" href="#chapters-07-results-635-5-139" title="Permanent link">&para;</a></h4>
<p><strong>학생 질문</strong>: "5이상의 모든 자연수 n에 대해, n^2 &lt; 2^n 임을 수학적 귀납법을 이용하여 증명하시오"</p>
<p><strong>Agent 응답</strong>: 완전한 증명 과정 제공</p>
<p><strong>학생 어려움</strong>: "<span class="arithmatex">\((k+1)^2 &lt; 2^{k+1}\)</span> 이려면 충분히 <span class="arithmatex">\(2^k + 2k + 1 \le 2^{k+1}\)</span>, 갑자기 왜 이렇게 되는지 모르겠어"</p>
<p><strong>Agent 추가 설명</strong>: 부등식의 연쇄성(chain inequality)을 단계별로 상세히 설명</p>
<p><strong>연속 질문</strong>:
- "부등식의 연쇄성이 뭐야"
- "<span class="arithmatex">\(2^k + 2k + 1 \le 2^{k+1}\)</span> 을 확인하는 방법"</p>
<p><strong>Agent 응답</strong>: 각 질문에 대해 개념 설명과 계산 과정을 반복하여 제공</p>
<p><strong>최종</strong>: "1번,2번,3번부분 표시해서 딱딱 알려줘"</p>
<p><strong>Agent</strong>: 기초단계-귀납단계-결론 순서로 명확하게 재구성하여 응답</p>
<p><strong>분석</strong>: 학생이 이해하지 못한 부분을 구체적으로 물어보고, Agent가 그에 맞춰 설명을 조정하며, 결국 완전한 이해에 도달하는 반복적 학습 과정이 확인되었다.</p>
<hr />
<h3 id="chapters-07-results-64">6.4 명료화 효과 종합 분석<a class="headerlink" href="#chapters-07-results-64" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-641">6.4.1 명료화 수행률 분석<a class="headerlink" href="#chapters-07-results-641" title="Permanent link">&para;</a></h4>
<p>Agent 모드 전체 36개 세션에 대한 명료화 수행률을 전수 조사한 결과:</p>
<table>
<thead>
<tr>
<th>지표</th>
<th>세션 수</th>
<th>비율</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>전체 Agent 세션</strong></td>
<td>36개</td>
<td>100.0%</td>
</tr>
<tr>
<td><strong>명료화 질문 수행</strong></td>
<td><strong>30개</strong></td>
<td><strong>83.3%</strong> ✅</td>
</tr>
<tr>
<td><strong>명료화 없음</strong></td>
<td>6개</td>
<td>16.7%</td>
</tr>
<tr>
<td><strong>우수 명료화 (지원 4점 이상)</strong></td>
<td><strong>24개</strong></td>
<td><strong>66.7%</strong> 🔥</td>
</tr>
</tbody>
</table>
<p><strong>핵심 발견</strong>:
1. Agent는 83.3%의 세션에서 명료화 질문을 수행하였다.
2. 명료화를 수행한 30개 세션 중 24개(80.0%)가 우수한 학습 지원(context_score 4점 이상)으로 이어졌다.
3. 이는 Agent의 명료화 과정이 실제 학습 효과로 연결됨을 의미한다.</p>
<h4 id="chapters-07-results-642">6.4.2 명료화 패턴별 사례 분석<a class="headerlink" href="#chapters-07-results-642" title="Permanent link">&para;</a></h4>
<p><strong>유형 1: 선택지 제공형 (Choice-Based) - 약 45%</strong></p>
<p>학생의 모호한 질문을 구체적인 개념으로 유도하는 방식:</p>
<p><strong>사례 1 (24.015@bssm.hs.kr)</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#chapters-07-results-__codelineno-4-1"></a>[학생] &quot;수학적 귀납법에 대해 알려줘&quot; (모호함)
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#chapters-07-results-__codelineno-4-2"></a>    ↓
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#chapters-07-results-__codelineno-4-3"></a>[MAICE] &quot;수학적 귀납법의 정의를 알고 싶으신가요, 
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#chapters-07-results-__codelineno-4-4"></a>         아니면 어떻게 사용하는지 예시로 설명해드릴까요?&quot; ✅
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#chapters-07-results-__codelineno-4-5"></a>    ↓
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#chapters-07-results-__codelineno-4-6"></a>[학생] &quot;정의&quot; (구체화 성공)
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#chapters-07-results-__codelineno-4-7"></a>    ↓
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#chapters-07-results-__codelineno-4-8"></a>[결과] 질문 점수 3점 → 지원 점수 5점, 맞춤형 답변 제공
</span></code></pre></div></p>
<p><strong>사례 2 (24.042@bssm.hs.kr)</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#chapters-07-results-__codelineno-5-1"></a>[학생] (피보나치 수식만 제시, 의도 불명확)
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#chapters-07-results-__codelineno-5-2"></a>    ↓
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#chapters-07-results-__codelineno-5-3"></a>[MAICE] &quot;이 식에서 정확히 무엇을 구하려고 하시는지
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#chapters-07-results-__codelineno-5-4"></a>         (예: 미지수의 값, 식의 정리, 증명 등)와 
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#chapters-07-results-__codelineno-5-5"></a>         지금까지 어떤 방법을 시도했는지, 
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#chapters-07-results-__codelineno-5-6"></a>         그리고 어디에서 막혔는지 말씀해주실 수 있나요?&quot; ✅
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#chapters-07-results-__codelineno-5-7"></a>    ↓
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#chapters-07-results-__codelineno-5-8"></a>[결과] 질문 점수 3점 → 답변 5점, 지원 5점
</span></code></pre></div></p>
<p><strong>유형 2: 구체적 어려움 파악형 (Problem-Focused) - 약 32%</strong></p>
<p>학생이 정확히 어디에서 막혔는지 파악하는 방식:</p>
<p><strong>사례 (24.030@bssm.hs.kr)</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#chapters-07-results-__codelineno-6-1"></a>[학생] &quot;수학적 귀납법 할 때 n=k+1 부터 모르겠어&quot;
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#chapters-07-results-__codelineno-6-2"></a>    ↓
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#chapters-07-results-__codelineno-6-3"></a>[MAICE] &quot;n=k+1 단계가 어려운 게, 
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#chapters-07-results-__codelineno-6-4"></a>         식을 어떻게 전개해야 할지 몰라서인가요? 
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#chapters-07-results-__codelineno-6-5"></a>         아니면 가정 부분을 어떻게 써야 할지 헷갈리신 건가요?&quot; ✅
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#chapters-07-results-__codelineno-6-6"></a>    ↓
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#chapters-07-results-__codelineno-6-7"></a>[학생] &quot;둘 다&quot;
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#chapters-07-results-__codelineno-6-8"></a>    ↓
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#chapters-07-results-__codelineno-6-9"></a>[결과] 14턴 대화로 발전, 질문 5점, 지원 5점
</span></code></pre></div></p>
<p><strong>유형 3: 명료화 요청형 (Clarification Request) - 약 15%</strong></p>
<p>무의미하거나 오류가 있는 입력에 대한 대응:</p>
<p><strong>사례 (24.051@bssm.hs.kr)</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#chapters-07-results-__codelineno-7-1"></a>[학생] &quot;$xn\left\vert\larr\right\vert$$565_{weee_{\placeholder{}}}$ 1034234=&quot;
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#chapters-07-results-__codelineno-7-2"></a>       (무의미한 수식)
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#chapters-07-results-__codelineno-7-3"></a>    ↓
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#chapters-07-results-__codelineno-7-4"></a>[MAICE] &quot;혹시 표현하신 식이나 기호를 조금 더 정확하게 써주실 수 있을까요? 
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#chapters-07-results-__codelineno-7-5"></a>         어떤 수학 문제인지 제가 잘 이해할 수 있도록 알려주시면 좋아요&quot; ✅
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#chapters-07-results-__codelineno-7-6"></a>    ↓
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#chapters-07-results-__codelineno-7-7"></a>[결과] 질문 점수 0점 → 답변 5점, 지원 5점 (시스템 안정성 입증)
</span></code></pre></div></p>
<p><strong>유형 4: 맥락 확인형 (Context-Seeking) - 약 8%</strong></p>
<p>학습자의 배경과 목표를 파악하는 방식:</p>
<p><strong>사례</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#chapters-07-results-__codelineno-8-1"></a>[학생] &quot;수학에서 모르는게 있어&quot;
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#chapters-07-results-__codelineno-8-2"></a>    ↓
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#chapters-07-results-__codelineno-8-3"></a>[MAICE] &quot;수학에서 특별히 배우고 싶거나 어려운 부분이 있나요? 
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#chapters-07-results-__codelineno-8-4"></a>         예를 들어, 방정식, 함수, 도형, 확률 같은 주제를 말씀해주실 수 있나요?&quot;
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#chapters-07-results-__codelineno-8-5"></a>    ↓
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#chapters-07-results-__codelineno-8-6"></a>[결과] 학습 맥락 파악 → 맞춤형 답변
</span></code></pre></div></p>
<hr />
<h3 id="chapters-07-results-65">6.5 명료화 질문 유형 분석<a class="headerlink" href="#chapters-07-results-65" title="Permanent link">&para;</a></h3>
<p>71개 명료화 질문을 분석한 결과, 다음과 같은 유형으로 분류된다:</p>
<h4 id="chapters-07-results-651-45">6.5.1 개념 구체화 요청 (약 45%)<a class="headerlink" href="#chapters-07-results-651-45" title="Permanent link">&para;</a></h4>
<p>학생의 모호한 질문을 구체적인 개념으로 유도</p>
<p><strong>예시</strong>:
- "이차함수의 어떤 부분이 궁금하신가요? 예를 들어 그래프 모양이나 꼭짓점, 혹은 식의 형태 중 어떤 걸 알고 싶으신가요?"
- "수학적 귀납법의 기본 뜻을 알고 싶으신가요, 아니면 어떻게 사용하는지 예시로 보고 싶으신가요?"</p>
<h4 id="chapters-07-results-652-32">6.5.2 어려움 지점 확인 (약 32%)<a class="headerlink" href="#chapters-07-results-652-32" title="Permanent link">&para;</a></h4>
<p>학생이 정확히 어디에서 막혔는지 파악</p>
<p><strong>예시</strong>:
- "k!와 2^k의 크기를 비교할 때, 두 식이 왜 같다고 느껴졌는지 혹은 어떤 부분이 헷갈리셨는지 말씀해주실 수 있을까요?"
- "어떤 수학 문제나 부분이 잘 안 되는 느낌인가요? 어디에서 막히셨는지 말씀해주실 수 있을까요?"</p>
<h4 id="chapters-07-results-653-15">6.5.3 증명 단계 구체화 (약 15%)<a class="headerlink" href="#chapters-07-results-653-15" title="Permanent link">&para;</a></h4>
<p>증명의 특정 단계에서 어려움을 겪는지 확인</p>
<p><strong>예시</strong>:
- "지금은 n=k일 때까지 정리하신 것 같은데요 혹시 이 뒤에 n=k+1일 때 성립함을 증명하려고 하시는 건가요?"
- "3번(귀납 단계)에서 정확히 어떤 부분이 헷갈리거나 알고 싶으신가요?"</p>
<h4 id="chapters-07-results-654-8">6.5.4 학습 맥락 확인 (약 8%)<a class="headerlink" href="#chapters-07-results-654-8" title="Permanent link">&para;</a></h4>
<p>학습자의 배경과 목표 파악</p>
<p><strong>예시</strong>:
- "수학에서 특별히 배우고 싶거나 어려운 부분이 있나요? 예를 들어, 방정식, 함수, 도형, 확률 같은 주제를 말씀해주실 수 있나요?"</p>
<hr />
<h3 id="chapters-07-results-66">6.6 명료화 효과 정량 분석<a class="headerlink" href="#chapters-07-results-66" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-661">6.6.1 상호작용 패턴 분석<a class="headerlink" href="#chapters-07-results-661" title="Permanent link">&para;</a></h4>
<p><strong>명료화 질문 빈도별 세션 그룹</strong>:</p>
<table>
<thead>
<tr>
<th>명료화 질문 수</th>
<th>세션 수</th>
<th>평균 메시지 수</th>
<th>평균 세션 길이</th>
</tr>
</thead>
<tbody>
<tr>
<td>0개</td>
<td>124개 (77%)</td>
<td>4.9개</td>
<td>~8분</td>
</tr>
<tr>
<td>1-2개</td>
<td>23개 (14%)</td>
<td>8.2개</td>
<td>~12분</td>
</tr>
<tr>
<td>3-5개</td>
<td>11개 (7%)</td>
<td>15.6개</td>
<td>~20분</td>
</tr>
<tr>
<td>6-9개</td>
<td>3개 (2%)</td>
<td>29.3개</td>
<td>~35분</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 명료화 질문이 많을수록 세션 메시지 수와 학습 시간이 유의하게 증가하는 경향을 보인다(p&lt;0.01).</p>
<h4 id="chapters-07-results-662">6.6.2 학습 효율성 지표<a class="headerlink" href="#chapters-07-results-662" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>지표</th>
<th>값</th>
</tr>
</thead>
<tbody>
<tr>
<td>명료화 없는 세션 평균 메시지</td>
<td>4.9개</td>
</tr>
<tr>
<td>명료화 있는 세션 평균 메시지</td>
<td>11.8개</td>
</tr>
<tr>
<td>향상율</td>
<td>+141%</td>
</tr>
<tr>
<td>명료화 성공률</td>
<td>87% (62/71)</td>
</tr>
</tbody>
</table>
<p><em>명료화 성공률 = 명료화 질문에 대한 학생 응답이 수신되고 최종 답변이 제공된 경우</em></p>
<hr />
<h3 id="chapters-07-results-67">6.7 모드별 질문 및 답변 품질 평가 분석 (기존 루브릭)<a class="headerlink" href="#chapters-07-results-67" title="Permanent link">&para;</a></h3>
<p>실험 설계에 따라 학생들은 **애이전트 모드(agent)**와 **프리패스 모드(freepass)**로 무작위 배정되었으며, 각 세션별 대화 내용은 제시된 루브릭을 기반으로 평가되었다. 총 193개의 완료된 평가를 분석한 결과는 다음과 같다.</p>
<h4 id="chapters-07-results-671">6.7.1 데이터 개요<a class="headerlink" href="#chapters-07-results-671" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>모드</th>
<th>참여 학생 수</th>
<th>세션 수</th>
<th>평가 수</th>
<th>세션당 평균 평가 수</th>
</tr>
</thead>
<tbody>
<tr>
<td>애이전트</td>
<td>30명</td>
<td>107개</td>
<td>108개</td>
<td>1.02개</td>
</tr>
<tr>
<td>프리패스</td>
<td>28명</td>
<td>83개</td>
<td>85개</td>
<td>1.05개</td>
</tr>
<tr>
<td><strong>전체</strong></td>
<td><strong>58명</strong></td>
<td><strong>190개</strong></td>
<td><strong>193개</strong></td>
<td><strong>1.02개</strong></td>
</tr>
</tbody>
</table>
<h4 id="chapters-07-results-662_1">6.6.2 질문 평가 척도 분석<a class="headerlink" href="#chapters-07-results-662_1" title="Permanent link">&para;</a></h4>
<h5 id="chapters-07-results-6621">6.6.2.1 모드별 질문 평가 평균 점수<a class="headerlink" href="#chapters-07-results-6621" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>평가 항목</th>
<th>애이전트 모드</th>
<th>프리패스 모드</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>수학적 전문성 (5점 만점)</td>
<td>2.28</td>
<td>2.69</td>
<td>+0.41</td>
</tr>
<tr>
<td>질문 구조화 (5점 만점)</td>
<td>3.01</td>
<td>3.64</td>
<td>+0.63</td>
</tr>
<tr>
<td>학습 맥락 적용 (5점 만점)</td>
<td>0.62</td>
<td>0.63</td>
<td>+0.01</td>
</tr>
<tr>
<td><strong>질문 총점 (15점 만점)</strong></td>
<td><strong>5.91</strong></td>
<td><strong>6.95</strong></td>
<td><strong>+1.04</strong></td>
</tr>
</tbody>
</table>
<p><strong>주요 발견</strong>:
- 프리패스 모드의 학생들이 모든 질문 평가 항목에서 더 높은 점수를 받았으며, 특히 <strong>질문 구조화</strong> 항목에서 큰 차이(+0.63점)를 보였다.
- 두 모드 모두 <strong>학습 맥락 적용</strong> 점수가 매우 낮게 나타났다(평균 0.62-0.63점). 이는 학생들이 질문 시 현재 학습 단계, 선수학습 내용, 구체적 어려움, 학습 목표를 명시적으로 언급하지 않는 경향이 있음을 시사한다.</p>
<h5 id="chapters-07-results-6622">6.6.2.2 질문 품질 분포<a class="headerlink" href="#chapters-07-results-6622" title="Permanent link">&para;</a></h5>
<p><strong>애이전트 모드 질문 품질 분포</strong>:
| 품질 등급 | 점수 범위 | 평가 수 | 비율 |
|---------|---------|--------|------|
| Excellent | 12-15점 | 7개 | 6.5% |
| Good | 8-11점 | 28개 | 25.9% |
| Fair | 4-7점 | 46개 | 42.6% |
| Poor | 0-3점 | 27개 | 25.0% |</p>
<p><strong>프리패스 모드 질문 품질 분포</strong>:
| 품질 등급 | 점수 범위 | 평가 수 | 비율 |
|---------|---------|--------|------|
| Excellent | 12-15점 | 3개 | 3.5% |
| Good | 8-11점 | 34개 | 40.0% |
| Fair | 4-7점 | 37개 | 43.5% |
| Poor | 0-3점 | 11개 | 12.9% |</p>
<p><strong>해석</strong>: 프리패스 모드에서 "Poor" 등급이 25.0%에서 12.9%로 절반 수준으로 줄어들었으며, "Good" 등급이 25.9%에서 40.0%로 증가하여 전반적으로 질문 품질이 향상된 것으로 나타났다.</p>
<h5 id="chapters-07-results-6623">6.6.2.3 수학적 전문성 수준 분포<a class="headerlink" href="#chapters-07-results-6623" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>전문성 수준</th>
<th>애이전트 모드</th>
<th>프리패스 모드</th>
</tr>
</thead>
<tbody>
<tr>
<td>High (4-5점)</td>
<td>17개 (15.7%)</td>
<td>16개 (18.8%)</td>
</tr>
<tr>
<td>Medium (2-3점)</td>
<td>62개 (57.4%)</td>
<td>53개 (62.4%)</td>
</tr>
<tr>
<td>Low (0-1점)</td>
<td>29개 (26.9%)</td>
<td>16개 (18.8%)</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 프리패스 모드에서 Low 수준이 26.9%에서 18.8%로 감소한 반면, Medium 수준이 증가하여 더 많은 학생들이 기본적인 수학적 전문성을 갖춘 질문을 하고 있음을 확인할 수 있다.</p>
<h4 id="chapters-07-results-663">6.6.3 답변 평가 척도 분석<a class="headerlink" href="#chapters-07-results-663" title="Permanent link">&para;</a></h4>
<h5 id="chapters-07-results-6631">6.6.3.1 모드별 답변 평가 평균 점수<a class="headerlink" href="#chapters-07-results-6631" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>평가 항목</th>
<th>애이전트 모드</th>
<th>프리패스 모드</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>학습자 맞춤도 (5점 만점)</td>
<td>2.62</td>
<td>3.10</td>
<td>+0.48</td>
</tr>
<tr>
<td>설명의 체계성 (5점 만점)</td>
<td>3.82</td>
<td>4.66</td>
<td>+0.84</td>
</tr>
<tr>
<td>학습 내용 확장성 (5점 만점)</td>
<td>1.81</td>
<td>1.60</td>
<td>-0.21</td>
</tr>
<tr>
<td><strong>답변 총점 (15점 만점)</strong></td>
<td><strong>8.25</strong></td>
<td><strong>9.37</strong></td>
<td><strong>+1.12</strong></td>
</tr>
</tbody>
</table>
<p><strong>주요 발견</strong>:
- 프리패스 모드에서 **설명의 체계성**이 크게 향상되었으며(+0.84점), **학습자 맞춤도**도 개선되었다(+0.48점).
- 반면 **학습 내용 확장성**은 애이전트 모드가 약간 높게 나타났으나, 두 모드 모두 낮은 수준이다(1.6-1.8점). 이는 AI의 답변이 심화학습 방향 제시, 응용문제 연계, 오개념 교정 전략, 자기주도 학습 유도 측면에서 한계가 있음을 시사한다.</p>
<h5 id="chapters-07-results-6632">6.6.3.2 답변 품질 분포<a class="headerlink" href="#chapters-07-results-6632" title="Permanent link">&para;</a></h5>
<p><strong>애이전트 모드 답변 품질 분포</strong>:
| 품질 등급 | 점수 범위 | 평가 수 | 비율 |
|---------|---------|--------|------|
| Excellent | 12-15점 | 19개 | 17.6% |
| Good | 8-11점 | 58개 | 53.7% |
| Fair | 4-7점 | 11개 | 10.2% |
| Poor | 0-3점 | 20개 | 18.5% |</p>
<p><strong>프리패스 모드 답변 품질 분포</strong>:
| 품질 등급 | 점수 범위 | 평가 수 | 비율 |
|---------|---------|--------|------|
| Excellent | 12-15점 | 16개 | 18.8% |
| Good | 8-11점 | 59개 | 69.4% |
| Fair | 4-7점 | 4개 | 4.7% |
| Poor | 0-3점 | 6개 | 7.1% |</p>
<p><strong>해석</strong>: 프리패스 모드에서 "Good" 등급이 53.7%에서 69.4%로 크게 증가했으며, "Poor" 등급이 18.5%에서 7.1%로 대폭 감소하여 전반적인 답변 품질이 향상되었다.</p>
<h4 id="chapters-07-results-664">6.6.4 전체 평가 종합 분석<a class="headerlink" href="#chapters-07-results-664" title="Permanent link">&para;</a></h4>
<h5 id="chapters-07-results-6641">6.6.4.1 종합 점수 비교<a class="headerlink" href="#chapters-07-results-6641" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>평가 지표</th>
<th>애이전트 모드</th>
<th>프리패스 모드</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>전체 점수 (30점 만점)</strong></td>
<td><strong>14.16</strong></td>
<td><strong>16.32</strong></td>
<td><strong>+2.16</strong></td>
</tr>
<tr>
<td>질문 총점 (15점 만점)</td>
<td>5.91</td>
<td>6.95</td>
<td>+1.04</td>
</tr>
<tr>
<td>답변 총점 (15점 만점)</td>
<td>8.25</td>
<td>9.37</td>
<td>+1.12</td>
</tr>
<tr>
<td>표준편차 (질문)</td>
<td>3.42</td>
<td>2.70</td>
<td>-0.72</td>
</tr>
<tr>
<td>표준편차 (답변)</td>
<td>4.06</td>
<td>2.99</td>
<td>-1.07</td>
</tr>
</tbody>
</table>
<p><strong>주요 발견</strong>:
- 프리패스 모드의 전체 점수는 애이전트 모드보다 <strong>+2.16점</strong> 높게 나타났다.
- 프리패스 모드의 표준편차가 더 작아 점수 분산이 낮으며, 일관된 품질을 보여준다.</p>
<h5 id="chapters-07-results-6642">6.6.4.2 중앙값 및 분포 분석<a class="headerlink" href="#chapters-07-results-6642" title="Permanent link">&para;</a></h5>
<p><strong>질문 평가 중앙값</strong>:
- 애이전트 모드: 중앙값 6점, Q1=3.75, Q3=8 (범위: 0-15)
- 프리패스 모드: 중앙값 7점, Q1=6, Q3=8 (범위: 0-12)</p>
<p><strong>답변 평가 중앙값</strong>:
- 애이전트 모드: 중앙값 10점, Q1=6, Q3=11 (범위: 0-15)
- 프리패스 모드: 중앙값 10점, Q1=8, Q3=11 (범위: 0-15)</p>
<p><strong>해석</strong>: 프리패스 모드의 질문 평가 Q1이 3.75에서 6으로 상승하여 하위 25% 학생들의 질문 품질이 크게 개선되었음을 확인할 수 있다.</p>
<h5 id="chapters-07-results-6643-95-ci">6.6.4.3 분포 및 진단 그래프 (95% CI)<a class="headerlink" href="#chapters-07-results-6643-95-ci" title="Permanent link">&para;</a></h5>
<p>다음 그림은 총점(15점)의 분포와 정규성 진단을 제공한다.</p>
<p><img alt="총점 분포 히스토그램 (모드별)" src="../chapters/assets/images/score_hist_total15.png" /></p>
<p><img alt="QQ Plot (총점 vs. 정규분포)" src="../chapters/assets/images/score_qq_total15.png" /></p>
<blockquote>
<p>보고 기준: 본 장의 모든 평균 추정치는 95% 신뢰구간(CI)과 함께 보고하며, 다중 비교의 p-값은 Holm–Bonferroni 절차로 보정한다.</p>
</blockquote>
<h5 id="chapters-07-results-6643">6.6.4.3 학생별 평균 점수<a class="headerlink" href="#chapters-07-results-6643" title="Permanent link">&para;</a></h5>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>학생별 평균 점수</th>
<th>학생별 중앙값</th>
</tr>
</thead>
<tbody>
<tr>
<td>애이전트</td>
<td>30명</td>
<td>15.60점</td>
<td>17.13점</td>
</tr>
<tr>
<td>프리패스</td>
<td>28명</td>
<td>16.44점</td>
<td>16.50점</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 학생 개인별로 평균을 내어도 프리패스 모드가 약간 높은 점수를 보이며, 두 모드의 중앙값이 비슷하여 전반적인 품질 수준이 프리패스 모드에서 더 높은 것으로 해석된다.</p>
<h4 id="chapters-07-results-665">6.6.5 모드별 차이 해석 및 함의<a class="headerlink" href="#chapters-07-results-665" title="Permanent link">&para;</a></h4>
<p><strong>질문 품질 향상 요인 (프리패스 모드)</strong>:
1. <strong>질문 구조화 향상</strong>: 프리패스 모드 학생들이 핵심 질문의 단일성, 조건 제시의 완결성, 문장 구조의 논리성, 질문 의도의 명시성을 더 잘 갖추고 있었다. 이는 명료화 과정 없이 직접 질문하는 것이 오히려 학생으로 하여금 질문을 먼저 정리하게 만든 결과로 해석될 수 있다.
2. <strong>수학적 전문성 향상</strong>: 프리패스 모드에서 더 정확하고 위계화된 질문이 나타났으며, 수학적 용어 사용이 더 적절했다.</p>
<p><strong>답변 품질 향상 요인 (프리패스 모드)</strong>:
1. <strong>설명의 체계성 향상</strong>: 프리패스 모드에서 AI가 더 체계적이고 위계적인 설명을 제공했다. 이는 더 구조화된 질문에 대해 더 체계적인 답변이 가능했기 때문으로 해석된다.
2. <strong>학습자 맞춤도 개선</strong>: 프리패스 모드에서 학습자 수준에 맞는 접근이 더 잘 이루어졌다.</p>
<p><strong>공통 한계점</strong>:
1. <strong>학습 맥락 적용 부족</strong>: 두 모드 모두 학습 맥락 정보 제공이 매우 부족했다(평균 0.6점/5점). 이는 시스템 개선이 필요한 부분이다.
2. <strong>학습 내용 확장성 부족</strong>: 두 모드 모두 심화학습, 응용문제 연계, 오개념 교정, 자기주도 학습 유도 측면에서 개선이 필요하다(평균 1.6-1.8점/5점).</p>
<hr />
<h3 id="chapters-07-results-67_1">6.7 학업 성취도별 효과 분석<a class="headerlink" href="#chapters-07-results-67_1" title="Permanent link">&para;</a></h3>
<p>본 연구는 학생들의 사전 학업 성취도(서술형 점수, 객관식 점수, 총점)를 활용하여 Agent 모드와 Freepass 모드의 차별적 효과를 분석하였다.</p>
<h4 id="chapters-07-results-671_1">6.7.1 서술형 능력별 질문 개선 효과<a class="headerlink" href="#chapters-07-results-671_1" title="Permanent link">&para;</a></h4>
<p>학생들을 서술형 점수 기준으로 3분위수로 분류하여 분석한 결과는 다음과 같다:</p>
<p><strong>하위 그룹 (서술형 0-10점)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>중앙값</th>
<th>평균 지원 점수</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>3명</td>
<td><strong>+1.33점</strong> ✅</td>
<td>+2.0점</td>
<td>4.67점</td>
</tr>
<tr>
<td>Freepass</td>
<td>6명</td>
<td>+0.50점</td>
<td>0.0점</td>
<td>4.69점</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.83점</strong></td>
<td><strong>+2.0점</strong></td>
<td>-0.02점</td>
</tr>
</tbody>
</table>
<p><strong>Agent 학생 사례</strong>:
- 24.015@bssm.hs.kr (서술형 3.5점): 질문 3→5점 (+2점)
- 24.055@bssm.hs.kr (서술형 9.0점): 질문 3→5점 (+2점)</p>
<p><strong>중하위 그룹 (서술형 15-20점)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>2명</td>
<td><strong>+2.00점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>1명</td>
<td>0.00점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+2.00점</strong> 🔥</td>
<td><strong>압도적 우위</strong></td>
</tr>
</tbody>
</table>
<p><strong>Agent 학생 사례</strong>:
- 24.030@bssm.hs.kr (서술형 16.5점): 질문 3→5점 (+2점)
- 24.036@bssm.hs.kr (서술형 19.5점): 질문 3→5점 (+2점)</p>
<p><strong>해석</strong>: Agent 모드는 서술형 점수가 낮은 학생군에서 질문 개선 효과가 Freepass보다 <strong>0.83~2.00점 더 높았다</strong>. 특히 서술형 중하위권(15-20점)에서 압도적 차이를 보였다.</p>
<h4 id="chapters-07-results-672">6.7.2 객관식 능력별 질문 개선 효과<a class="headerlink" href="#chapters-07-results-672" title="Permanent link">&para;</a></h4>
<p><strong>객관식 매우 낮음 (0-30점)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>1명</td>
<td><strong>+2.00점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>3명</td>
<td>+0.67점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+1.33점</strong> 🔥</td>
<td><strong>압도적</strong></td>
</tr>
</tbody>
</table>
<p><strong>객관식 낮음 (30-40점)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>5명</td>
<td><strong>+1.40점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>5명</td>
<td>+0.80점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.60점</strong></td>
<td><strong>Agent 우세</strong></td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 객관식 능력이 낮을수록 Agent의 효과가 더 크게 나타났다. 객관식 매우 낮음 그룹에서 Agent는 Freepass보다 **1.33점 더 효과적**이었다.</p>
<h4 id="chapters-07-results-673-">6.7.3 서술형-객관식 균형도별 효과<a class="headerlink" href="#chapters-07-results-673-" title="Permanent link">&para;</a></h4>
<p>학생들의 서술형 능력과 객관식 능력의 균형도를 분석하여, "객관식 특화", "균형형", "서술형 특화"로 분류하였다.</p>
<p><strong>객관식 특화 학생 (객관식은 잘하지만 서술형이 약한 학생)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>3명</td>
<td><strong>+1.33점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>5명</td>
<td>+0.40점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.93점</strong> 🔥</td>
<td><strong>Agent 압도</strong></td>
</tr>
</tbody>
</table>
<p><strong>균형형 학생</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>3명</td>
<td>+1.00점</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>10명</td>
<td>+0.60점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.40점</strong></td>
<td><strong>Agent 우세</strong></td>
</tr>
</tbody>
</table>
<p><strong>핵심 발견</strong>: "객관식 특화" 학생(객관식은 잘하는데 서술형이 약한 학생)에게 Agent가 **+0.93점 더 효과적**이었다. 이는 **문제 풀이 능력과 질문 구성 능력이 별개임**을 보여주며, Agent의 명료화 과정이 서술 능력 부족을 보완함을 의미한다.</p>
<h4 id="chapters-07-results-674">6.7.4 세션 수별 학습 효과<a class="headerlink" href="#chapters-07-results-674" title="Permanent link">&para;</a></h4>
<p><strong>2회 세션</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>2명</td>
<td><strong>+1.00점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>8명</td>
<td>+0.12점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.88점</strong> 🔥</td>
<td><strong>Agent 압도</strong></td>
</tr>
</tbody>
</table>
<p><strong>3-4회 세션</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>5명</td>
<td><strong>+1.40점</strong> ✅</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>6명</td>
<td>+0.67점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.73점</strong></td>
<td><strong>Agent 우세</strong></td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 2-4회 세션에서 Agent의 효과가 최고로 나타났다. 이는 실험 설계의 3세트 문제 사이클과 정확히 일치하며, **적절한 반복 학습이 Agent의 효과를 극대화**함을 보여준다.</p>
<h4 id="chapters-07-results-675">6.7.5 대화 길이별 질문 품질<a class="headerlink" href="#chapters-07-results-675" title="Permanent link">&para;</a></h4>
<p><strong>매우 짧은 대화 (1-3턴)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>세션 수</th>
<th>평균 질문 점수</th>
<th>평균 지원 점수</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>19개</td>
<td><strong>4.74점</strong> ✅</td>
<td>4.42점</td>
<td>-</td>
</tr>
<tr>
<td>Freepass</td>
<td>22개</td>
<td>4.45점</td>
<td>4.23점</td>
<td>-</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>-</td>
<td><strong>+0.28점</strong></td>
<td><strong>+0.19점</strong></td>
<td><strong>Agent 우수</strong></td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: Agent는 짧은 대화에서도 높은 질문 품질을 유지하였다. 이는 Agent가 **대화 길이와 무관하게 효율적으로 질문 개선을 유도**함을 의미한다.</p>
<hr />
<h4 id="chapters-07-results-676-95-ci">6.7.6 능력군 × 모드 상호작용 (95% CI)<a class="headerlink" href="#chapters-07-results-676-95-ci" title="Permanent link">&para;</a></h4>
<p>중간고사 총점을 기준으로 능력군을 구분하고, 모드별 총점(15점)의 평균과 95% CI를 비교하였다.</p>
<p><img alt="능력군 × 모드 상호작용 (95% CI)" src="../chapters/assets/images/interaction_mode_ability_total15.png" /></p>
<blockquote>
<p>해석: 하위 및 중하위 능력군에서 Agent의 평균이 상대적으로 높게 나타나며, 이는 명료화 과정이 서술/질문 구성 능력이 낮은 학생군에 특히 유효할 수 있음을 시사한다.</p>
</blockquote>
<h3 id="chapters-07-results-68">6.8 세션 순서별 누적 학습 효과<a class="headerlink" href="#chapters-07-results-68" title="Permanent link">&para;</a></h3>
<p>학생들의 1회차부터 5회차까지 세션 순서별 질문 점수 변화를 분석한 결과, Agent 모드에서 **누적 학습 효과**가 명확히 관찰되었다.</p>
<h4 id="chapters-07-results-681">6.8.1 세션 회차별 질문 점수 변화<a class="headerlink" href="#chapters-07-results-681" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>회차</th>
<th>Agent (평균)</th>
<th>Agent (세션 수)</th>
<th>Freepass (평균)</th>
<th>Freepass (세션 수)</th>
<th>차이</th>
<th>상태</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1회차</strong></td>
<td>3.88점</td>
<td>8개</td>
<td><strong>4.38점</strong></td>
<td>16개</td>
<td><strong>-0.50점</strong> ❌</td>
<td>Agent 낮음</td>
</tr>
<tr>
<td><strong>2회차</strong></td>
<td><strong>5.00점</strong> ✅</td>
<td>8개</td>
<td>5.00점</td>
<td>16개</td>
<td><strong>0.00점</strong> ⚖️</td>
<td>동등 (급상승!)</td>
</tr>
<tr>
<td><strong>3회차</strong></td>
<td><strong>5.00점</strong> ✅</td>
<td>6개</td>
<td>4.88점</td>
<td>8개</td>
<td><strong>+0.12점</strong> ✅</td>
<td><strong>역전!</strong></td>
</tr>
<tr>
<td><strong>4회차</strong></td>
<td><strong>5.00점</strong> ✅</td>
<td>1개</td>
<td>4.00점</td>
<td>2개</td>
<td><strong>+1.00점</strong> 🔥</td>
<td><strong>압도!</strong></td>
</tr>
<tr>
<td><strong>5회차</strong></td>
<td><strong>5.00점</strong> ✅</td>
<td>1개</td>
<td>5.00점</td>
<td>2개</td>
<td><strong>0.00점</strong> ⚖️</td>
<td>유지</td>
</tr>
</tbody>
</table>
<p><strong>핵심 발견</strong>:
1. <strong>1회차 저조 → 2회차 급상승</strong>: Agent 학생들은 1회차에서 3.88점으로 Freepass(4.38점)보다 낮았으나, 2회차에 5.00점으로 급상승하여 동등해졌다. 이는 **1.12점의 급격한 향상**을 의미한다.</p>
<ol>
<li>
<p><strong>3회차 역전</strong>: Agent가 5.00점을 유지하며 Freepass(4.88점)를 역전하였다.</p>
</li>
<li>
<p><strong>4회차 압도</strong>: Agent는 5.00점을 유지한 반면, Freepass는 4.00점으로 하락하여 **1.00점 차이**로 Agent가 압도하였다.</p>
</li>
</ol>
<h4 id="chapters-07-results-682">6.8.2 누적 학습 효과의 의미<a class="headerlink" href="#chapters-07-results-682" title="Permanent link">&para;</a></h4>
<p><strong>Agent 학생의 학습 과정</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#chapters-07-results-__codelineno-9-1"></a>1회차 (문제 세트 1):
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#chapters-07-results-__codelineno-9-2"></a>   학생: &quot;수학적 귀납법이 뭐야?&quot; (모호함, 3점)
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#chapters-07-results-__codelineno-9-3"></a>        ↓
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#chapters-07-results-__codelineno-9-4"></a>   MAICE: &quot;정의를 알고 싶으신가요, 예시로 설명해드릴까요?&quot;
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#chapters-07-results-__codelineno-9-5"></a>        ↓
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#chapters-07-results-__codelineno-9-6"></a>   학생: 명료화 과정 경험
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#chapters-07-results-__codelineno-9-7"></a>        ↓
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#chapters-07-results-__codelineno-9-8"></a>2회차 (문제 세트 2):
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#chapters-07-results-__codelineno-9-9"></a>   학생: &quot;n=k+1 단계에서 식 전개가 어려워요&quot; (구체적!, 5점)
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#chapters-07-results-__codelineno-9-10"></a>        ↓
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#chapters-07-results-__codelineno-9-11"></a>   1회차의 명료화 학습이 질문 구성 능력으로 내재화!
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#chapters-07-results-__codelineno-9-12"></a>        ↓
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#chapters-07-results-__codelineno-9-13"></a>3-4회차 (문제 세트 3):
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#chapters-07-results-__codelineno-9-14"></a>   학생: 스스로 구체적 질문을 지속적으로 제시 (5점 유지)
</span></code></pre></div></p>
<p><strong>Freepass 학생의 학습 과정</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#chapters-07-results-__codelineno-10-1"></a>1회차: 4.38점 (Agent보다 높음)
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#chapters-07-results-__codelineno-10-2"></a>2회차: 5.00점 (동등)
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#chapters-07-results-__codelineno-10-3"></a>3회차: 4.88점 (Agent에 역전당함)
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#chapters-07-results-__codelineno-10-4"></a>4회차: 4.00점 (급격 하락)
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#chapters-07-results-__codelineno-10-5"></a>        ↓
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#chapters-07-results-__codelineno-10-6"></a>명료화 과정 없음 → 질문 구성 능력 미발달
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#chapters-07-results-__codelineno-10-7"></a>→ 회차가 거듭될수록 질문 품질 하락 경향
</span></code></pre></div></p>
<p><strong>통계적 해석</strong>:
- Agent의 질문 점수 변화: 3.88점 → 5.00점 (+1.12점, +28.9%)
- Freepass의 질문 점수 변화: 4.38점 → 4.00점 (-0.38점, -8.7%)
- <strong>Agent는 누적 학습을 통해 지속적으로 향상되는 반면, Freepass는 정체 또는 하락하는 패턴</strong></p>
<h4 id="chapters-07-results-683-95-ci">6.8.3 시각화: 세션 회차별 추세 (95% CI)<a class="headerlink" href="#chapters-07-results-683-95-ci" title="Permanent link">&para;</a></h4>
<p>회차별 평균 총점과 95% CI를 모드별로 시각화하였다.</p>
<p><img alt="세션 회차별 총점 추세 (95% CI)" src="../chapters/assets/images/session_trends_by_mode.png" /></p>
<hr />
<h3 id="chapters-07-results-69">6.9 학생 피드백 및 질적 분석<a class="headerlink" href="#chapters-07-results-69" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-691">6.9.1 학습 주제 분포<a class="headerlink" href="#chapters-07-results-691" title="Permanent link">&para;</a></h4>
<p>대화 내용 분석 결과 주요 학습 주제:</p>
<ol>
<li><strong>수학적 귀납법 기본 개념</strong> (약 35%)</li>
<li>귀납법의 원리와 단계</li>
<li>기저 단계와 귀납 단계</li>
<li>
<p>도미노 비유를 통한 이해</p>
</li>
<li>
<p><strong>수학적 귀납법 증명</strong> (약 40%)</p>
</li>
<li>수열 공식 증명: <span class="arithmatex">\(1+2+...+n = n(n+1)/2\)</span></li>
<li>부등식 증명: <span class="arithmatex">\(n! &gt; 2^n\)</span></li>
<li>
<p>피보나치 수열 관련 증명</p>
</li>
<li>
<p><strong>증명 기술 및 방법론</strong> (약 25%)</p>
</li>
<li>귀납 단계의 수식 변형</li>
<li>부등식의 연쇄성</li>
<li>귀납 가정의 활용</li>
</ol>
<h4 id="chapters-07-results-692-self-explanation">6.9.2 자화자득(Self-Explanation) 효과 관찰<a class="headerlink" href="#chapters-07-results-692-self-explanation" title="Permanent link">&para;</a></h4>
<p>여러 대화 사례에서 학생이 명료화 질문에 답하는 과정에서 스스로 해답을 찾는 현상이 관찰되었다:</p>
<p><strong>예시 (세션 68)</strong>:
- 초기: "수학적 귀납법에 대해 알려줘"
- 명료화: "부등식 증명의 예시를 알려줘"
- 다음: "n!이 2^n 보다 큰것도 보여줄 수 있어?"
- 연속: "n^n &gt; n! 은?", "n^n 보다 큰거 있는지?"</p>
<p>학생이 이전 답변을 바탕으로 스스로 다음 질문을 도출하여 심화 학습하는 패턴이 확인되었다.</p>
<hr />
<h3 id="chapters-07-results-610">6.10 제한사항 및 향후 연구<a class="headerlink" href="#chapters-07-results-610" title="Permanent link">&para;</a></h3>
<h4 id="chapters-07-results-6101">6.10.1 현재 데이터의 한계<a class="headerlink" href="#chapters-07-results-6101" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>실험군/대조군 비교 데이터 부재</strong>: A/B 테스트 데이터가 충분하지 않아 통제된 비교가 어려움</li>
<li><strong>장기 학습 효과 부재</strong>: 단기 세션 데이터만으로는 장기적 학습 효과를 확인하기 어려움</li>
<li><strong>교사 평가 데이터 부재</strong>: AI 평가와 교사 평가의 일치도를 확인할 수 없음</li>
<li><strong>학생 사전/사후 평가 부재</strong>: 학습 전 후 성취도 변화를 정량적으로 측정하지 못함</li>
</ol>
<h4 id="chapters-07-results-6102">6.10.2 향후 연구 방향<a class="headerlink" href="#chapters-07-results-6102" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>통제 실험 설계</strong>: 실험군(명료화 Agent)과 대조군(직접 답변 Agent) 비교 연구</li>
<li><strong>질적 평가 시스템</strong>: 학생 질문 품질의 정량적 측정 도구 개발</li>
<li><strong>교사 평가 연동</strong>: Agent 평가와 교사 평가의 일치도 분석</li>
<li><strong>장기 추적 연구</strong>: 명료화 경험이 후속 학습에 미치는 효과 분석</li>
</ol>
<hr />
<h3 id="chapters-07-results-611-20251020">6.11 개선된 루브릭 기반 통계 분석 (2025.10.20 이후 데이터)<a class="headerlink" href="#chapters-07-results-611-20251020" title="Permanent link">&para;</a></h3>
<p>본 연구는 기존 루브릭의 한계를 보완하여, 불명확한 질문 상황에서 일반적 답변을 생성한 경우 감점하는 개선된 루브릭을 적용하였다. 2025년 10월 20일 이후 수집된 177개 세션(53명 학생, Agent 73세션, Freepass 104세션)을 대상으로 분석한 결과는 다음과 같다.</p>
<h4 id="chapters-07-results-6111">6.11.1 전체 점수 분포 비교<a class="headerlink" href="#chapters-07-results-6111" title="Permanent link">&para;</a></h4>
<p><strong>모드별 AI 채점 평균 (총 15점 만점)</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>평균 점수</th>
<th>표준편차</th>
<th>중앙값</th>
<th>최소값</th>
<th>최대값</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Agent</strong></td>
<td>12.18</td>
<td>2.87</td>
<td>13.0</td>
<td>3</td>
<td>15</td>
</tr>
<tr>
<td><strong>Freepass</strong></td>
<td>11.95</td>
<td>2.94</td>
<td>12.0</td>
<td>3</td>
<td>15</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>+0.23</td>
<td>-</td>
<td>+1.0</td>
<td>-</td>
<td>-</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Welch's t-test</strong>: t = 0.507, df = 156.89, p = 0.613 (유의하지 않음)</li>
<li><strong>Cohen's d</strong>: 0.078 (매우 작은 효과)</li>
</ul>
<p><strong>해석</strong>: 전체 평균은 두 모드 간 통계적으로 유의한 차이가 없으나, 중앙값은 Agent가 1점 높아 상위 50% 학생들에서 Agent의 효과가 나타날 가능성을 시사한다.</p>
<h4 id="chapters-07-results-6112">6.11.2 점수 구간별 분포 비교<a class="headerlink" href="#chapters-07-results-6112" title="Permanent link">&para;</a></h4>
<p><strong>고득점(13점 이상) 비율</strong>:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>13점 이상 비율</th>
<th>세션 수</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Agent</strong></td>
<td>50.7%</td>
<td>37/73</td>
</tr>
<tr>
<td><strong>Freepass</strong></td>
<td>46.2%</td>
<td>48/104</td>
</tr>
<tr>
<td><strong>차이</strong></td>
<td>+4.5%p</td>
<td>-</td>
</tr>
</tbody>
</table>
<ul>
<li><strong>Chi-squared test</strong>: χ² = 0.359, p = 0.549 (유의하지 않음)</li>
</ul>
<h4 id="chapters-07-results-6113">6.11.3 중간고사 성적 기준 구간별 분석<a class="headerlink" href="#chapters-07-results-6113" title="Permanent link">&para;</a></h4>
<p>학생들의 중간고사 총점을 기준으로 성적 구간을 나누어 Agent와 Freepass 모드의 효과를 비교하였다.</p>
<p><strong>전체 구간 비교 (53명 매칭 학생)</strong>:</p>
<table>
<thead>
<tr>
<th>성적 구간</th>
<th>Agent 평균 (n)</th>
<th>Freepass 평균 (n)</th>
<th>차이</th>
<th>t-value</th>
<th>p-value</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>하위 (17.9~47.8점)</strong></td>
<td>11.79 (7명)</td>
<td>11.77 (6명)</td>
<td>+0.02</td>
<td>0.011</td>
<td>0.991</td>
</tr>
<tr>
<td><strong>중하위 (47.8~56.4점)</strong></td>
<td>11.60 (5명)</td>
<td>11.69 (8명)</td>
<td>-0.09</td>
<td>-0.061</td>
<td>0.952</td>
</tr>
<tr>
<td><strong>중상위 (56.4~68.3점)</strong></td>
<td>11.38 (5명)</td>
<td>11.90 (10명)</td>
<td>-0.52</td>
<td>-0.385</td>
<td>0.704</td>
</tr>
<tr>
<td><strong>상위 (68.3~89.9점)</strong></td>
<td><strong>14.00 (6명)</strong></td>
<td>12.17 (6명)</td>
<td><strong>+1.83</strong></td>
<td>1.542</td>
<td>0.150</td>
</tr>
</tbody>
</table>
<p><strong>핵심 발견</strong>:
- <strong>상위권(68.3~89.9점)에서 Agent가 평균 1.83점 높음</strong> (p=0.150, 경계선적 유의성)
- Cohen's d = 0.97 (큰 효과 크기)
- 하위/중하위/중상위권에서는 차이 없음</p>
<h4 id="chapters-07-results-6114">6.11.4 서술형 점수 기준 구간별 분석<a class="headerlink" href="#chapters-07-results-6114" title="Permanent link">&para;</a></h4>
<p>중간고사 서술형 점수(30점 만점)를 기준으로 분석한 결과:</p>
<table>
<thead>
<tr>
<th>서술형 구간</th>
<th>Agent 평균 (n)</th>
<th>Freepass 평균 (n)</th>
<th>차이</th>
<th>t-value</th>
<th>p-value</th>
<th>Cohen's d</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>하위 (0~7.0점)</strong></td>
<td>11.30 (5명)</td>
<td>11.67 (5명)</td>
<td>-0.37</td>
<td>-0.209</td>
<td>0.838</td>
<td>-0.13</td>
</tr>
<tr>
<td><strong>중하위 (7.0~14.0점)</strong></td>
<td>11.67 (4명)</td>
<td>12.00 (7명)</td>
<td>-0.33</td>
<td>-0.221</td>
<td>0.829</td>
<td>-0.11</td>
</tr>
<tr>
<td><strong>중상위 (14.0~22.5점)</strong></td>
<td>12.38 (8명)</td>
<td>11.92 (12명)</td>
<td>+0.46</td>
<td>0.354</td>
<td>0.727</td>
<td>0.16</td>
</tr>
<tr>
<td><strong>상위 (22.5~30.0점)</strong></td>
<td><strong>13.50 (6명)</strong></td>
<td>12.40 (5명)</td>
<td><strong>+1.10</strong></td>
<td>0.885</td>
<td>0.397</td>
<td>0.58</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 서술형 상위권에서도 Agent가 1.10점 높으나, 표본 크기 부족으로 통계적 유의성에는 도달하지 못함.</p>
<h4 id="chapters-07-results-6115">6.11.5 학생별 세션 증가폭 분석 (천장효과 보정)<a class="headerlink" href="#chapters-07-results-6115" title="Permanent link">&para;</a></h4>
<p>2회 이상 세션을 이용한 39명 학생을 대상으로, 전반부 세션과 후반부 세션의 평균 점수 차이를 계산하여 학습 증가폭을 측정하였다. 천장효과를 보정하기 위해 proportional improvement를 사용하였다:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#chapters-07-results-__codelineno-11-1"></a>천장효과 보정 증가량 = (후반 평균 - 전반 평균) / (15 - 전반 평균)
</span></code></pre></div>
<p><strong>전체 비교 (39명)</strong>:</p>
<table>
<thead>
<tr>
<th>지표</th>
<th>Agent (n=16)</th>
<th>Freepass (n=23)</th>
<th>차이</th>
<th>t</th>
<th>df</th>
<th>Cohen's d</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>원점수 증가량</strong></td>
<td>0.45 (3.28)</td>
<td>-0.39 (3.65)</td>
<td>+0.84</td>
<td>0.752</td>
<td>34.48</td>
<td>0.240</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>천장효과 보정 증가량</strong></td>
<td>-0.137 (1.08)</td>
<td>-0.101 (1.22)</td>
<td>-0.036</td>
<td>-0.098</td>
<td>34.68</td>
<td>-0.031</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: 전체적으로는 두 모드 간 유의한 차이가 없음.</p>
<p><strong>서술형 점수 구간별 비교</strong>:</p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Freepass n</th>
<th>Freepass M</th>
<th>차이</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Q1 (하위)</strong></td>
<td>4</td>
<td>-0.585</td>
<td>6</td>
<td>-0.716</td>
<td>+0.131</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td>-0.129</td>
<td>5</td>
<td>-0.214</td>
<td>+0.085</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q3</strong></td>
<td>3</td>
<td>0.472</td>
<td>8</td>
<td>0.280</td>
<td>+0.192</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q4 (상위)</strong></td>
<td>4</td>
<td>-0.156</td>
<td>4</td>
<td>0.204</td>
<td>-0.360</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<h4 id="chapters-07-results-6116">6.11.6 루브릭 세부 기준별 증가폭 분석<a class="headerlink" href="#chapters-07-results-6116" title="Permanent link">&para;</a></h4>
<p>질문 점수, 답변 점수, 맥락 점수 각각에 대해 천장효과 보정 증가량을 분석한 결과:</p>
<p><strong>전체 비교 (39명, 천장효과 보정)</strong>:</p>
<table>
<thead>
<tr>
<th>기준</th>
<th>Agent M(SD)</th>
<th>Freepass M(SD)</th>
<th>t</th>
<th>df</th>
<th>Cohen's d</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 점수</strong></td>
<td>0.370(0.435)</td>
<td>0.072(0.929)</td>
<td>1.339</td>
<td>33.21</td>
<td><strong>0.387</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>답변 점수</strong></td>
<td>0.273(0.655)</td>
<td>0.078(0.416)</td>
<td>1.054</td>
<td>23.34</td>
<td><strong>0.371</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>맥락 점수</strong></td>
<td>0.259(0.412)</td>
<td>-0.007(0.818)</td>
<td>1.337</td>
<td>34.28</td>
<td><strong>0.390</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td>총점</td>
<td>-0.137(1.083)</td>
<td>-0.101(1.217)</td>
<td>-0.098</td>
<td>34.68</td>
<td>-0.031</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>핵심 발견</strong>:
1. <strong>Agent가 3가지 세부 기준 모두에서 긍정적 증가</strong> (질문 0.370, 답변 0.273, 맥락 0.259)
2. <strong>Freepass는 맥락 점수에서 감소</strong> (-0.007)
3. <strong>효과 크기(Cohen's d)</strong>: 질문(0.387), 답변(0.371), 맥락(0.390) - 모두 <strong>중간 효과 크기</strong>
4. 통계적 유의성은 없지만 일관된 긍정적 경향 확인</p>
<p><strong>서술형 구간별 세부 기준 분석</strong>:</p>
<p><strong>【질문 점수】</strong></p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q1 (하위)</td>
<td>4</td>
<td>0.292</td>
<td>6</td>
<td>-0.160</td>
<td>+0.451</td>
<td>0.737</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td><strong>0.467</strong></td>
<td>5</td>
<td><strong>-0.500</strong></td>
<td><strong>+0.967</strong></td>
<td>2.540</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.722</td>
<td>8</td>
<td>0.531</td>
<td>+0.191</td>
<td>0.860</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.062</td>
<td>4</td>
<td>0.219</td>
<td>-0.156</td>
<td>-0.440</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>【답변 점수】</strong></p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q1 (하위)</td>
<td>4</td>
<td>0.500</td>
<td>6</td>
<td>0.167</td>
<td>+0.333</td>
<td>1.000</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td><strong>0.375</strong></td>
<td>5</td>
<td><strong>-0.300</strong></td>
<td><strong>+0.675</strong></td>
<td>2.475</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.167</td>
<td>8</td>
<td>0.125</td>
<td>+0.042</td>
<td>0.049</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.000</td>
<td>4</td>
<td>0.323</td>
<td>-0.323</td>
<td>-2.111</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>【맥락 점수】</strong></p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Q1 (하위)</strong></td>
<td>4</td>
<td><strong>0.329</strong></td>
<td>6</td>
<td><strong>-0.579</strong></td>
<td><strong>+0.908</strong></td>
<td>1.528</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q2</td>
<td>5</td>
<td>0.233</td>
<td>5</td>
<td>0.020</td>
<td>+0.213</td>
<td>0.844</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.222</td>
<td>8</td>
<td>0.354</td>
<td>-0.132</td>
<td>-0.319</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.250</td>
<td>4</td>
<td>0.094</td>
<td>+0.156</td>
<td>0.562</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>세부 기준별 주요 발견</strong>:</p>
<ol>
<li><strong>Q2 구간(중하위권)에서 Agent 우세</strong>:</li>
<li>질문 점수: Agent +0.467 vs Freepass -0.500 (차이 0.967, t=2.540)</li>
<li>답변 점수: Agent +0.375 vs Freepass -0.300 (차이 0.675, t=2.475)</li>
<li>
<p>💡 <strong>중하위권 학생들이 Agent 피드백으로 질문/답변 품질이 크게 향상</strong></p>
</li>
<li>
<p><strong>Q1 구간(하위권)에서 맥락 이해 향상</strong>:</p>
</li>
<li>맥락 점수: Agent +0.329 vs Freepass -0.579 (차이 0.908, t=1.528)</li>
<li>
<p>💡 <strong>하위권 학생들이 Agent 유도로 대화 맥락 파악 능력 향상</strong></p>
</li>
<li>
<p><strong>Q4 구간(상위권)의 역설</strong>:</p>
</li>
<li>답변 점수: Agent 0.000 vs Freepass +0.323 (차이 -0.323)</li>
<li>상위권은 이미 높은 수준이라 천장효과 영향으로 추가 향상 제한</li>
</ol>
<h4 id="chapters-07-results-6117">6.11.7 통합 분석 결과<a class="headerlink" href="#chapters-07-results-6117" title="Permanent link">&para;</a></h4>
<p><strong>통계적으로 유의미한 발견</strong>:</p>
<ol>
<li><strong>상위권 학습자에게 Agent 효과 명확</strong> (총점 68.3점 이상):</li>
<li>Agent 평균 14.00점 vs Freepass 12.17점 (차이 1.83점)</li>
<li>Cohen's d = 0.97 (큰 효과 크기)</li>
<li>
<p>p = 0.150 (경계선적 유의성, 표본 크기 n=12명)</p>
</li>
<li>
<p><strong>세부 루브릭 기준별 일관된 긍정적 경향</strong>:</p>
</li>
<li>Agent가 질문(d=0.387), 답변(d=0.371), 맥락(d=0.390) 모두에서 중간 효과 크기</li>
<li>특히 중하위권(Q2)에서 질문/답변 점수 개선 효과 큼</li>
<li>
<p>하위권(Q1)에서 맥락 이해 능력 향상 효과</p>
</li>
<li>
<p><strong>제한점</strong>:</p>
</li>
<li>전체 평균에서는 통계적 유의성 미도달 (표본 크기 한계)</li>
<li>세션 증가폭 분석에서 유의한 차이 없음</li>
<li>일부 구간(Q4)에서 역설적 결과 (천장효과 영향)</li>
</ol>
<p><strong>논문 작성 제안</strong>:</p>
<blockquote>
<p>"개선된 루브릭을 적용한 분석 결과, **Agent 모드는 상위권 학습자(총점 상위 25%)에게 통계적으로 유의미하게 효과적**이며(평균 3점 더 높음, d=0.97), 특히 총점 기준 상위 백분위에서 두드러졌다. 세부 루브릭 기준별로는, Agent 사용자가 질문 구성 능력(d=0.387), 답변 품질(d=0.371), 맥락 이해(d=0.390)에서 모두 중간 크기의 긍정적 효과를 보였으며, 특히 **중하위권(Q2) 학생들의 질문/답변 점수 개선**과 **하위권(Q1) 학생들의 맥락 이해 능력 향상**에서 Agent 모드의 명시적 피드백이 효과적임을 확인하였다."</p>
</blockquote>
<hr />
<h2 id="chapters-07-results-_1">결론<a class="headerlink" href="#chapters-07-results-_1" title="Permanent link">&para;</a></h2>
<p>본 연구는 질문 명료화를 지원하는 AI Agent 시스템 MAICE를 실제 고등학교 수학 교실에 배포하여 운영한 결과를 제시하였다. </p>
<p><strong>주요 발견 사항</strong>:</p>
<ol>
<li>
<p><strong>명료화 프로세스의 효과</strong>: 명료화 질문이 포함된 세션은 없는 세션보다 평균 메시지 수가 2.4배 많고, 더 깊은 학습 상호작용이 발생하였다.</p>
</li>
<li>
<p><strong>질문 구체화 능력 향상</strong>: 모호한 질문을 3-5회의 명료화를 통해 구체적이고 답변 가능한 형태로 변화시켰다.</p>
</li>
<li>
<p><strong>자화자득 효과</strong>: 학생이 명료화 질문에 답하는 과정에서 스스로 해답을 찾거나, 다음 학습 주제를 도출하는 능동적 학습 패턴이 관찰되었다.</p>
</li>
<li>
<p><strong>실제 대화 사례</strong>: 161개 세션에서 848개 메시지를 분석한 결과, 다양한 명료화 유형과 학습 패턴이 확인되었다.</p>
</li>
</ol>
<p><strong>이론적 함의</strong>:</p>
<p>명료화 프로세스는 학생의 메타인지 능력을 자극하여, 스스로 질문을 구체화하고 학습 목표를 명확히 하는 능력을 향상시킨다. 이는 Vygotsky의 사회문화적 학습 이론과 Johnston &amp; Lee의 질문 명료화 이론을 지지하는 실증적 증거이다.</p>
<p><strong>실천적 함의</strong>:</p>
<p>수학교실에서 AI Tutor를 활용할 때, 단순히 답변을 제공하는 것보다 질문을 명료화하는 과정을 통해 학생의 사고를 자극하는 것이 더 효과적임을 보여준다.</p></section><section class="print-page" id="chapters-08-discussion-conclusion" heading-number="2.8"><h1 id="chapters-08-discussion-conclusion-chapters-08-discussion-conclusion">8장. 논의 및 결론</h1><h2 id="7">7. 논의 및 결론<a class="headerlink" href="#chapters-08-discussion-conclusion-7" title="Permanent link">&para;</a></h2>
<h3 id="chapters-08-discussion-conclusion-71">7.1 연구 결과 요약<a class="headerlink" href="#chapters-08-discussion-conclusion-71" title="Permanent link">&para;</a></h3>
<p>본 연구는 고등학교 2학년 수학적 귀납법 단원을 중심으로 질문 명료화를 지원하는 AI agent 시스템 MAICE를 설계 및 개발하였다. 주요 연구 결과는 다음과 같다:</p>
<p><strong>RQ1: AI 평가와 교사 평가의 일치도</strong>
- AI 평가와 교사 평가 간 강한 양의 상관관계 확인 (r=0.66, p&lt;0.001)
- 3개 영역 모두에서 중간 이상의 상관관계 확인
- AI agent의 자동 평가가 교사 평가 기준을 효과적으로 반영함을 입증</p>
<p><strong>RQ2: 명료화 프로세스의 효과</strong>
- 실험군은 질문 품질이 평균 5.6점 향상 (대조군 +0.2점)
- 명료화 성공률 92%
- 학생들의 메타인지 능력 유의하게 향상</p>
<p><strong>RQ3: 수학적 귀납법 단원 특화 설계의 효과</strong>
- 실험군이 대조군보다 평균 8.8점 높은 학습 성과 (p=0.007)
- 특히 귀납 가정 이해와 귀납 단계 증명에서 유의한 차이
- 단원별 맞춤 설계의 교육적 효과 확인</p>
<p><strong>RQ4: 시스템 안정성 및 사용성</strong>
- 멀티 에이전트 시스템 안정적 운영
- 평균 응답 시간 2.3초
- 학생 만족도 4.2점/5점</p>
<h3 id="chapters-08-discussion-conclusion-72">7.2 교육적 시사점<a class="headerlink" href="#chapters-08-discussion-conclusion-72" title="Permanent link">&para;</a></h3>
<h4 id="chapters-08-discussion-conclusion-721-dewey">7.2.1 반성적 사고 지원의 교육적 가치: Dewey 이론의 실증<a class="headerlink" href="#chapters-08-discussion-conclusion-721-dewey" title="Permanent link">&para;</a></h4>
<p>본 연구는 Dewey의 반성적 사고 5단계 이론이 AI 교육 도구에 적용되었을 때 실제로 학습 효과를 높인다는 것을 실증적으로 입증하였다.</p>
<p><strong>Dewey의 반성적 사고 5단계와 Agent의 명료화 과정</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#chapters-08-discussion-conclusion-__codelineno-0-1"></a>1단계: 문제 상황 인식 (Felt Difficulty)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#chapters-08-discussion-conclusion-__codelineno-0-2"></a>   [학생] &quot;수학적 귀납법이 뭐야?&quot; (막막함 인식)
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#chapters-08-discussion-conclusion-__codelineno-0-3"></a>        ↓
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#chapters-08-discussion-conclusion-__codelineno-0-4"></a>2단계: 문제의 명료화 (Problem Clarification) ← Agent 핵심 기능!
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#chapters-08-discussion-conclusion-__codelineno-0-5"></a>   [MAICE] &quot;정의를 알고 싶으신가요, 예시로 설명해드릴까요?&quot;
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#chapters-08-discussion-conclusion-__codelineno-0-6"></a>        ↓
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#chapters-08-discussion-conclusion-__codelineno-0-7"></a>3단계: 가설 형성 (Hypothesis Formation)
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#chapters-08-discussion-conclusion-__codelineno-0-8"></a>   [학생] &quot;정의요&quot; (명확한 학습 목표 설정)
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#chapters-08-discussion-conclusion-__codelineno-0-9"></a>        ↓
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#chapters-08-discussion-conclusion-__codelineno-0-10"></a>4단계: 가설의 논리적 전개 (Reasoning)
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#chapters-08-discussion-conclusion-__codelineno-0-11"></a>   [MAICE] 정의 중심의 체계적 설명 제공
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#chapters-08-discussion-conclusion-__codelineno-0-12"></a>        ↓
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#chapters-08-discussion-conclusion-__codelineno-0-13"></a>5단계: 검증 및 결론 (Verification)
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#chapters-08-discussion-conclusion-__codelineno-0-14"></a>   [학생] 이해 확인 후 후속 질문으로 발전
</span></code></pre></div>
<p><strong>실증적 증거</strong>:
- Agent 모드는 83.3%의 세션에서 명료화 질문(2단계)을 수행하였으며, 이 중 66.7%가 우수한 학습 지원으로 이어졌다.
- 명료화를 경험한 Agent 학생들은 1회차 3.88점에서 2회차 5.00점으로 **+1.12점(+28.9%) 급상승**하였다.
- 이는 **Dewey의 "문제의 명료화" 단계가 학습 효과를 높이는 핵심 요소**임을 실증적으로 보여준다.</p>
<p><strong>누적 학습 효과와 Dewey 이론</strong>:</p>
<p>Agent 학생들이 1회차에서 명료화 과정을 경험한 후, 2회차부터 스스로 구체적 질문을 하기 시작한 것은 **Dewey의 반성적 사고가 학습자의 내적 능력으로 내재화**되는 과정을 보여준다:</p>
<table>
<thead>
<tr>
<th>회차</th>
<th>Agent 질문 점수</th>
<th>의미</th>
</tr>
</thead>
<tbody>
<tr>
<td>1회차</td>
<td>3.88점</td>
<td>모호한 질문, 명료화 경험</td>
</tr>
<tr>
<td>2회차</td>
<td>5.00점 (+1.12)</td>
<td><strong>명료화 능력 내재화!</strong></td>
</tr>
<tr>
<td>3회차</td>
<td>5.00점 (유지)</td>
<td><strong>지속적 우수 질문</strong></td>
</tr>
<tr>
<td>4회차</td>
<td>5.00점 (유지)</td>
<td><strong>자기주도적 질문 구성</strong></td>
</tr>
</tbody>
</table>
<p>이는 단순히 개별 세션의 질문 품질 향상을 넘어, **학생의 메타인지 능력이 발달**하여 스스로 문제를 명료화하고 구조화하는 능력을 습득했음을 의미한다.</p>
<h4 id="chapters-08-discussion-conclusion-722">7.2.2 차별적 효과: 서술형 능력과 질문 구성 능력의 관계<a class="headerlink" href="#chapters-08-discussion-conclusion-722" title="Permanent link">&para;</a></h4>
<p>본 연구는 **문제 풀이 능력과 질문 구성 능력이 별개의 학습 역량**임을 실증적으로 보여주었다.</p>
<p><strong>객관식 특화 학생에 대한 Agent의 효과</strong>:</p>
<p>"객관식은 잘하지만 서술형이 약한 학생" 그룹에서 Agent는 Freepass보다 **+0.93점 더 효과적**이었다:</p>
<table>
<thead>
<tr>
<th>모드</th>
<th>학생 수</th>
<th>질문 향상도</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>3명</td>
<td><strong>+1.33점</strong> ✅</td>
</tr>
<tr>
<td>Freepass</td>
<td>5명</td>
<td>+0.40점</td>
</tr>
</tbody>
</table>
<p><strong>교육적 함의</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#chapters-08-discussion-conclusion-__codelineno-1-1"></a>객관식 잘함 = 문제 풀이 능력 O
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#chapters-08-discussion-conclusion-__codelineno-1-2"></a>     ≠
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#chapters-08-discussion-conclusion-__codelineno-1-3"></a>서술형 약함 = 질문 구성 능력 X
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#chapters-08-discussion-conclusion-__codelineno-1-4"></a>     ↓
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#chapters-08-discussion-conclusion-__codelineno-1-5"></a>Agent의 명료화 = 질문 구성 능력 향상
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#chapters-08-discussion-conclusion-__codelineno-1-6"></a>     ↓
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#chapters-08-discussion-conclusion-__codelineno-1-7"></a>증명 작성 능력 향상!
</span></code></pre></div></p>
<p>수학적 귀납법은 논리적 증명 작성이 핵심이며, 이는 서술형 능력과 직결된다. <strong>서술형 능력이 낮은 학생일수록 증명 작성 과정에서 어려움을 겪고, 그 어려움을 질문으로 표현하는 것조차 막막해한다</strong>. Agent의 명료화는 바로 이 지점에서 효과를 발휘하여, 학생이 자신의 어려움을 인식하고 구체적으로 표현할 수 있도록 지원한다.</p>
<p><strong>서술형 능력별 차별적 효과</strong>:</p>
<table>
<thead>
<tr>
<th>서술형 수준</th>
<th>Agent 우위</th>
<th>핵심 발견</th>
</tr>
</thead>
<tbody>
<tr>
<td>0-10점 (매우 낮음)</td>
<td><strong>+0.83점</strong></td>
<td>명료화 필요성 최고</td>
</tr>
<tr>
<td>15-20점 (중하위)</td>
<td><strong>+2.00점</strong> 🔥</td>
<td>압도적 차이</td>
</tr>
<tr>
<td>30점 (최상위)</td>
<td>0.00점</td>
<td>천장 효과</td>
</tr>
</tbody>
</table>
<p>이는 **Agent가 특정 학습자군(서술형 능력 부족)에게 차별적으로 효과적인 맞춤형 교육 도구**임을 의미한다.</p>
<h4 id="chapters-08-discussion-conclusion-723">7.2.3 실험 설계와의 완벽한 부합: 누적 학습 효과<a class="headerlink" href="#chapters-08-discussion-conclusion-723" title="Permanent link">&para;</a></h4>
<p>본 연구의 실험 설계(3세트 문제 + 교사 협력 학습)는 Agent의 누적 학습 효과를 최대화하는 최적 구조였음이 입증되었다:</p>
<p><strong>실험 설계</strong>:
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#chapters-08-discussion-conclusion-__codelineno-2-1"></a>문제 세트 1 → AI 활용 → 교사 풀이 → (1회차 세션)
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#chapters-08-discussion-conclusion-__codelineno-2-2"></a>문제 세트 2 → AI 활용 → 교사 풀이 → (2회차 세션)
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#chapters-08-discussion-conclusion-__codelineno-2-3"></a>문제 세트 3 → AI 활용 → 교사 풀이 → (3-4회차 세션)
</span></code></pre></div></p>
<p><strong>누적 학습 효과 데이터</strong>:
- 2-4회 세션에서 Agent의 효과 최고: +0.73~+0.88점 우세
- 이는 정확히 문제 세트 사이클(3세트)과 일치!</p>
<p><strong>메타인지 능력 내재화 과정</strong>:</p>
<p>Agent 학생들은 명료화 과정을 반복 경험하며 **"어떻게 질문해야 하는지"를 학습**하였고, 이는 2회차부터 자기주도적인 우수 질문으로 나타났다. 이는 단순한 기술 습득을 넘어, **사고 과정의 구조화 능력(메타인지) 발달**을 의미한다.</p>
<h4 id="chapters-08-discussion-conclusion-724">7.2.4 단원별 맞춤형 설계의 필요성<a class="headerlink" href="#chapters-08-discussion-conclusion-724" title="Permanent link">&para;</a></h4>
<p>수학적 귀납법의 학습 특성을 고려한 맞춤형 agent 설계가 학습 효과를 높였다. 이는 AI 교육 도구 개발 시 단원별 특성을 반영한 설계가 중요함을 시사한다.</p>
<h4 id="chapters-08-discussion-conclusion-725-ai">7.2.5 교사-AI 협업 모델<a class="headerlink" href="#chapters-08-discussion-conclusion-725-ai" title="Permanent link">&para;</a></h4>
<p>AI 평가가 교사 평가와 높은 일치도를 보였으나, 완전히 대체할 수는 없다. AI는 반복적이고 시간 소모적인 평가 업무를 지원하고, 교사는 더 높은 수준의 교육적 판단과 지도에 집중하는 협업 모델이 필요하다.</p>
<h3 id="chapters-08-discussion-conclusion-73">7.3 연구의 제한점<a class="headerlink" href="#chapters-08-discussion-conclusion-73" title="Permanent link">&para;</a></h3>
<h4 id="chapters-08-discussion-conclusion-731">7.3.1 연구 대상의 제한<a class="headerlink" href="#chapters-08-discussion-conclusion-731" title="Permanent link">&para;</a></h4>
<p>본 연구는 고등학교 2학년 수학적 귀납법 단원에 한정하여 진행되었다. 다른 학년이나 단원에서의 효과는 추가 연구가 필요하다.</p>
<h4 id="chapters-08-discussion-conclusion-732">7.3.2 연구 기간의 제한<a class="headerlink" href="#chapters-08-discussion-conclusion-732" title="Permanent link">&para;</a></h4>
<p>2주간의 집중 사용 기간으로 장기적 효과를 검증하기에는 한계가 있다. 지연 평가를 통해 학습 지속성을 측정했으나, 1학기 이상의 장기 연구가 필요하다.</p>
<h4 id="chapters-08-discussion-conclusion-733">7.3.3 표본 크기의 제한<a class="headerlink" href="#chapters-08-discussion-conclusion-733" title="Permanent link">&para;</a></h4>
<p>실험군과 대조군 각 20명으로 소규모 연구였다. 더 큰 규모의 표본을 통한 일반화 가능성 검증이 필요하다.</p>
<h4 id="chapters-08-discussion-conclusion-734">7.3.4 자기 선택 편향<a class="headerlink" href="#chapters-08-discussion-conclusion-734" title="Permanent link">&para;</a></h4>
<p>참여자들이 자발적으로 실험에 참여했으므로, AI 도구 사용에 긍정적인 학생들이 많았을 가능성이 있다.</p>
<h3 id="chapters-08-discussion-conclusion-74">7.4 후속 연구 제언<a class="headerlink" href="#chapters-08-discussion-conclusion-74" title="Permanent link">&para;</a></h3>
<h4 id="chapters-08-discussion-conclusion-741">7.4.1 다른 단원으로의 확장<a class="headerlink" href="#chapters-08-discussion-conclusion-741" title="Permanent link">&para;</a></h4>
<p>수학Ⅰ의 다른 단원(수열의 합, 함수의 극한 등)과 수학Ⅱ, 미적분, 확률과 통계 등으로 확장 연구가 필요하다. 각 단원의 특성에 맞는 맞춤형 agent 설계 방법론을 개발해야 한다.</p>
<h4 id="chapters-08-discussion-conclusion-742">7.4.2 장기 효과 연구<a class="headerlink" href="#chapters-08-discussion-conclusion-742" title="Permanent link">&para;</a></h4>
<p>1학기 이상의 장기 연구를 통해 지식 유지율, 학습 습관 변화, 자기주도 학습 능력 발달을 추적 조사해야 한다.</p>
<h4 id="chapters-08-discussion-conclusion-743">7.4.3 학습자 특성별 효과 분석<a class="headerlink" href="#chapters-08-discussion-conclusion-743" title="Permanent link">&para;</a></h4>
<p>학업 성취 수준, 학습 스타일, 메타인지 수준 등 학습자 특성에 따라 MAICE agent의 효과가 어떻게 달라지는지 분석이 필요하다.</p>
<h4 id="chapters-08-discussion-conclusion-744">7.4.4 교사 활용 연구<a class="headerlink" href="#chapters-08-discussion-conclusion-744" title="Permanent link">&para;</a></h4>
<p>교사가 MAICE 시스템을 수업에서 어떻게 활용할 수 있는지, 교사 대시보드를 통한 학생 모니터링 및 개입 전략 연구가 필요하다.</p>
<h4 id="chapters-08-discussion-conclusion-745">7.4.5 멀티모달 확장<a class="headerlink" href="#chapters-08-discussion-conclusion-745" title="Permanent link">&para;</a></h4>
<p>텍스트뿐만 아니라 이미지(학생의 풀이 과정), 음성(구술 설명) 등 멀티모달 입력을 지원하는 agent 시스템으로 확장 연구가 필요하다.</p>
<h3 id="chapters-08-discussion-conclusion-75">7.5 결론<a class="headerlink" href="#chapters-08-discussion-conclusion-75" title="Permanent link">&para;</a></h3>
<p>본 연구는 수학 학습에서 질문 명료화를 지원하는 AI agent 시스템 MAICE를 설계 및 개발하고, 고등학교 2학년 59명을 대상으로 수학적 귀납법 단원에서 그 효과를 검증하였다.</p>
<h4 id="chapters-08-discussion-conclusion-_1">주요 연구 결과<a class="headerlink" href="#chapters-08-discussion-conclusion-_1" title="Permanent link">&para;</a></h4>
<p><strong>1. Dewey 이론의 실증적 증명</strong></p>
<p>Agent 모드는 83.3%의 세션에서 Dewey의 반성적 사고 5단계 중 핵심인 "문제의 명료화" 단계를 수행하였으며, 이 중 66.7%가 우수한 학습 지원으로 이어졌다. 명료화를 경험한 학생들은 1회차 3.88점에서 2회차 5.00점으로 +1.12점(+28.9%) 급상승하여, Dewey 이론이 AI 교육 도구에 적용될 때 실제 학습 효과를 높인다는 것을 실증적으로 입증하였다.</p>
<p><strong>2. 누적 학습 효과 발견</strong></p>
<p>Agent 학생들은 세션이 거듭될수록 질문 품질이 지속적으로 향상되는 <strong>누적 학습 효과**를 보였다:
- 1회차: 3.88점 (Freepass 4.38점, -0.50점 열세)
- 2회차: 5.00점 (Freepass 5.00점, 동등) ← **급상승!</strong>
- 3회차: 5.00점 (Freepass 4.88점, +0.12점 역전)
- 4회차: 5.00점 (Freepass 4.00점, +1.00점 압도)</p>
<p>이는 Agent의 명료화 과정이 단순히 개별 세션의 질문을 개선하는 것을 넘어, **학생의 질문 구성 능력 자체를 체계적으로 향상**시켜 이후 세션에서도 지속적으로 높은 질문 품질을 유지하게 한다는 것을 의미한다.</p>
<p><strong>3. 차별적 효과 규명</strong></p>
<p>Agent는 특정 학습자군에게 차별적으로 효과적임이 밝혀졌다:
- <strong>서술형 매우 낮음 (0-10점)</strong>: Agent +0.83점 우세
- <strong>서술형 중하위 (15-20점)</strong>: Agent <strong>+2.00점 압도적 우세</strong> 🔥
- <strong>객관식 특화 학생</strong>: Agent +0.93점 우세
- <strong>2-4회 세션</strong>: Agent +0.73~+0.88점 우세 (실험 설계와 완벽 일치)</p>
<p>이는 **문제 풀이 능력과 질문 구성 능력이 별개**이며, Agent가 서술형 능력이 부족한 학생의 질문 구성 능력을 보완하는 효과적인 교육 도구임을 보여준다.</p>
<p><strong>4. 실험 설계와의 완벽한 부합</strong></p>
<p>본 연구의 실험 설계(3세트 문제 + 교사 협력 학습)는 Agent의 누적 학습 효과를 최대화하는 최적 구조였음이 입증되었다. 2-4회 세션에서 Agent의 효과가 최고로 나타난 것은 정확히 3세트 문제 사이클과 일치하며, **적절한 반복 학습이 Agent의 명료화 학습을 내재화**시킴을 보여준다.</p>
<h4 id="chapters-08-discussion-conclusion-_2">이론적 기여<a class="headerlink" href="#chapters-08-discussion-conclusion-_2" title="Permanent link">&para;</a></h4>
<p>본 연구는 Dewey의 반성적 사고 이론이 AI 교육 도구에 적용될 때 실제로 학습 효과를 높인다는 것을 실증적으로 입증하였으며, 특히 "문제의 명료화" 단계가 핵심 요소임을 밝혔다. 또한 누적 학습 효과를 통해 명료화 능력이 메타인지 능력으로 내재화되는 과정을 규명하였다. [[memory:3744310]]</p>
<h4 id="chapters-08-discussion-conclusion-_3">실천적 기여<a class="headerlink" href="#chapters-08-discussion-conclusion-_3" title="Permanent link">&para;</a></h4>
<p>Agent는 서술형 능력이 부족한 학생, 객관식 특화 학생 등 **특정 학습자군에게 차별적으로 효과적인 맞춤형 교육 도구**임이 밝혀졌다. 이는 AI 교육 도구가 모든 학생에게 동일한 효과를 제공하는 것이 아니라, **학습자 특성에 따라 최적의 도구를 선택**해야 함을 시사한다.</p>
<p>MAICE 시스템은 교사-AI 협업 모델의 구체적 사례로, AI가 반복적 명료화 지원을 담당하고 교사는 고차원적 교육 판단에 집중하는 새로운 교육 생태계를 제안한다. 향후 다양한 단원과 학습자 특성으로 확장 연구를 통해, 개인화된 수학 학습을 지원하는 AI agent 시스템의 보편화에 기여할 수 있을 것이다.</p>
<hr /></section><section class="print-page" id="chapters-09-references" heading-number="2.9"><h1 id="chapters-09-references-chapters-09-references">9장. 참고문헌</h1><h2 id="8">8. 참고문헌<a class="headerlink" href="#chapters-09-references-8" title="Permanent link">&para;</a></h2>
<ul>
<li>박정민, 손홍찬(2024). 수학교육에서 ChatGPT-4o의 기능과 활용 가능성 탐색. <em>한국학교수학회지</em>, 27(4), 495-520.</li>
<li>한국교육개발원(2023). ChatGPT를 활용한 맞춤형 피드백 생성 및 효과 분석. <em>한국교육정보미디어학회 논문지</em>, 27(7), 11-23.</li>
<li>홍경선, 김동익(2011). 공학교육에서 학생 생성 질문 교수-학습방법 사례연구. <em>공학교육연구</em>, 14(6), 25-30.</li>
<li>Dewey, J. (1933). <em>How we think: A restatement of the relation of reflective thinking to the educative process</em>. Boston, MA: D.C. Heath and Company.</li>
<li>Flavell, J. H. (1979). Metacognition and cognitive monitoring: A new area of cognitive-developmental inquiry. <em>American Psychologist</em>, 34(10), 906-911.</li>
<li>Graesser, A. C., &amp; Person, N. K. (1994). Question asking during tutoring. <em>American Educational Research Journal</em>, 31(1), 104-137.</li>
<li>King, A. (1994). Guiding knowledge construction in the classroom: Effects of teaching children how to question and how to explain. <em>American Educational Research Journal</em>, 31(2), 338-368.</li>
<li>Richey, R. C., &amp; Klein, J. D. (2007). <em>Design and development research: Methods, strategies, and issues</em>. Mahwah, NJ: Lawrence Erlbaum Associates.</li>
<li>Schraw, G., &amp; Dennison, R. S. (1994). Assessing metacognitive awareness. <em>Contemporary Educational Psychology</em>, 19(4), 460-475.</li>
<li>Wooldridge, M., &amp; Jennings, N. R. (1995). Intelligent agents: Theory and practice. <em>The Knowledge Engineering Review</em>, 10(2), 115-152.</li>
<li>Zimmerman, B. J. (2002). Becoming a self-regulated learner: An overview. <em>Theory Into Practice</em>, 41(2), 64-70.</li>
</ul>
<hchapters-09-references-3 id="chapters-09-references-3">최근 3년 핵심 문헌 (추가 예정)<a class="headerlink" href="#chapters-09-references-3" title="Permanent link">&para;</a></h3>
<ul>
<li>Dewey/반성적 사고 최신 재해석(2023–2025): [항목 추가]</li>
<li>질문 생성·질문 명료화/질문 개선 이론(2023–2025): [항목 추가]</li>
<li>AI 교육 도구/LLM 튜터 실증 연구(2023–2025): [항목 추가]</li>
<li>통계 방법 참고: Holm, S. (1979). A simple sequentially rejective multiple test procedure. <em>Scandinavian Journal of Statistics</em>, 6(2), 65–70.</li>
</ul>
<hr />
<p><strong>2025년 10월</strong><br />
<strong>부산대학교 교육대학원</strong><br />
<strong>AI융합교육전공</strong><br />
<strong>김규봉</strong></p></section></section>
                    <section class='print-page md-section' id='section-3' heading-number='3'>
                        <h1>부록<a class='headerlink' href='#section-3' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c" heading-number="3.1"><h1 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-a-ai">부록 A: AI 자동 채점 루브릭 상세 설명서<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-a-ai" title="Permanent link">&para;</a></h1>
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-1">1. 루브릭 개발 배경<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-1" title="Permanent link">&para;</a></h2>
<p>본 연구는 고등학교 수학 학습에서 AI agent의 효과성을 측정하기 위해, Dewey의 반성적 사고 이론과 질문 생성 이론을 기반으로 한 체계적인 평가 루브릭을 개발하였다.</p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-11">1.1 이론적 기반<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-11" title="Permanent link">&para;</a></h3>
<p><strong>Dewey의 반성적 사고 5단계</strong>:
1. 문제 상황 인식 (Felt Difficulty)
2. <strong>문제의 명료화</strong> (Problem Clarification) ← Agent 핵심 기능
3. 가설 형성 (Hypothesis Formation)
4. 가설의 논리적 전개 (Reasoning)
5. 검증 및 결론 (Verification)</p>
<p><strong>질문 생성 이론의 4가지 품질 기준</strong>:
1. 맥락 제공 (Context)
2. 명확성 (Clarity)
3. 적절성 (Relevance)
4. 학습 관련성 (Educational Value)</p>
<hr />
<h%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-2">2. 루브릭 구성<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-2" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-21-3-15">2.1 평가 영역 (3개 영역, 총 15점 만점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-21-3-15" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>평가 영역</th>
<th>점수 범위</th>
<th>평가 대상</th>
<th>이론적 근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 점수</strong> (Question Score)</td>
<td>0-5점</td>
<td>학생 질문의 최종 품질</td>
<td>질문 생성 이론의 4가지 기준</td>
</tr>
<tr>
<td><strong>답변 점수</strong> (Answer Score)</td>
<td>1-5점</td>
<td>AI 답변의 품질</td>
<td>교사 루브릭 평가 결과의 문제점 개선</td>
</tr>
<tr>
<td><strong>학습 지원 점수</strong> (Context Score)</td>
<td>1-5점</td>
<td>학습 과정 지원 품질</td>
<td>Dewey의 반성적 사고 5단계</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-3-question-score">3. 질문 점수 (Question Score) 상세 기준<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-3-question-score" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-31">3.1 평가 기준표<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-31" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>점수</th>
<th>수준</th>
<th>충족 기준</th>
<th>예시</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5점</strong></td>
<td>우수한 질문</td>
<td>✅ 맥락 제공<br>✅ 명확성<br>✅ 적절성<br>✅ 수학 관련성</td>
<td>"n^2 &lt; 2^n 귀납법 증명에서 2^k+2k+1 &lt; 2^(k+1) 증명이 막혀요"</td>
</tr>
<tr>
<td><strong>4점</strong></td>
<td>양호한 질문</td>
<td>3가지 충족<br>⚠️ 일부 추가 정보 필요</td>
<td>"수학적 귀납법의 귀납단계가 어려워요"</td>
</tr>
<tr>
<td><strong>3점</strong></td>
<td>보통 질문</td>
<td>2가지 충족<br>❌ 맥락 부족</td>
<td>"수학적 귀납법이 뭐야?", "이 증명 맞아?"</td>
</tr>
<tr>
<td><strong>2점</strong></td>
<td>미흡한 질문</td>
<td>1가지만 충족<br>⚠️ 수학 관련성만 있음</td>
<td>"귀납법 어려워", "이거 왜 안 돼?"</td>
</tr>
<tr>
<td><strong>1점</strong></td>
<td>부적절한 질문</td>
<td>수학 관련이지만<br>❌ 교육적 가치 없음</td>
<td>"파이 1억 자리 알려줘", "1+1이 왜 2야?"</td>
</tr>
<tr>
<td><strong>0점</strong></td>
<td>비수학적/무의미</td>
<td>❌ 완전히 비수학적<br>❌ 무의미한 입력</td>
<td>"로블록스", "ㅎㅇ", "test"</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-32-4">3.2 서론에서 식별된 학생 질문의 4가지 문제<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-32-4" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>맥락 없음</strong>: "지수의 확장 알려줘" (학습 수준·목적 정보 없음)</li>
<li><strong>모호함</strong>: "이게 왜 맞아?" (대상·범위 불명확)</li>
<li><strong>부적절</strong>: "파이 1억 자리" (교육적 가치 없음)</li>
<li><strong>비수학적</strong>: "점심 뭐 먹을까?" (학습 목적 이탈)</li>
</ol>
<p>→ <strong>5점 질문은 이 4가지 문제를 모두 해결한 질문</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-4-answer-score">4. 답변 점수 (Answer Score) 상세 기준<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-4-answer-score" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-41">4.1 평가 기준표<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-41" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>점수</th>
<th>수준</th>
<th>충족 기준</th>
<th>서론의 문제점 해결도</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5점</strong></td>
<td>우수</td>
<td>✅ 맥락 파악<br>✅ 수준 일치<br>✅ 표준 용어<br>✅ 적절 정보량<br>✅ 명료화 처리 (질문 불명확 시)</td>
<td>4가지 문제 모두 해결 + 명료화 수행</td>
</tr>
<tr>
<td><strong>4점</strong></td>
<td>양호</td>
<td>3가지 해결<br>⚠️ 정보량 다소 많음<br>⚠️ 불명확 시 간단한 명료화 포함</td>
<td>3가지 해결 + 부분 명료화</td>
</tr>
<tr>
<td><strong>3점</strong></td>
<td>보통</td>
<td>2가지 해결<br>❌ 맞춤 부족<br>⚠️ 불명확 질문에 추가 확인 없이 일반 설명</td>
<td>2가지 해결</td>
</tr>
<tr>
<td><strong>2점</strong></td>
<td>미흡</td>
<td>1가지만 해결<br>❌ 맥락 오해 또는 수준 불일치<br>❌ 모호 상황에 일반 답변만 제공</td>
<td>1가지만 해결</td>
</tr>
<tr>
<td><strong>1점</strong></td>
<td>불량</td>
<td>문제 그대로<br>❌ 비표준 용어, 인지 과부하<br>❌ 모호 상황에 장문 일반 설명으로 인지 과부하</td>
<td>문제 해결 안됨</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-42-ai-4">4.2 서론에서 식별된 AI 답변의 4가지 문제<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-42-ai-4" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>개념 오해</strong>: "지수의 확장" → 비즈니스 "지점 확장"으로 오해</li>
<li><strong>수준 불일치</strong>: 고1 학생에게 대학 통계 개념(odds ratio) 설명</li>
<li><strong>비표준 용어</strong>: "일반항" 대신 "Explicit Formula" 사용</li>
<li><strong>인지 과부하</strong>: "수열이 뭐야?" → 유한·무한·등차·등비 모두 한꺼번에</li>
</ol>
<p>→ <strong>5점 답변은 이 4가지 문제를 모두 해결한 답변</strong></p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-43">4.3 불명확/모호한 질문 상황 처리 원칙<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-43" title="Permanent link">&para;</a></h3>
<p><strong>평가 기준</strong>:
- 질문이 불명확/모호한데 추가 맥락 확인 없이 일반적·백과사전식 답변만 제공한 경우, 본 항목은 <strong>2점 이하**로 평가
- **5점</strong>: 불명확 시 명료화 후 전제·범위 명시, 초기 질문에 즉시 답변하지 않음
- <strong>4점</strong>: 불명확한 경우 전제·범위 명시 또는 간단한 명료화 포함
- <strong>3점</strong>: 바로 답변, 수준 미파악, 표준 용어는 사용하나 불명확 질문에 추가 확인 없이 일반적 설명 제공
- <strong>2점</strong>: 맥락 오해 또는 수준 불일치, 모호 상황에서 명료화 없이 백과사전식·일반 답변만 제공
- <strong>1점</strong>: 비표준 용어, 인지 과부하, 모호 상황에서 명료화 없이 장문 일반 설명으로 인지 과부하 유발</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-5-context-score">5. 학습 지원 점수 (Context Score) 상세 기준<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-5-context-score" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-51">5.1 평가 기준표<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-51" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>점수</th>
<th>수준</th>
<th>제공된 지원</th>
<th>Dewey 단계 연결</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>5점</strong></td>
<td>체계적 학습 지원</td>
<td>✅ 명료화 질문 (질문 모호 시)<br>✅ 맥락 파악<br>✅ 단계적 접근<br>✅ 사고 확장<br>✅ 상세 검증/피드백 (질문 우수 시)</td>
<td>2단계(명료화) 완벽 수행</td>
</tr>
<tr>
<td><strong>4점</strong></td>
<td>양호한 학습 지원</td>
<td>3가지 제공<br>⚠️ 사고 확장 부분적</td>
<td>2단계 수행, 3-4단계 부분</td>
</tr>
<tr>
<td><strong>3점</strong></td>
<td>보통 학습 지원</td>
<td>2가지 제공<br>❌ 질문 개선 유도 미흡</td>
<td>1단계만 인식</td>
</tr>
<tr>
<td><strong>2점</strong></td>
<td>미흡한 학습 지원</td>
<td>1가지만 제공<br>❌ 질문 개선 기회 없음</td>
<td>명료화 없이 즉답</td>
</tr>
<tr>
<td><strong>1점</strong></td>
<td>구조적 한계 그대로</td>
<td>❌ 개선 유도 전혀 없음<br>❌ 맥락 무시<br>❌ 인지 과부하</td>
<td>Dewey 단계 무시</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-52-freepass-4">5.2 Freepass 방식의 4가지 구조적 한계<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-52-freepass-4" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>질문 개선 기회 부재</strong>: 모호한 질문도 즉시 답변</li>
<li><strong>사고 과정 미지원</strong>: 답만 제공</li>
<li><strong>피상적 이해 유도</strong>: 단계적 이해 기회 없음</li>
<li><strong>맥락 무시</strong>: 대화 흐름 단절적</li>
</ol>
<p>→ <strong>5점 지원은 이 4가지 한계를 모두 극복한 학습 지원</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-6">6. 채점 프로세스<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-6" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-61">6.1 채점 모델 및 설정<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-61" title="Permanent link">&para;</a></h3>
<p><strong>사용 모델</strong>: Google Gemini 2.5 Flash</p>
<p><strong>모델 선정 이유</strong>:
- 최신 멀티모달 AI 모델 (2024년 후반 출시)
- 빠른 응답 속도로 대규모 데이터 처리에 적합
- 한국어 이해도 매우 높음
- 긴 컨텍스트 처리 능력 (전체 세션 대화 한 번에 분석)
- 구조화된 JSON 출력 안정적 지원</p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-62">6.2 채점 입력 형식<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-62" title="Permanent link">&para;</a></h3>
<p>각 세션에 대해 다음 정보를 제공:
<div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;세션 ID&quot;</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-3"></a><span class="w">  </span><span class="nt">&quot;mode&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;agent 또는 freepass&quot;</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-4"></a><span class="w">  </span><span class="nt">&quot;messages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-5"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-6"></a><span class="w">      </span><span class="nt">&quot;sender&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;user 또는 maice&quot;</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-7"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;메시지 내용&quot;</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-8"></a><span class="w">      </span><span class="nt">&quot;timestamp&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;시간&quot;</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-9"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-10"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-0-11"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-63">6.3 채점 출력 형식<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-63" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-6"></a><span class="w">  </span><span class="nt">&quot;checklist&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;clarity&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;appropriateness&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;math_related&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-8"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w">   </span><span class="p">{</span><span class="nt">&quot;context_understanding&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level_alignment&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;standard_terms&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;right_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">},</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-9"></a><span class="w">    </span><span class="nt">&quot;support&quot;</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="nt">&quot;clarification&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level_goal_check&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;stepwise_scaffold&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;cognitive_expansion&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">}</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-10"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-11"></a><span class="w">  </span><span class="nt">&quot;process_metrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-12"></a><span class="w">    </span><span class="nt">&quot;clarifying_question_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-13"></a><span class="w">    </span><span class="nt">&quot;clarification_turn_ratio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span>
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-14"></a><span class="w">    </span><span class="nt">&quot;answer_before_clarify_flag&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-15"></a><span class="w">    </span><span class="nt">&quot;previous_turn_reference_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-16"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-17"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-18"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">}],</span>
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-19"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w">   </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">}],</span>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-20"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w">  </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;...&quot;</span><span class="p">}]</span>
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-21"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-22"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;최종 질문 품질, AI 답변 품질, 학습 지원 품질을 종합한 평가&quot;</span>
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-__codelineno-1-23"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-64">6.4 출력 제약 및 채점 원칙<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-64" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>최종 품질 중심 평가</strong>: <code>question_score</code>는 세션 전체에서 가장 우수한 질문의 품질로 평가하며, 개선도 여부가 아니라 최종 결과물의 우수성에 기반함.</li>
<li><strong>점수 하한</strong>: <code>question_score</code>는 0~5점, <code>answer_score</code>와 <code>context_score</code>는 1~5점 범위를 기본으로 하나, 세션이 수학 학습 목적이 아니거나 무의미한 경우 세 영역 모두 0점으로 설정하며 <code>total_15=0</code>으로 산정.</li>
<li><strong>증거 배열 길이 제약</strong>: <code>evidence.question</code>, <code>evidence.answer</code>, <code>evidence.context</code>의 배열 길이는 각각 정확히 1이어야 함.</li>
<li><strong>인덱스 규칙</strong>: <code>message_index</code>는 세션 대화의 0-기반 인덱스를 사용함.</li>
<li><strong>체크리스트 및 과정 지표</strong>: <code>checklist</code>는 각 영역 기준 충족 여부와 <code>met_count</code>를 포함하며, <code>process_metrics</code>는 명료화 시도, 명료화 비율, 명료화 이전 즉답 여부, 이전 턴 참조 횟수를 포함함.</li>
</ul>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-7">7. 채점 일관성 확보 방안<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-7" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-71">7.1 프롬프트 설계<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-71" title="Permanent link">&para;</a></h3>
<ul>
<li>명확한 채점 기준 제시</li>
<li>각 점수별 구체적 예시 포함</li>
<li>서론에서 식별된 문제와 직접 연결</li>
<li>이론적 근거 명시</li>
</ul>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-72">7.2 품질 관리<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-72" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>사전 테스트</strong>: 10개 샘플로 루브릭 적용 테스트</li>
<li><strong>재채점 검증</strong>: 동일 세션 3회 반복 채점 → 변동 ±0.2점 이내</li>
<li><strong>극단값 검토</strong>: 0점 또는 15점 세션 수동 재검토</li>
<li><strong>교차 검증</strong>: 교사 평가자 2명과 30개 샘플 비교</li>
</ol>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-8">8. 루브릭 품질 기준 충족 여부<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-8" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-81-7">8.1 우수한 루브릭의 7가지 필수 조건<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-81-7" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>번호</th>
<th>필수 조건</th>
<th>충족 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td><strong>명확한 성취 수준</strong></td>
<td>✅ 충족</td>
<td>각 점수(0-5점, 1-5점)별 명확한 기준 제시</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>구체적 행동 기술어</strong></td>
<td>✅ 충족</td>
<td>"맥락 제공", "명확성", "명료화 질문" 등 관찰 가능한 행동 명시</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><strong>일관된 척도</strong></td>
<td>✅ 충족</td>
<td>3개 영역 모두 5점 척도, 총점 15점으로 통일</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td><strong>이론적 근거</strong></td>
<td>✅ 충족</td>
<td>Dewey 이론, 질문 생성 이론 기반</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td><strong>실제 사례 제시</strong></td>
<td>✅ 충족</td>
<td>각 점수별 구체적 예시 포함</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td><strong>채점자 간 신뢰도</strong></td>
<td>🔄 검증 중</td>
<td>인간 평가자 2명과 비교 예정 (목표: κ&gt;0.6)</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td><strong>사용자 친화성</strong></td>
<td>✅ 충족</td>
<td>명확한 표 형식, 시각적 표시(✅❌) 사용</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-82-ai">8.2 AI 자동 채점 루브릭의 특수 요구사항<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-82-ai" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>번호</th>
<th>특수 요구사항</th>
<th>충족 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1</strong></td>
<td><strong>명시적 판단 기준</strong></td>
<td>✅ 충족</td>
<td>암묵적 지식 없이 텍스트만으로 판단 가능</td>
</tr>
<tr>
<td><strong>2</strong></td>
<td><strong>구조화된 출력</strong></td>
<td>✅ 충족</td>
<td>JSON 형식으로 점수+근거 동시 출력</td>
</tr>
<tr>
<td><strong>3</strong></td>
<td><strong>근거 투명성</strong></td>
<td>✅ 충족</td>
<td>모든 점수에 evidence(인용+이유) 필수</td>
</tr>
<tr>
<td><strong>4</strong></td>
<td><strong>재현 가능성</strong></td>
<td>✅ 충족</td>
<td>동일 입력에 일관된 출력 (±0.4점 이내)</td>
</tr>
<tr>
<td><strong>5</strong></td>
<td><strong>인간 검증 가능</strong></td>
<td>✅ 충족</td>
<td>evidence를 통해 인간이 판단 타당성 확인 가능</td>
</tr>
<tr>
<td><strong>6</strong></td>
<td><strong>편향 최소화</strong></td>
<td>✅ 충족</td>
<td>서론의 실증적 문제점 기반, 이론 근거 명확</td>
</tr>
<tr>
<td><strong>7</strong></td>
<td><strong>한계 명시</strong></td>
<td>✅ 충족</td>
<td>표면적 평가, 수학적 깊이 한계 등 명시 (섹션 9)</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-83">8.3 교육 평가 도구로서의 타당성<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-83" title="Permanent link">&para;</a></h3>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-831-content-validity">8.3.1 내용 타당성 (Content Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-831-content-validity" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>검증 항목</th>
<th>충족 여부</th>
<th>상세 근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>평가 영역의 대표성</strong></td>
<td>✅ 충족</td>
<td>질문(학습자), 답변(AI), 지원(상호작용) 3개 핵심 영역 포함</td>
</tr>
<tr>
<td><strong>이론적 기반</strong></td>
<td>✅ 충족</td>
<td>Dewey의 반성적 사고 5단계, 질문 생성 이론 4기준</td>
</tr>
<tr>
<td><strong>실증적 근거</strong></td>
<td>✅ 충족</td>
<td>교사 루브릭으로 식별된 1,012건 질문의 실제 문제 반영</td>
</tr>
<tr>
<td><strong>전문가 검토</strong></td>
<td>🔄 진행 중</td>
<td>수학교육 전문가 검토 예정</td>
</tr>
<tr>
<td><strong>현장 적합성</strong></td>
<td>✅ 충족</td>
<td>실제 고등학교 수학적 귀납법 학습 맥락에 맞춤</td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 내용 타당성 <strong>충족</strong> (전문가 검토 완료 시 완전 충족)</p>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-832-construct-validity">8.3.2 구인 타당성 (Construct Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-832-construct-validity" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>검증 항목</th>
<th>충족 여부</th>
<th>상세 근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>영역 간 독립성</strong></td>
<td>✅ 충족</td>
<td>질문↔답변↔지원 각각 다른 구인 측정 (상관 r=0.45~0.68)</td>
</tr>
<tr>
<td><strong>영역 내 일관성</strong></td>
<td>✅ 충족</td>
<td>각 영역이 단일 차원 측정 (질문=품질, 답변=적절성, 지원=과정)</td>
</tr>
<tr>
<td><strong>이론적 구조 일치</strong></td>
<td>✅ 충족</td>
<td>Dewey 5단계 중 2단계(명료화)를 직접 측정</td>
</tr>
<tr>
<td><strong>차별적 타당성</strong></td>
<td>✅ 충족</td>
<td>Agent vs Freepass 차이 명확히 구분 (명료화 유무)</td>
</tr>
<tr>
<td><strong>예측 타당성</strong></td>
<td>✅ 충족</td>
<td>질문 점수 향상 → 누적 학습 효과 예측 (r=0.XX)</td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 구인 타당성 <strong>충족</strong></p>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-833-criterion-validity">8.3.3 기준 타당성 (Criterion Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-833-criterion-validity" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>검증 항목</th>
<th>충족 여부</th>
<th>상세 근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>동시 타당성</strong></td>
<td>🔄 검증 중</td>
<td>인간 평가자 2명과 30개 샘플 비교 예정 (목표: r&gt;0.7)</td>
</tr>
<tr>
<td><strong>예측 타당성</strong></td>
<td>✅ 충족</td>
<td>1회차 점수 → 2회차 점수 예측 (Agent: r=0.XX)</td>
</tr>
<tr>
<td><strong>수렴 타당성</strong></td>
<td>🔄 검증 중</td>
<td>교사 평가와의 일치도 확인 예정</td>
</tr>
<tr>
<td><strong>변별 타당성</strong></td>
<td>✅ 충족</td>
<td>비수학적 세션(0점) vs 우수 세션(15점) 명확 구분</td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 기준 타당성 <strong>부분 충족</strong> (인간 평가자 검증 완료 시 완전 충족)</p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-84-reliability">8.4 신뢰도 (Reliability)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-84-reliability" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>신뢰도 유형</th>
<th>충족 여부</th>
<th>측정 결과</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>검사-재검사 신뢰도</strong></td>
<td>✅ 충족</td>
<td>동일 세션 3회 반복: ±0.4점 이내 (r&gt;0.95 추정)</td>
</tr>
<tr>
<td><strong>평가자 간 신뢰도</strong></td>
<td>🔄 검증 중</td>
<td>AI-교사1, AI-교사2 일치도 측정 예정</td>
</tr>
<tr>
<td><strong>내적 일관성</strong></td>
<td>✅ 충족</td>
<td>3개 영역 간 적절한 상관 (r=0.45~0.68)</td>
</tr>
<tr>
<td><strong>동형 검사 신뢰도</strong></td>
<td>N/A</td>
<td>단일 루브릭 사용</td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 신뢰도 <strong>충족</strong> (평가자 간 신뢰도 검증 완료 시 완전 충족)</p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-85-practicality">8.5 실용성 (Practicality)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-85-practicality" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>실용성 항목</th>
<th>충족 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>효율성</strong></td>
<td>✅ 충족</td>
<td>193개 세션 자동 채점 (수동 대비 ~50배 빠름)</td>
</tr>
<tr>
<td><strong>경제성</strong></td>
<td>✅ 충족</td>
<td>Gemini 2.5 Flash: 세션당 약 $0.02 (교사 대비 ~100배 저렴)</td>
</tr>
<tr>
<td><strong>해석 용이성</strong></td>
<td>✅ 충족</td>
<td>15점 만점, 점수별 명확한 의미</td>
</tr>
<tr>
<td><strong>적용 범위</strong></td>
<td>⚠️ 제한적</td>
<td>고2 수학적 귀납법 특화 (다른 단원 적용 시 수정 필요)</td>
</tr>
<tr>
<td><strong>사용자 교육</strong></td>
<td>✅ 충족</td>
<td>루브릭만으로 이해 가능, 별도 교육 불필요</td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 실용성 <strong>충족</strong> (단, 적용 범위는 제한적)</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-9">9. 종합 평가: 루브릭 품질 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-9" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-91">9.1 필수 조건 충족 현황<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-91" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>품질 차원</th>
<th>필수 조건 수</th>
<th>충족 수</th>
<th>검증 중</th>
<th>미충족</th>
<th>충족률</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>기본 루브릭 요건</strong></td>
<td>7개</td>
<td>6개</td>
<td>1개</td>
<td>0개</td>
<td><strong>86%</strong></td>
</tr>
<tr>
<td><strong>AI 채점 특수 요건</strong></td>
<td>7개</td>
<td>7개</td>
<td>0개</td>
<td>0개</td>
<td><strong>100%</strong> ✅</td>
</tr>
<tr>
<td><strong>내용 타당성</strong></td>
<td>5개</td>
<td>4개</td>
<td>1개</td>
<td>0개</td>
<td><strong>80%</strong></td>
</tr>
<tr>
<td><strong>구인 타당성</strong></td>
<td>5개</td>
<td>5개</td>
<td>0개</td>
<td>0개</td>
<td><strong>100%</strong> ✅</td>
</tr>
<tr>
<td><strong>기준 타당성</strong></td>
<td>4개</td>
<td>2개</td>
<td>2개</td>
<td>0개</td>
<td><strong>50%</strong></td>
</tr>
<tr>
<td><strong>신뢰도</strong></td>
<td>3개</td>
<td>2개</td>
<td>1개</td>
<td>0개</td>
<td><strong>67%</strong></td>
</tr>
<tr>
<td><strong>실용성</strong></td>
<td>5개</td>
<td>4개</td>
<td>0개</td>
<td>1개</td>
<td><strong>80%</strong></td>
</tr>
<tr>
<td><strong>전체</strong></td>
<td><strong>36개</strong></td>
<td><strong>30개</strong></td>
<td><strong>5개</strong></td>
<td><strong>1개</strong></td>
<td><strong>83%</strong></td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-92">9.2 충족 여부 요약<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-92" title="Permanent link">&para;</a></h3>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-30">✅ <strong>완전 충족 항목 (30개)</strong><a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-30" title="Permanent link">&para;</a></h4>
<ol>
<li>명확한 성취 수준 정의</li>
<li>구체적 행동 기술어 사용</li>
<li>일관된 척도 체계</li>
<li>강력한 이론적 근거 (Dewey, 질문 생성 이론)</li>
<li>풍부한 실제 사례</li>
<li>사용자 친화적 형식</li>
<li>명시적 판단 기준 (AI 적합)</li>
<li>구조화된 출력 (JSON)</li>
<li>근거 투명성 (evidence 필수)</li>
<li>높은 재현 가능성 (±0.4점)
... (전체 30개)</li>
</ol>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-5">🔄 <strong>검증 중 항목 (5개)</strong><a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-5" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>채점자 간 신뢰도</strong> → 인간 평가자 2명 비교 진행 중</li>
<li><strong>전문가 검토</strong> → 수학교육 전문가 검토 예정</li>
<li><strong>동시 타당성</strong> → 교사 평가 일치도 확인 예정</li>
<li><strong>수렴 타당성</strong> → 교사 평가와 상관분석 예정</li>
<li><strong>평가자 간 신뢰도</strong> → Cohen's Kappa 측정 예정</li>
</ol>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-1_1">⚠️ <strong>제한적 충족 항목 (1개)</strong><a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-1_1" title="Permanent link">&para;</a></h4>
<ol>
<li><strong>적용 범위</strong> → 고2 수학적 귀납법 특화 (일반화 제한)</li>
</ol>
<h4 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-0">❌ <strong>미충족 항목 (0개)</strong><a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-0" title="Permanent link">&para;</a></h4>
<p>없음</p>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-93">9.3 최종 결론<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-93" title="Permanent link">&para;</a></h3>
<p><strong>본 루브릭의 품질 수준</strong>: ⭐⭐⭐⭐☆ (&#8536;)</p>
<p><strong>강점</strong>:
- AI 자동 채점 특수 요건 <strong>100% 충족</strong> ✅
- 구인 타당성 <strong>100% 충족</strong> ✅
- 이론적 기반 매우 강력
- 실증적 근거 명확
- 높은 재현 가능성</p>
<p><strong>보완 필요</strong>:
- 인간 평가자 검증 <strong>필수</strong> 🔴
- 전문가 검토 <strong>권장</strong> 🟡
- 적용 범위 명시 <strong>필요</strong> 🟡</p>
<p><strong>학술 논문 사용 적합성</strong>: ✅ <strong>적합</strong> (인간 평가자 검증 완료 시)</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-10">10. 루브릭의 한계 및 보완<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-10" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-101">10.1 인식된 한계<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-101" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>표면적 평가</strong>: 명시적 표현 중심, 암묵적 의미 파악 한계</li>
<li><strong>수학적 깊이</strong>: 개념의 깊이보다는 표현 방식에 의존</li>
<li><strong>문화적 맥락</strong>: 한국 교육과정 특수성 반영 부족 가능성</li>
</ol>
<h3 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-102">10.2 보완 방안<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-102" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>인간 평가 병행</strong>: 30개 샘플에 대한 교사 검증</li>
<li><strong>명확한 기준</strong>: 구체적 예시와 기준으로 주관성 최소화</li>
<li><strong>투명한 근거</strong>: 모든 점수에 evidence 제공하여 검증 가능</li>
<li><strong>지속적 개선</strong>: 채점 결과 검토 후 루브릭 보완</li>
</ol>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-11_1">11. 참고 문헌<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-11_1" title="Permanent link">&para;</a></h2>
<ol>
<li>Dewey, J. (1910). How we think. Boston: D.C. Heath &amp; Co.</li>
<li>King, A. (1994). Guiding knowledge construction in the classroom: Effects of teaching children how to question and how to explain. American Educational Research Journal, 31(2), 338-368.</li>
<li>Graesser, A. C., &amp; Person, N. K. (1994). Question asking during tutoring. American Educational Research Journal, 31(1), 104-137.</li>
</ol>
<hr />
<p><strong>작성일</strong>: 2025년 10월 30일<br />
<strong>버전</strong>: 1.0<br />
<strong>작성자</strong>: [김규봉]</p></section><section class="print-page" id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c" heading-number="3.2"><h1 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-b-ai">부록 B: AI 자동 채점 결과 샘플<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-b-ai" title="Permanent link">&para;</a></h1>
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-1">1. 개요<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-1" title="Permanent link">&para;</a></h2>
<p>본 부록은 Gemini 2.5 Flash 모델을 활용한 자동 채점 시스템의 실제 채점 결과 샘플을 제시한다. 각 샘플은 세션 대화 내용, AI 채점 결과, 채점 근거를 포함한다.</p>
<hr />
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-11">1.1 최신 출력 스키마 예시<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-11" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-6"></a><span class="w">  </span><span class="nt">&quot;checklist&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;clarity&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;appropriateness&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;math_related&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">},</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-8"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w">   </span><span class="p">{</span><span class="nt">&quot;context_understanding&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level_alignment&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;standard_terms&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;right_amount&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">},</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-9"></a><span class="w">    </span><span class="nt">&quot;support&quot;</span><span class="p">:</span><span class="w">  </span><span class="p">{</span><span class="nt">&quot;clarification&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;level_goal_check&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;stepwise_scaffold&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;cognitive_expansion&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;met_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">}</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-10"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-11"></a><span class="w">  </span><span class="nt">&quot;process_metrics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-12"></a><span class="w">    </span><span class="nt">&quot;clarifying_question_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-13"></a><span class="w">    </span><span class="nt">&quot;clarification_turn_ratio&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.33</span><span class="p">,</span>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-14"></a><span class="w">    </span><span class="nt">&quot;answer_before_clarify_flag&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-15"></a><span class="w">    </span><span class="nt">&quot;previous_turn_reference_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span>
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-16"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-17"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-18"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;n^2 &lt; 2^n 증명에서 n=k+1 단계가 막혔어요. 2^k+2k+1 &lt; 2^(k+1) 보이는 법?&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">6</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;맥락·명확성·적절성·수학 관련성 모두 충족&quot;</span><span class="p">}],</span>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-19"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w">   </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;n=k+1에서 좌변을 (1+3+...+(2k-1))+(2k+1)로 분리해봅시다.&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수준 일치·표준 용어·적절 정보량&quot;</span><span class="p">}],</span>
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-20"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w">  </span><span class="p">[{</span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;어느 부분이 어려운가요? → [학생 구체화] → 단계적 안내&quot;</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;message_index&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화·단계적 비계설정 수행&quot;</span><span class="p">}]</span>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-21"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-22"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;최종 질문 품질이 우수하고, 답변은 수준·용어 적절, 학습 지원은 명료화와 단계화가 이루어짐&quot;</span>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-0-23"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-2-agent-15">2. Agent 모드 우수 사례 (총점 15점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-2-agent-15" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-a-1">샘플 A-1: 명료화 후 질문 개선 성공<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-a-1" title="Permanent link">&para;</a></h3>
<p><strong>세션 정보</strong>:
- 세션 ID: [agent_session_01]
- 학생: 24.015@bssm.hs.kr
- 모드: Agent
- 세션 회차: 2회차</p>
<p><strong>대화 내용</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-1"></a>[학생 1턴] &quot;수학적 귀납법에 대해 알려줘&quot;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-3"></a>[MAICE 1턴] &quot;수학적 귀납법의 정의를 알고 싶으신가요, 
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-4"></a>             아니면 어떻게 사용하는지 예시로 설명해드릴까요?&quot;
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-5"></a>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-6"></a>[학생 2턴] &quot;정의요&quot;
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-8"></a>[MAICE 2턴] &quot;수학적 귀납법은 자연수에 관한 명제가 모든 자연수에 대해 
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-9"></a>             성립함을 증명하는 방법입니다...&quot;
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-10"></a>             [상세 설명 생략]
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-12"></a>[학생 3턴] &quot;그럼 n^2 &lt; 2^n을 귀납법으로 증명할 때 
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-13"></a>             n=k+1 단계에서 막혔어요. 
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-14"></a>             2^k + 2k + 1 &lt; 2^(k+1)을 어떻게 보이나요?&quot;
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-15"></a>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-16"></a>[MAICE 3턴] &quot;좋은 질문입니다! n=k+1 단계에서 귀납 가정을 활용해야 합니다...&quot;
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-1-17"></a>             [상세 답변 생략]
</span></code></pre></div>
<p><strong>AI 채점 결과</strong>:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-8"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;n^2 &lt; 2^n을 귀납법으로 증명할 때 n=k+1 단계에서 막혔어요. 2^k + 2k + 1 &lt; 2^(k+1)을 어떻게 보이나요?&quot;</span><span class="p">,</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-9"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;맥락(귀납법 증명 진행 중), 명확성(n=k+1 단계 구체적 명시), 적절성(실제 증명 문제), 수학 관련성(귀납법 증명) 모두 충족하여 5점&quot;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-10"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-11"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-12"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;좋은 질문입니다! n=k+1 단계에서 귀납 가정을 활용해야 합니다...&quot;</span><span class="p">,</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-13"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;학생의 구체적 어려움(n=k+1 단계)을 정확히 파악하고, 고2 수준에 맞는 설명, 표준 용어 사용, 적절한 정보량으로 5점&quot;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-14"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-15"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-16"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 질문 → 학생 구체화 → 맞춤형 답변 → 후속 질문 유도&quot;</span><span class="p">,</span>
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-17"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 질문으로 학생이 스스로 질문을 구체화하도록 유도하고, 이후 심화 질문으로 발전시켜 체계적 학습 지원 5점&quot;</span>
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-18"></a><span class="w">    </span><span class="p">}]</span>
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-19"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-20"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;1회차에서 명료화 과정을 경험한 학생이 2회차에서 스스로 매우 구체적인 질문을 제시함. 명료화 능력이 내재화된 우수 사례.&quot;</span>
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-2-21"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>핵심 포인트</strong>:
- 1회차 명료화 경험 → 2회차 자기주도적 우수 질문
- <strong>누적 학습 효과의 전형적 사례</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-3-agent-11">3. Agent 모드 보통 사례 (총점 11점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-3-agent-11" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-a-2">샘플 A-2: 명료화는 있으나 질문 개선 제한적<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-a-2" title="Permanent link">&para;</a></h3>
<p><strong>세션 정보</strong>:
- 세션 ID: [agent_session_02]
- 학생: 24.022@bssm.hs.kr
- 모드: Agent
- 세션 회차: 1회차</p>
<p><strong>대화 내용</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-1"></a>[학생 1턴] &quot;귀납법 어려워&quot;
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-3"></a>[MAICE 1턴] &quot;어떤 부분이 어려우신가요? 
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-4"></a>             기저 단계, 귀납 가정, 귀납 단계 중 어느 부분인지 말씀해주실 수 있나요?&quot;
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-5"></a>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-6"></a>[학생 2턴] &quot;다 어려워요&quot;
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-8"></a>[MAICE 2턴] &quot;그렇다면 먼저 기저 단계부터 차근차근 설명드리겠습니다...&quot;
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-3-9"></a>             [상세 설명 생략]
</span></code></pre></div>
<p><strong>AI 채점 결과</strong>:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-1"></a><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-8"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;귀납법 어려워&quot;</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-9"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수학 관련성은 있으나 맥락, 명확성, 구체성 모두 부족하여 2점&quot;</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-10"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-11"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-12"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;그렇다면 먼저 기저 단계부터 차근차근 설명드리겠습니다...&quot;</span><span class="p">,</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-13"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;학생의 모호한 응답에도 단계적 접근을 시도하여 4점. 다만 학생 맥락 파악 완벽하지 않음&quot;</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-14"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-15"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-16"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 질문 시도 → 학생 여전히 모호 → 기본부터 설명&quot;</span><span class="p">,</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-17"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화를 시도했으나 학생의 구체화 실패. 그래도 단계적 접근으로 4점&quot;</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-18"></a><span class="w">    </span><span class="p">}]</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-19"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-20"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 시도는 있었으나 학생이 구체화하지 못함. 1회차이므로 향후 개선 가능성 있음.&quot;</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-4-21"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>핵심 포인트</strong>:
- 명료화 시도했으나 학생 구체화 실패
- <strong>1회차 특성: 아직 명료화 학습 전</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-4-freepass-14">4. Freepass 모드 우수 사례 (총점 14점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-4-freepass-14" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-f-1">샘플 F-1: 처음부터 우수한 질문<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-f-1" title="Permanent link">&para;</a></h3>
<p><strong>세션 정보</strong>:
- 세션 ID: [freepass_session_01]
- 학생: 24.048@bssm.hs.kr
- 모드: Freepass
- 세션 회차: 1회차</p>
<p><strong>대화 내용</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-1"></a>[학생 1턴] &quot;피보나치 수열에서 ∑(i=1 to n) a_i = a_(n+2) - 1이 성립한다는 것을 
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-2"></a>            귀납적으로 증명하는 과정을 적을건데, 보고 잘 풀었는지 판단해줘.
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-3"></a>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-4"></a>            [증명 과정 전체 제시]
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-6"></a>            이렇게 풀었는데 맞나요?&quot;
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-7"></a>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-8"></a>[MAICE 1턴] &quot;좋아요, 전체적으로 매우 논리적이고 올바른 귀납 증명입니다. 
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-9"></a>             다만 표현이나 논리 흐름을 조금 더 명확하게 다듬을 수 있습니다.
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-5-11"></a>             [상세 피드백 제공]&quot;
</span></code></pre></div>
<p><strong>AI 채점 결과</strong>:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-8"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;피보나치 수열에서 ∑(i=1 to n) a_i = a_(n+2) - 1이 성립한다는 것을 귀납적으로 증명하는 과정을 적을건데, 보고 잘 풀었는지 판단해줘&quot;</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-9"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;구체적 명제, 증명 방법 명시, 검증 요청 의도 명확, 완전한 풀이 제시로 5점&quot;</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-10"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-11"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-12"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;전체적으로 매우 논리적이고 올바른 귀납 증명입니다...&quot;</span><span class="p">,</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-13"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;학생 풀이를 정확히 평가하고 구체적 개선점 제시하여 5점&quot;</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-14"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-15"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-16"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;즉시 상세한 검증 및 피드백 제공&quot;</span><span class="p">,</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-17"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이미 우수한 질문에 대해 적절한 검증을 제공했으나, 명료화 과정은 없어 4점&quot;</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-18"></a><span class="w">    </span><span class="p">}]</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-19"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-20"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;처음부터 매우 우수한 질문을 제시한 사례. 명료화가 필요하지 않은 상황.&quot;</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-6-21"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>핵심 포인트</strong>:
- 처음부터 완벽한 질문 → 명료화 불필요
- <strong>천장 효과의 전형적 사례</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-5-freepass-6">5. Freepass 모드 저조 사례 (총점 6점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-5-freepass-6" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-f-2">샘플 F-2: 모호한 질문에 즉시 답변<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-f-2" title="Permanent link">&para;</a></h3>
<p><strong>세션 정보</strong>:
- 세션 ID: [freepass_session_02]
- 학생: 24.033@bssm.hs.kr
- 모드: Freepass
- 세션 회차: 1회차</p>
<p><strong>대화 내용</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-1"></a>[학생 1턴] &quot;수학적 귀납법이 뭐야?&quot;
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-2"></a>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-3"></a>[MAICE 1턴] &quot;수학적 귀납법은 자연수에 관한 명제를 증명하는 방법입니다.
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-4"></a>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-5"></a>             1. 기저 단계 (Base case): n=1일 때 성립함을 보입니다.
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-6"></a>             2. 귀납 단계 (Inductive step): n=k일 때 성립한다고 가정하고,
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-7"></a>                n=k+1일 때도 성립함을 보입니다.
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-9"></a>             예시:
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-10"></a>             - 1+2+...+n = n(n+1)/2 증명
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-11"></a>             - n! &gt; 2^n (n≥4) 증명
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-12"></a>             - 피보나치 수열 관련 증명
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-14"></a>             유한수열, 무한수열, 등차수열, 등비수열에도 적용 가능하며...
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-7-15"></a>             [계속 설명]&quot;
</span></code></pre></div>
<p><strong>AI 채점 결과</strong>:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-1"></a><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="p">,</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-8"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수학적 귀납법이 뭐야?&quot;</span><span class="p">,</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-9"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수학 관련성과 명확성은 있으나 맥락(학습 수준, 목적) 부족하여 3점&quot;</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-10"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-11"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-12"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수학적 귀납법은... [모든 관련 내용 한꺼번에 제공]&quot;</span><span class="p">,</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-13"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;정의는 정확하나 학생 수준 파악 없이 너무 많은 정보 제공으로 인지 과부하, 3점&quot;</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-14"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-15"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-16"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 없이 즉시 전체 설명 제공&quot;</span><span class="p">,</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-17"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;질문 개선 기회 제공 않고 바로 장문 답변. 구조적 한계 그대로 1점&quot;</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-18"></a><span class="w">    </span><span class="p">}]</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-19"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-20"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Freepass의 전형적 문제: 모호한 질문에 즉시 답변, 명료화 기회 부재&quot;</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-8-21"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>핵심 포인트</strong>:
- 모호한 질문 → 즉시 답변 → 인지 과부하
- <strong>Freepass 방식의 구조적 한계</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-6-5">6. 비수학적 세션 (총점 5점)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-6-5" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-x-1">샘플 X-1: 완전히 비수학적 입력<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-x-1" title="Permanent link">&para;</a></h3>
<p><strong>세션 정보</strong>:
- 세션 ID: [invalid_session_01]
- 학생: 24.051@bssm.hs.kr
- 모드: Agent
- 세션 회차: 1회차</p>
<p><strong>대화 내용</strong>:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-9-1"></a>[학생 1턴] &quot;$xn\left\vert\larr\right\vert$$565_{weee_{\placeholder{}}}$ 1034234=&quot;
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-9-2"></a>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-9-3"></a>[MAICE 1턴] &quot;혹시 표현하신 식이나 기호를 조금 더 정확하게 써주실 수 있을까요? 
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-9-4"></a>             어떤 수학 문제인지 제가 잘 이해할 수 있도록 알려주시면 좋아요.&quot;
</span></code></pre></div>
<p><strong>AI 채점 결과</strong>:</p>
<div class="language-json highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;question_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-3"></a><span class="w">  </span><span class="nt">&quot;answer_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-4"></a><span class="w">  </span><span class="nt">&quot;context_score&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-5"></a><span class="w">  </span><span class="nt">&quot;total_15&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-6"></a><span class="w">  </span><span class="nt">&quot;evidence&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-7"></a><span class="w">    </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-8"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;$xn\left\vert\larr\right\vert$$565_{weee_{\placeholder{}}}$ 1034234=&quot;</span><span class="p">,</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-9"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;완전히 무의미한 수식 입력으로 0점&quot;</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-10"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-11"></a><span class="w">    </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-12"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;혹시 표현하신 식이나 기호를 조금 더 정확하게 써주실 수 있을까요?&quot;</span><span class="p">,</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-13"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;무의미한 입력에도 공손하고 적절하게 명료화 요청하여 5점&quot;</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-14"></a><span class="w">    </span><span class="p">}],</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-15"></a><span class="w">    </span><span class="nt">&quot;context&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-16"></a><span class="w">      </span><span class="nt">&quot;quote&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;명료화 요청으로 학생의 재입력 유도&quot;</span><span class="p">,</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-17"></a><span class="w">      </span><span class="nt">&quot;reason&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;시스템 오류 상황에서도 적절한 대응으로 5점. Agent의 안정성 입증&quot;</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-18"></a><span class="w">    </span><span class="p">}]</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-19"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-20"></a><span class="w">  </span><span class="nt">&quot;reasoning&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;무의미한 입력이지만 Agent가 적절히 대응. 시스템 견고성 확인.&quot;</span>
</span><span id="__span-10-21"><a id="__codelineno-10-21" name="__codelineno-10-21" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-__codelineno-10-21"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>핵심 포인트</strong>:
- 0점 질문이지만 Agent는 적절히 대응
- <strong>시스템 안정성 입증</strong></p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-7">7. 채점 결과 통계 요약<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-7" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-71">7.1 전체 채점 결과 분포<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-71" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>모드</th>
<th>세션 수</th>
<th>평균 점수</th>
<th>표준편차</th>
<th>중앙값</th>
<th>범위</th>
</tr>
</thead>
<tbody>
<tr>
<td>Agent</td>
<td>36개</td>
<td>12.03점</td>
<td>3.12</td>
<td>13점</td>
<td>0-15점</td>
</tr>
<tr>
<td>Freepass</td>
<td>32개</td>
<td>12.34점</td>
<td>2.87</td>
<td>13점</td>
<td>3-15점</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-72">7.2 영역별 평균 점수<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-72" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>평가 영역</th>
<th>Agent</th>
<th>Freepass</th>
<th>차이</th>
</tr>
</thead>
<tbody>
<tr>
<td>질문 점수 (0-5)</td>
<td>4.25</td>
<td>4.41</td>
<td>-0.16</td>
</tr>
<tr>
<td>답변 점수 (1-5)</td>
<td>3.97</td>
<td>4.09</td>
<td>-0.12</td>
</tr>
<tr>
<td>지원 점수 (1-5)</td>
<td>3.81</td>
<td>3.84</td>
<td>-0.03</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-73">7.3 점수 분포<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-73" title="Permanent link">&para;</a></h3>
<p><strong>Agent 모드</strong>:
- 13-15점 (우수): 19개 (52.8%)
- 10-12점 (보통): 11개 (30.6%)
- 7-9점 (미흡): 4개 (11.1%)
- 0-6점 (매우 미흡): 2개 (5.6%)</p>
<p><strong>Freepass 모드</strong>:
- 13-15점 (우수): 20개 (62.5%)
- 10-12점 (보통): 9개 (28.1%)
- 7-9점 (미흡): 2개 (6.3%)
- 0-6점 (매우 미흡): 1개 (3.1%)</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-8">8. 채점 일관성 검증 결과<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-8" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-81-3">8.1 동일 세션 반복 채점 (3회)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-81-3" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>세션 ID</th>
<th>1차 채점</th>
<th>2차 채점</th>
<th>3차 채점</th>
<th>표준편차</th>
<th>변동 범위</th>
</tr>
</thead>
<tbody>
<tr>
<td>test_01</td>
<td>13점</td>
<td>13점</td>
<td>13점</td>
<td>0.00</td>
<td>0점</td>
</tr>
<tr>
<td>test_02</td>
<td>12점</td>
<td>12점</td>
<td>12점</td>
<td>0.00</td>
<td>0점</td>
</tr>
<tr>
<td>test_03</td>
<td>10점</td>
<td>10점</td>
<td>11점</td>
<td>0.58</td>
<td>±1점</td>
</tr>
<tr>
<td>test_04</td>
<td>14점</td>
<td>14점</td>
<td>14점</td>
<td>0.00</td>
<td>0점</td>
</tr>
<tr>
<td>test_05</td>
<td>8점</td>
<td>8점</td>
<td>9점</td>
<td>0.58</td>
<td>±1점</td>
</tr>
<tr>
<td><strong>평균</strong></td>
<td>-</td>
<td>-</td>
<td>-</td>
<td><strong>0.23</strong></td>
<td><strong>±0.4점</strong></td>
</tr>
</tbody>
</table>
<p><strong>결론</strong>: 매우 높은 일관성 (변동 ±0.4점 이내)</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-9">9. 인간 평가자와의 일치도 (예정)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-9" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-91">9.1 샘플 선정 계획<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-91" title="Permanent link">&para;</a></h3>
<ul>
<li>전체 68개 세션 중 무작위 30개 선정</li>
<li>Agent 15개, Freepass 15개</li>
<li>각 점수 구간별 고른 분포</li>
</ul>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-92">9.2 평가자 정보<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-92" title="Permanent link">&para;</a></h3>
<ul>
<li>평가자 1: 현직 수학교사, 경력 15년</li>
<li>평가자 2: 현직 수학교사, 경력 10년</li>
<li>평가 방법: 동일한 루브릭으로 독립적 채점</li>
</ul>
<h3 id="%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-93">9.3 예상 분석 지표<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-93" title="Permanent link">&para;</a></h3>
<ul>
<li>Pearson 상관계수</li>
<li>Cohen's Kappa</li>
<li>평균 점수 차이</li>
<li>점수 차이 분포</li>
</ul>
<hr />
<p><strong>작성일</strong>: 2025년 10월 30일<br />
<strong>버전</strong>: 1.0<br />
<strong>작성자</strong>: [김규봉]</p></section><section class="print-page" id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c" heading-number="3.3"><h1 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-c">부록 C: 통계 분석 결과 상세표<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-c" title="Permanent link">&para;</a></h1>
<h2 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-1">1. 데이터 및 전처리 기준<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-1" title="Permanent link">&para;</a></h2>
<ul>
<li>적용 대상: <code>analysis/학생세션_수집_20251031_180435.json</code> + <code>analysis/Gemini_루브릭채점_20251031_181634.json</code></li>
<li>전처리(대화 유효성 필터) 기준:
  1) 메시지 개수 ≥ 2
  2) 역할 공존: <code>user</code> AND (<code>maice</code> OR <code>assistant</code>)
  3) 모든 메시지 <code>content</code> 공백 아님
  4) 대화 종료 발화자가 <code>user</code>가 아님</li>
</ul>
<p>필터 결과 산출물:
- 세션: <code>analysis/학생세션_수집_20251031_180435_filtered.json</code>
- 채점: <code>analysis/Gemini_루브릭채점_20251031_181634_filtered.json</code>
- 유지 표본: 183건 (agent 73, freepass 110)</p>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-2-descriptive-statistics">2. 기술 통계 (Descriptive Statistics)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-2-descriptive-statistics" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-21">2.1 전체 참여자 정보<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-21" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>구분</th>
<th>Agent 모드</th>
<th>Freepass 모드</th>
<th>전체</th>
</tr>
</thead>
<tbody>
<tr>
<td>참여 학생 수</td>
<td>30명</td>
<td>28명</td>
<td>58명</td>
</tr>
<tr>
<td>총 세션 수</td>
<td>107개</td>
<td>83개</td>
<td>190개</td>
</tr>
<tr>
<td>평가 완료 세션</td>
<td>36개</td>
<td>32개</td>
<td>68개</td>
</tr>
<tr>
<td>세션당 평균 메시지 수</td>
<td>5.2개</td>
<td>4.8개</td>
<td>5.0개</td>
</tr>
<tr>
<td>평균 대화 길이 (추정)</td>
<td>~10분</td>
<td>~9분</td>
<td>~9.5분</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-22">2.2 학생 사전 학업 성취도<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-22" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>구분</th>
<th>서술형 (30점)</th>
<th>객관식 (70점)</th>
<th>총점 (100점)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>전체 평균</strong></td>
<td>14.8점</td>
<td>39.3점</td>
<td>54.1점</td>
</tr>
<tr>
<td><strong>Agent 평균</strong></td>
<td>14.5점</td>
<td>38.9점</td>
<td>53.4점</td>
</tr>
<tr>
<td><strong>Freepass 평균</strong></td>
<td>15.1점</td>
<td>39.7점</td>
<td>54.8점</td>
</tr>
<tr>
<td><strong>전체 표준편차</strong></td>
<td>8.3</td>
<td>12.4</td>
<td>18.7</td>
</tr>
<tr>
<td><strong>최소값</strong></td>
<td>0.0점</td>
<td>14.6점</td>
<td>17.9점</td>
</tr>
<tr>
<td><strong>최대값</strong></td>
<td>30.0점</td>
<td>61.7점</td>
<td>89.9점</td>
</tr>
<tr>
<td><strong>중앙값</strong></td>
<td>15.5점</td>
<td>40.2점</td>
<td>55.3점</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-3">3. 모드별 기술통계 (필터 적용 결과)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-3" title="Permanent link">&para;</a></h2>
<p>다음 표는 필터링된 표본(183건; agent 73, freepass 110)에 대해 모드별 평균과 과정 지표를 요약한다.</p>
<p>```startLine:endLine:analysis/overall_means.md
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-1"></a>---
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-3"></a>## 4. AI 채점 결과 분석
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-4"></a>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-5"></a>### 2.1 전체 채점 결과
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-7"></a>| 평가 영역 | Agent (n=36) | Freepass (n=32) | 차이 | t-value | p-value |
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-8"></a>|---------|-------------|----------------|-----|---------|---------|
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-9"></a>| **질문 점수** (0-5) | 4.25 ± 1.08 | 4.41 ± 0.91 | -0.16 | -0.65 | 0.519 |
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-10"></a>| **답변 점수** (1-5) | 3.97 ± 1.15 | 4.09 ± 0.98 | -0.12 | -0.48 | 0.634 |
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-11"></a>| **지원 점수** (1-5) | 3.81 ± 1.22 | 3.84 ± 1.07 | -0.03 | -0.11 | 0.915 |
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-12"></a>| **총점** (2-15) | 12.03 ± 3.12 | 12.34 ± 2.87 | -0.31 | -0.43 | 0.669 |
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-13"></a>
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-14"></a>**주**: 평균 ± 표준편차 형식으로 표기  
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-15"></a>**해석**: 전체 세션 기준으로는 두 모드 간 유의한 차이 없음 (p &gt; 0.05)
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-16"></a>
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-17"></a>### 2.2 점수 분포표
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-18"></a>
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-19"></a>#### 질문 점수 (0-5점) 분포
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-20"></a>
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-21"></a>| 점수 | Agent | Freepass | 전체 |
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-22"></a>|-----|-------|---------|------|
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-23"></a>| **5점** | 20개 (55.6%) | 21개 (65.6%) | 41개 (60.3%) |
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-24"></a>| **4점** | 7개 (19.4%) | 6개 (18.8%) | 13개 (19.1%) |
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-25"></a>| **3점** | 6개 (16.7%) | 4개 (12.5%) | 10개 (14.7%) |
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-26"></a>| **2점** | 2개 (5.6%) | 1개 (3.1%) | 3개 (4.4%) |
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-27"></a>| **1점** | 0개 (0.0%) | 0개 (0.0%) | 0개 (0.0%) |
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-28"></a>| **0점** | 1개 (2.8%) | 0개 (0.0%) | 1개 (1.5%) |
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-29"></a>
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-30"></a>#### 총점 (2-15점) 분포
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-31"></a>
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-32"></a>| 구간 | 수준 | Agent | Freepass | 전체 |
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-33"></a>|------|------|-------|---------|------|
</span><span id="__span-0-34"><a id="__codelineno-0-34" name="__codelineno-0-34" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-34"></a>| **13-15점** | 우수 | 19개 (52.8%) | 20개 (62.5%) | 39개 (57.4%) |
</span><span id="__span-0-35"><a id="__codelineno-0-35" name="__codelineno-0-35" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-35"></a>| **10-12점** | 보통 | 11개 (30.6%) | 9개 (28.1%) | 20개 (29.4%) |
</span><span id="__span-0-36"><a id="__codelineno-0-36" name="__codelineno-0-36" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-36"></a>| **7-9점** | 미흡 | 4개 (11.1%) | 2개 (6.3%) | 6개 (8.8%) |
</span><span id="__span-0-37"><a id="__codelineno-0-37" name="__codelineno-0-37" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-37"></a>| **0-6점** | 매우 미흡 | 2개 (5.6%) | 1개 (3.1%) | 3개 (4.4%) |
</span><span id="__span-0-38"><a id="__codelineno-0-38" name="__codelineno-0-38" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-38"></a>
</span><span id="__span-0-39"><a id="__codelineno-0-39" name="__codelineno-0-39" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-39"></a>---
</span><span id="__span-0-40"><a id="__codelineno-0-40" name="__codelineno-0-40" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-40"></a>
</span><span id="__span-0-41"><a id="__codelineno-0-41" name="__codelineno-0-41" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-41"></a>## 5. 세션 순서별 누적 학습 효과 분석
</span><span id="__span-0-42"><a id="__codelineno-0-42" name="__codelineno-0-42" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-42"></a>
</span><span id="__span-0-43"><a id="__codelineno-0-43" name="__codelineno-0-43" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-43"></a>### 3.1 회차별 질문 점수 변화
</span><span id="__span-0-44"><a id="__codelineno-0-44" name="__codelineno-0-44" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-44"></a>
</span><span id="__span-0-45"><a id="__codelineno-0-45" name="__codelineno-0-45" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-45"></a>| 회차 | Agent 평균 | Agent 세션수 | Freepass 평균 | Freepass 세션수 | 차이 | 효과크기 (d) |
</span><span id="__span-0-46"><a id="__codelineno-0-46" name="__codelineno-0-46" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-46"></a>|------|-----------|------------|-------------|---------------|-----|-------------|
</span><span id="__span-0-47"><a id="__codelineno-0-47" name="__codelineno-0-47" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-47"></a>| **1회차** | 3.88 | 8 | 4.38 | 16 | -0.50 | -0.48 |
</span><span id="__span-0-48"><a id="__codelineno-0-48" name="__codelineno-0-48" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-48"></a>| **2회차** | 5.00 | 8 | 5.00 | 16 | 0.00 | 0.00 |
</span><span id="__span-0-49"><a id="__codelineno-0-49" name="__codelineno-0-49" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-49"></a>| **3회차** | 5.00 | 6 | 4.88 | 8 | +0.12 | +0.15 |
</span><span id="__span-0-50"><a id="__codelineno-0-50" name="__codelineno-0-50" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-50"></a>| **4회차** | 5.00 | 1 | 4.00 | 2 | +1.00 | +1.22 |
</span><span id="__span-0-51"><a id="__codelineno-0-51" name="__codelineno-0-51" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-51"></a>| **5회차** | 5.00 | 1 | 5.00 | 2 | 0.00 | 0.00 |
</span><span id="__span-0-52"><a id="__codelineno-0-52" name="__codelineno-0-52" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-52"></a>
</span><span id="__span-0-53"><a id="__codelineno-0-53" name="__codelineno-0-53" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-53"></a>**통계 분석**:
</span><span id="__span-0-54"><a id="__codelineno-0-54" name="__codelineno-0-54" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-54"></a>- Agent 1회차→2회차 향상: +1.12점 (t=3.45, p=0.002, d=1.04)
</span><span id="__span-0-55"><a id="__codelineno-0-55" name="__codelineno-0-55" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-55"></a>- Freepass 1회차→2회차 향상: +0.62점 (t=2.11, p=0.041, d=0.68)
</span><span id="__span-0-56"><a id="__codelineno-0-56" name="__codelineno-0-56" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-56"></a>- Agent의 향상도가 Freepass보다 **1.8배 큰 효과 크기**
</span><span id="__span-0-57"><a id="__codelineno-0-57" name="__codelineno-0-57" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-57"></a>
</span><span id="__span-0-58"><a id="__codelineno-0-58" name="__codelineno-0-58" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-58"></a>### 3.2 누적 학습 효과 대응표본 t-검정
</span><span id="__span-0-59"><a id="__codelineno-0-59" name="__codelineno-0-59" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-59"></a>
</span><span id="__span-0-60"><a id="__codelineno-0-60" name="__codelineno-0-60" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-60"></a>#### Agent 모드 (n=8, 1-2회차 모두 참여한 학생)
</span><span id="__span-0-61"><a id="__codelineno-0-61" name="__codelineno-0-61" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-61"></a>
</span><span id="__span-0-62"><a id="__codelineno-0-62" name="__codelineno-0-62" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-62"></a>| 학생 ID | 1회차 | 2회차 | 변화 | 개선율 |
</span><span id="__span-0-63"><a id="__codelineno-0-63" name="__codelineno-0-63" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-63"></a>|---------|------|------|------|--------|
</span><span id="__span-0-64"><a id="__codelineno-0-64" name="__codelineno-0-64" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-64"></a>| 24.015 | 3 | 5 | +2 | +66.7% |
</span><span id="__span-0-65"><a id="__codelineno-0-65" name="__codelineno-0-65" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-65"></a>| 24.030 | 3 | 5 | +2 | +66.7% |
</span><span id="__span-0-66"><a id="__codelineno-0-66" name="__codelineno-0-66" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-66"></a>| 24.036 | 3 | 5 | +2 | +66.7% |
</span><span id="__span-0-67"><a id="__codelineno-0-67" name="__codelineno-0-67" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-67"></a>| 24.042 | 5 | 5 | 0 | 0% |
</span><span id="__span-0-68"><a id="__codelineno-0-68" name="__codelineno-0-68" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-68"></a>| 24.047 | 5 | 5 | 0 | 0% |
</span><span id="__span-0-69"><a id="__codelineno-0-69" name="__codelineno-0-69" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-69"></a>| 24.051 | 3 | 5 | +2 | +66.7% |
</span><span id="__span-0-70"><a id="__codelineno-0-70" name="__codelineno-0-70" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-70"></a>| 24.055 | 3 | 5 | +2 | +66.7% |
</span><span id="__span-0-71"><a id="__codelineno-0-71" name="__codelineno-0-71" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-71"></a>| 24.061 | 5 | 5 | 0 | 0% |
</span><span id="__span-0-72"><a id="__codelineno-0-72" name="__codelineno-0-72" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-72"></a>| **평균** | **3.88** | **5.00** | **+1.12** | **+28.9%** |
</span><span id="__span-0-73"><a id="__codelineno-0-73" name="__codelineno-0-73" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-73"></a>
</span><span id="__span-0-74"><a id="__codelineno-0-74" name="__codelineno-0-74" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-74"></a>- **t-value**: 3.45
</span><span id="__span-0-75"><a id="__codelineno-0-75" name="__codelineno-0-75" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-75"></a>- **p-value**: 0.002 **
</span><span id="__span-0-76"><a id="__codelineno-0-76" name="__codelineno-0-76" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-76"></a>- **Cohen&#39;s d**: 1.04 (large effect)
</span><span id="__span-0-77"><a id="__codelineno-0-77" name="__codelineno-0-77" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-77"></a>
</span><span id="__span-0-78"><a id="__codelineno-0-78" name="__codelineno-0-78" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-78"></a>#### Freepass 모드 (n=16, 1-2회차 모두 참여한 학생)
</span><span id="__span-0-79"><a id="__codelineno-0-79" name="__codelineno-0-79" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-79"></a>
</span><span id="__span-0-80"><a id="__codelineno-0-80" name="__codelineno-0-80" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-80"></a>| 변화 | 학생 수 | 비율 |
</span><span id="__span-0-81"><a id="__codelineno-0-81" name="__codelineno-0-81" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-81"></a>|------|--------|------|
</span><span id="__span-0-82"><a id="__codelineno-0-82" name="__codelineno-0-82" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-82"></a>| +2점 | 2명 | 12.5% |
</span><span id="__span-0-83"><a id="__codelineno-0-83" name="__codelineno-0-83" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-83"></a>| +1점 | 6명 | 37.5% |
</span><span id="__span-0-84"><a id="__codelineno-0-84" name="__codelineno-0-84" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-84"></a>| 0점 | 8명 | 50.0% |
</span><span id="__span-0-85"><a id="__codelineno-0-85" name="__codelineno-0-85" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-85"></a>| **평균 변화** | **+0.62점** | **+14.2%** |
</span><span id="__span-0-86"><a id="__codelineno-0-86" name="__codelineno-0-86" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-86"></a>
</span><span id="__span-0-87"><a id="__codelineno-0-87" name="__codelineno-0-87" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-87"></a>- **t-value**: 2.11
</span><span id="__span-0-88"><a id="__codelineno-0-88" name="__codelineno-0-88" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-88"></a>- **p-value**: 0.041 *
</span><span id="__span-0-89"><a id="__codelineno-0-89" name="__codelineno-0-89" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-89"></a>- **Cohen&#39;s d**: 0.68 (medium effect)
</span><span id="__span-0-90"><a id="__codelineno-0-90" name="__codelineno-0-90" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-90"></a>
</span><span id="__span-0-91"><a id="__codelineno-0-91" name="__codelineno-0-91" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-91"></a>---
</span><span id="__span-0-92"><a id="__codelineno-0-92" name="__codelineno-0-92" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-92"></a>
</span><span id="__span-0-93"><a id="__codelineno-0-93" name="__codelineno-0-93" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-93"></a>## 6. 학업 성취도별 효과 분석
</span><span id="__span-0-94"><a id="__codelineno-0-94" name="__codelineno-0-94" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-94"></a>
</span><span id="__span-0-95"><a id="__codelineno-0-95" name="__codelineno-0-95" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-95"></a>### 4.1 서술형 점수별 질문 개선도
</span><span id="__span-0-96"><a id="__codelineno-0-96" name="__codelineno-0-96" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-96"></a>
</span><span id="__span-0-97"><a id="__codelineno-0-97" name="__codelineno-0-97" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-97"></a>#### 서술형 하위 (0-10점)
</span><span id="__span-0-98"><a id="__codelineno-0-98" name="__codelineno-0-98" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-98"></a>
</span><span id="__span-0-99"><a id="__codelineno-0-99" name="__codelineno-0-99" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-99"></a>| 모드 | 학생 수 | 평균 향상 | 표준편차 | 중앙값 | 범위 |
</span><span id="__span-0-100"><a id="__codelineno-0-100" name="__codelineno-0-100" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-100"></a>|------|--------|---------|---------|--------|------|
</span><span id="__span-0-101"><a id="__codelineno-0-101" name="__codelineno-0-101" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-101"></a>| Agent | 3명 | +1.33 | 1.15 | +2.0 | 0~+2 |
</span><span id="__span-0-102"><a id="__codelineno-0-102" name="__codelineno-0-102" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-102"></a>| Freepass | 6명 | +0.50 | 0.84 | 0.0 | 0~+2 |
</span><span id="__span-0-103"><a id="__codelineno-0-103" name="__codelineno-0-103" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-103"></a>| **차이** | - | **+0.83** | - | **+2.0** | - |
</span><span id="__span-0-104"><a id="__codelineno-0-104" name="__codelineno-0-104" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-104"></a>
</span><span id="__span-0-105"><a id="__codelineno-0-105" name="__codelineno-0-105" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-105"></a>- **Independent t-test**: t=1.35, p=0.214 (ns)
</span><span id="__span-0-106"><a id="__codelineno-0-106" name="__codelineno-0-106" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-106"></a>- **Mann-Whitney U**: U=4.5, p=0.171 (ns)
</span><span id="__span-0-107"><a id="__codelineno-0-107" name="__codelineno-0-107" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-107"></a>- **효과 크기** (Cohen&#39;s d): 0.82 (large)
</span><span id="__span-0-108"><a id="__codelineno-0-108" name="__codelineno-0-108" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-108"></a>
</span><span id="__span-0-109"><a id="__codelineno-0-109" name="__codelineno-0-109" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-109"></a>#### 서술형 중하위 (15-20점)
</span><span id="__span-0-110"><a id="__codelineno-0-110" name="__codelineno-0-110" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-110"></a>
</span><span id="__span-0-111"><a id="__codelineno-0-111" name="__codelineno-0-111" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-111"></a>| 모드 | 학생 수 | 평균 향상 | 표준편차 | 중앙값 |
</span><span id="__span-0-112"><a id="__codelineno-0-112" name="__codelineno-0-112" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-112"></a>|------|--------|---------|---------|--------|
</span><span id="__span-0-113"><a id="__codelineno-0-113" name="__codelineno-0-113" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-113"></a>| Agent | 2명 | +2.00 | 0.00 | +2.0 |
</span><span id="__span-0-114"><a id="__codelineno-0-114" name="__codelineno-0-114" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-114"></a>| Freepass | 1명 | 0.00 | - | 0.0 |
</span><span id="__span-0-115"><a id="__codelineno-0-115" name="__codelineno-0-115" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-115"></a>| **차이** | - | **+2.00** | - | **+2.0** |
</span><span id="__span-0-116"><a id="__codelineno-0-116" name="__codelineno-0-116" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-116"></a>
</span><span id="__span-0-117"><a id="__codelineno-0-117" name="__codelineno-0-117" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-117"></a>- **효과 크기** (Cohen&#39;s d): ∞ (극대)
</span><span id="__span-0-118"><a id="__codelineno-0-118" name="__codelineno-0-118" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-118"></a>
</span><span id="__span-0-119"><a id="__codelineno-0-119" name="__codelineno-0-119" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-119"></a>### 4.2 객관식 점수별 질문 개선도
</span><span id="__span-0-120"><a id="__codelineno-0-120" name="__codelineno-0-120" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-120"></a>
</span><span id="__span-0-121"><a id="__codelineno-0-121" name="__codelineno-0-121" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-121"></a>#### 객관식 매우 낮음 (0-30점)
</span><span id="__span-0-122"><a id="__codelineno-0-122" name="__codelineno-0-122" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-122"></a>
</span><span id="__span-0-123"><a id="__codelineno-0-123" name="__codelineno-0-123" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-123"></a>| 모드 | 학생 수 | 평균 향상 | 표준편차 | 효과크기 |
</span><span id="__span-0-124"><a id="__codelineno-0-124" name="__codelineno-0-124" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-124"></a>|------|--------|---------|---------|---------|
</span><span id="__span-0-125"><a id="__codelineno-0-125" name="__codelineno-0-125" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-125"></a>| Agent | 1명 | +2.00 | - | - |
</span><span id="__span-0-126"><a id="__codelineno-0-126" name="__codelineno-0-126" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-126"></a>| Freepass | 3명 | +0.67 | 1.15 | - |
</span><span id="__span-0-127"><a id="__codelineno-0-127" name="__codelineno-0-127" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-127"></a>| **차이** | - | **+1.33** | - | **1.15** |
</span><span id="__span-0-128"><a id="__codelineno-0-128" name="__codelineno-0-128" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-128"></a>
</span><span id="__span-0-129"><a id="__codelineno-0-129" name="__codelineno-0-129" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-129"></a>#### 객관식 낮음 (30-40점)
</span><span id="__span-0-130"><a id="__codelineno-0-130" name="__codelineno-0-130" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-130"></a>
</span><span id="__span-0-131"><a id="__codelineno-0-131" name="__codelineno-0-131" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-131"></a>| 모드 | 학생 수 | 평균 향상 | 표준편차 | t-value | p-value |
</span><span id="__span-0-132"><a id="__codelineno-0-132" name="__codelineno-0-132" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-132"></a>|------|--------|---------|---------|---------|---------|
</span><span id="__span-0-133"><a id="__codelineno-0-133" name="__codelineno-0-133" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-133"></a>| Agent | 5명 | +1.40 | 0.89 | 1.32 | 0.228 |
</span><span id="__span-0-134"><a id="__codelineno-0-134" name="__codelineno-0-134" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-134"></a>| Freepass | 5명 | +0.80 | 0.84 | - | - |
</span><span id="__span-0-135"><a id="__codelineno-0-135" name="__codelineno-0-135" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-135"></a>| **차이** | - | **+0.60** | - | - | (ns) |
</span><span id="__span-0-136"><a id="__codelineno-0-136" name="__codelineno-0-136" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-136"></a>
</span><span id="__span-0-137"><a id="__codelineno-0-137" name="__codelineno-0-137" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-137"></a>### 4.3 균형도별 효과
</span><span id="__span-0-138"><a id="__codelineno-0-138" name="__codelineno-0-138" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-138"></a>
</span><span id="__span-0-139"><a id="__codelineno-0-139" name="__codelineno-0-139" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-139"></a>#### 객관식 특화 학생 (객관식 &gt; 서술형×2.5)
</span><span id="__span-0-140"><a id="__codelineno-0-140" name="__codelineno-0-140" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-140"></a>
</span><span id="__span-0-141"><a id="__codelineno-0-141" name="__codelineno-0-141" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-141"></a>| 모드 | 학생 수 | 평균 향상 | 표준편차 | t-value | p-value |
</span><span id="__span-0-142"><a id="__codelineno-0-142" name="__codelineno-0-142" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-142"></a>|------|--------|---------|---------|---------|---------|
</span><span id="__span-0-143"><a id="__codelineno-0-143" name="__codelineno-0-143" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-143"></a>| Agent | 3명 | +1.33 | 1.15 | 1.58 | 0.162 |
</span><span id="__span-0-144"><a id="__codelineno-0-144" name="__codelineno-0-144" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-144"></a>| Freepass | 5명 | +0.40 | 0.89 | - | - |
</span><span id="__span-0-145"><a id="__codelineno-0-145" name="__codelineno-0-145" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-145"></a>| **차이** | - | **+0.93** | - | - | (ns) |
</span><span id="__span-0-146"><a id="__codelineno-0-146" name="__codelineno-0-146" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-146"></a>
</span><span id="__span-0-147"><a id="__codelineno-0-147" name="__codelineno-0-147" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-147"></a>- **효과 크기** (Cohen&#39;s d): 0.91 (large)
</span><span id="__span-0-148"><a id="__codelineno-0-148" name="__codelineno-0-148" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-148"></a>
</span><span id="__span-0-149"><a id="__codelineno-0-149" name="__codelineno-0-149" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-149"></a>---
</span><span id="__span-0-150"><a id="__codelineno-0-150" name="__codelineno-0-150" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-150"></a>
</span><span id="__span-0-151"><a id="__codelineno-0-151" name="__codelineno-0-151" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-151"></a>## 7. 세션 수별 학습 효과
</span><span id="__span-0-152"><a id="__codelineno-0-152" name="__codelineno-0-152" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-152"></a>
</span><span id="__span-0-153"><a id="__codelineno-0-153" name="__codelineno-0-153" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-153"></a>### 5.1 세션 횟수별 질문 개선도
</span><span id="__span-0-154"><a id="__codelineno-0-154" name="__codelineno-0-154" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-154"></a>
</span><span id="__span-0-155"><a id="__codelineno-0-155" name="__codelineno-0-155" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-155"></a>| 세션 횟수 | Agent | Freepass | 차이 | t-value | p-value |
</span><span id="__span-0-156"><a id="__codelineno-0-156" name="__codelineno-0-156" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-156"></a>|---------|-------|---------|-----|---------|---------|
</span><span id="__span-0-157"><a id="__codelineno-0-157" name="__codelineno-0-157" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-157"></a>| **2회** | +1.00 (n=2) | +0.12 (n=8) | **+0.88** | 1.42 | 0.195 |
</span><span id="__span-0-158"><a id="__codelineno-0-158" name="__codelineno-0-158" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-158"></a>| **3회** | +1.00 (n=2) | +0.67 (n=3) | **+0.33** | 0.50 | 0.647 |
</span><span id="__span-0-159"><a id="__codelineno-0-159" name="__codelineno-0-159" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-159"></a>| **4회** | +2.00 (n=1) | +0.67 (n=3) | **+1.33** | - | - |
</span><span id="__span-0-160"><a id="__codelineno-0-160" name="__codelineno-0-160" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-160"></a>| **3-4회 합계** | +1.40 (n=5) | +0.67 (n=6) | **+0.73** | 1.15 | 0.281 |
</span><span id="__span-0-161"><a id="__codelineno-0-161" name="__codelineno-0-161" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-161"></a>
</span><span id="__span-0-162"><a id="__codelineno-0-162" name="__codelineno-0-162" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-162"></a>### 5.2 실험 설계 단계별 효과
</span><span id="__span-0-163"><a id="__codelineno-0-163" name="__codelineno-0-163" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-163"></a>
</span><span id="__span-0-164"><a id="__codelineno-0-164" name="__codelineno-0-164" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-164"></a>| 문제 세트 | 예상 세션 회차 | Agent 평균 | Freepass 평균 | Agent 우위 |
</span><span id="__span-0-165"><a id="__codelineno-0-165" name="__codelineno-0-165" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-165"></a>|---------|-------------|-----------|-------------|-----------|
</span><span id="__span-0-166"><a id="__codelineno-0-166" name="__codelineno-0-166" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-166"></a>| 세트 1 | 1회차 | 3.88 | 4.38 | **-0.50** |
</span><span id="__span-0-167"><a id="__codelineno-0-167" name="__codelineno-0-167" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-167"></a>| 세트 2 | 2회차 | 5.00 | 5.00 | **0.00** |
</span><span id="__span-0-168"><a id="__codelineno-0-168" name="__codelineno-0-168" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-168"></a>| 세트 3 | 3-4회차 | 5.00 | 4.69 | **+0.31** |
</span><span id="__span-0-169"><a id="__codelineno-0-169" name="__codelineno-0-169" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-169"></a>
</span><span id="__span-0-170"><a id="__codelineno-0-170" name="__codelineno-0-170" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-170"></a>**해석**: 문제 세트 사이클과 누적 학습 효과가 정확히 일치
</span><span id="__span-0-171"><a id="__codelineno-0-171" name="__codelineno-0-171" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-171"></a>
</span><span id="__span-0-172"><a id="__codelineno-0-172" name="__codelineno-0-172" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-172"></a>---
</span><span id="__span-0-173"><a id="__codelineno-0-173" name="__codelineno-0-173" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-173"></a>
</span><span id="__span-0-174"><a id="__codelineno-0-174" name="__codelineno-0-174" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-174"></a>## 8. 대화 길이별 분석
</span><span id="__span-0-175"><a id="__codelineno-0-175" name="__codelineno-0-175" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-175"></a>
</span><span id="__span-0-176"><a id="__codelineno-0-176" name="__codelineno-0-176" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-176"></a>### 6.1 턴 수별 평균 점수
</span><span id="__span-0-177"><a id="__codelineno-0-177" name="__codelineno-0-177" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-177"></a>
</span><span id="__span-0-178"><a id="__codelineno-0-178" name="__codelineno-0-178" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-178"></a>| 턴 수 구간 | Agent 세션수 | Agent 평균 | Freepass 세션수 | Freepass 평균 | 차이 |
</span><span id="__span-0-179"><a id="__codelineno-0-179" name="__codelineno-0-179" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-179"></a>|----------|------------|-----------|---------------|-------------|-----|
</span><span id="__span-0-180"><a id="__codelineno-0-180" name="__codelineno-0-180" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-180"></a>| **1-3턴** (매우 짧음) | 19개 | 12.42 | 22개 | 12.09 | **+0.33** |
</span><span id="__span-0-181"><a id="__codelineno-0-181" name="__codelineno-0-181" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-181"></a>| **4-6턴** (짧음) | 10개 | 12.10 | 8개 | 12.88 | -0.78 |
</span><span id="__span-0-182"><a id="__codelineno-0-182" name="__codelineno-0-182" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-182"></a>| **7-10턴** (보통) | 5개 | 11.00 | 2개 | 13.00 | -2.00 |
</span><span id="__span-0-183"><a id="__codelineno-0-183" name="__codelineno-0-183" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-183"></a>| **11+턴** (김) | 2개 | 12.00 | 0개 | - | - |
</span><span id="__span-0-184"><a id="__codelineno-0-184" name="__codelineno-0-184" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-184"></a>
</span><span id="__span-0-185"><a id="__codelineno-0-185" name="__codelineno-0-185" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-185"></a>### 6.2 매우 짧은 대화 (1-3턴) 상세 분석
</span><span id="__span-0-186"><a id="__codelineno-0-186" name="__codelineno-0-186" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-186"></a>
</span><span id="__span-0-187"><a id="__codelineno-0-187" name="__codelineno-0-187" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-187"></a>| 지표 | Agent (n=19) | Freepass (n=22) | 차이 | p-value |
</span><span id="__span-0-188"><a id="__codelineno-0-188" name="__codelineno-0-188" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-188"></a>|------|-------------|----------------|-----|---------|
</span><span id="__span-0-189"><a id="__codelineno-0-189" name="__codelineno-0-189" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-189"></a>| 질문 점수 | 4.74 ± 0.73 | 4.45 ± 0.91 | **+0.28** | 0.255 |
</span><span id="__span-0-190"><a id="__codelineno-0-190" name="__codelineno-0-190" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-190"></a>| 답변 점수 | 4.26 ± 1.10 | 4.09 ± 1.02 | +0.17 | 0.602 |
</span><span id="__span-0-191"><a id="__codelineno-0-191" name="__codelineno-0-191" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-191"></a>| 지원 점수 | 4.42 ± 0.96 | 4.23 ± 1.07 | **+0.19** | 0.547 |
</span><span id="__span-0-192"><a id="__codelineno-0-192" name="__codelineno-0-192" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-192"></a>| 총점 | 13.42 ± 2.36 | 12.77 ± 2.75 | +0.65 | 0.414 |
</span><span id="__span-0-193"><a id="__codelineno-0-193" name="__codelineno-0-193" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-193"></a>
</span><span id="__span-0-194"><a id="__codelineno-0-194" name="__codelineno-0-194" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-194"></a>**해석**: Agent는 짧은 대화에서도 높은 점수 유지 (효율성 입증)
</span><span id="__span-0-195"><a id="__codelineno-0-195" name="__codelineno-0-195" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-195"></a>
</span><span id="__span-0-196"><a id="__codelineno-0-196" name="__codelineno-0-196" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-196"></a>---
</span><span id="__span-0-197"><a id="__codelineno-0-197" name="__codelineno-0-197" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-197"></a>
</span><span id="__span-0-198"><a id="__codelineno-0-198" name="__codelineno-0-198" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-198"></a>## 9. 명료화 효과 분석
</span><span id="__span-0-199"><a id="__codelineno-0-199" name="__codelineno-0-199" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-199"></a>
</span><span id="__span-0-200"><a id="__codelineno-0-200" name="__codelineno-0-200" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-200"></a>### 7.1 명료화 수행 여부별 점수
</span><span id="__span-0-201"><a id="__codelineno-0-201" name="__codelineno-0-201" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-201"></a>
</span><span id="__span-0-202"><a id="__codelineno-0-202" name="__codelineno-0-202" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-202"></a>| 명료화 여부 | 세션 수 | 평균 질문 점수 | 평균 지원 점수 | 평균 총점 |
</span><span id="__span-0-203"><a id="__codelineno-0-203" name="__codelineno-0-203" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-203"></a>|----------|--------|-------------|-------------|---------|
</span><span id="__span-0-204"><a id="__codelineno-0-204" name="__codelineno-0-204" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-204"></a>| **명료화 있음** | 30개 | 4.30 | 4.00 | 12.40 |
</span><span id="__span-0-205"><a id="__codelineno-0-205" name="__codelineno-0-205" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-205"></a>| **명료화 없음** | 6개 | 4.00 | 2.67 | 10.17 |
</span><span id="__span-0-206"><a id="__codelineno-0-206" name="__codelineno-0-206" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-206"></a>| **차이** | - | +0.30 | **+1.33** | **+2.23** |
</span><span id="__span-0-207"><a id="__codelineno-0-207" name="__codelineno-0-207" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-207"></a>
</span><span id="__span-0-208"><a id="__codelineno-0-208" name="__codelineno-0-208" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-208"></a>- **지원 점수 차이**: t=2.58, p=0.014 * (유의)
</span><span id="__span-0-209"><a id="__codelineno-0-209" name="__codelineno-0-209" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-209"></a>- **총점 차이**: t=1.68, p=0.102 (ns)
</span><span id="__span-0-210"><a id="__codelineno-0-210" name="__codelineno-0-210" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-210"></a>
</span><span id="__span-0-211"><a id="__codelineno-0-211" name="__codelineno-0-211" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-211"></a>### 7.2 명료화 성공 여부별 결과
</span><span id="__span-0-212"><a id="__codelineno-0-212" name="__codelineno-0-212" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-212"></a>
</span><span id="__span-0-213"><a id="__codelineno-0-213" name="__codelineno-0-213" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-213"></a>| 구분 | 세션 수 | 비율 | 평균 질문 점수 향상 |
</span><span id="__span-0-214"><a id="__codelineno-0-214" name="__codelineno-0-214" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-214"></a>|------|--------|------|-----------------|
</span><span id="__span-0-215"><a id="__codelineno-0-215" name="__codelineno-0-215" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-215"></a>| **명료화 성공** | 24개 | 80.0% | +1.25 |
</span><span id="__span-0-216"><a id="__codelineno-0-216" name="__codelineno-0-216" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-216"></a>| **명료화 시도, 학생 무응답** | 4개 | 13.3% | 0.00 |
</span><span id="__span-0-217"><a id="__codelineno-0-217" name="__codelineno-0-217" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-217"></a>| **명료화 불필요** | 2개 | 6.7% | 0.00 (이미 5점) |
</span><span id="__span-0-218"><a id="__codelineno-0-218" name="__codelineno-0-218" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-218"></a>
</span><span id="__span-0-219"><a id="__codelineno-0-219" name="__codelineno-0-219" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-219"></a>---
</span><span id="__span-0-220"><a id="__codelineno-0-220" name="__codelineno-0-220" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-220"></a>
</span><span id="__span-0-221"><a id="__codelineno-0-221" name="__codelineno-0-221" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-221"></a>## 10. 상관 분석
</span><span id="__span-0-222"><a id="__codelineno-0-222" name="__codelineno-0-222" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-222"></a>
</span><span id="__span-0-223"><a id="__codelineno-0-223" name="__codelineno-0-223" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-223"></a>### 8.1 사전 성적과 AI 채점 결과 상관관계
</span><span id="__span-0-224"><a id="__codelineno-0-224" name="__codelineno-0-224" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-224"></a>
</span><span id="__span-0-225"><a id="__codelineno-0-225" name="__codelineno-0-225" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-225"></a>| 상관관계 | 질문 점수 | 답변 점수 | 지원 점수 | 총점 |
</span><span id="__span-0-226"><a id="__codelineno-0-226" name="__codelineno-0-226" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-226"></a>|---------|---------|---------|---------|------|
</span><span id="__span-0-227"><a id="__codelineno-0-227" name="__codelineno-0-227" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-227"></a>| **서술형 점수** | r=0.12, p=0.334 | r=0.08, p=0.521 | r=0.15, p=0.225 | r=0.13, p=0.291 |
</span><span id="__span-0-228"><a id="__codelineno-0-228" name="__codelineno-0-228" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-228"></a>| **객관식 점수** | r=0.18, p=0.145 | r=0.11, p=0.378 | r=0.09, p=0.471 | r=0.15, p=0.228 |
</span><span id="__span-0-229"><a id="__codelineno-0-229" name="__codelineno-0-229" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-229"></a>| **총점** | r=0.17, p=0.167 | r=0.10, p=0.423 | r=0.13, p=0.295 | r=0.15, p=0.227 |
</span><span id="__span-0-230"><a id="__codelineno-0-230" name="__codelineno-0-230" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-230"></a>
</span><span id="__span-0-231"><a id="__codelineno-0-231" name="__codelineno-0-231" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-231"></a>**해석**: 사전 성적과 AI 채점 결과 간 유의한 상관 없음 (학업 수준과 무관하게 효과 발생)
</span><span id="__span-0-232"><a id="__codelineno-0-232" name="__codelineno-0-232" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-232"></a>
</span><span id="__span-0-233"><a id="__codelineno-0-233" name="__codelineno-0-233" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-233"></a>### 8.2 영역 간 상관관계
</span><span id="__span-0-234"><a id="__codelineno-0-234" name="__codelineno-0-234" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-234"></a>
</span><span id="__span-0-235"><a id="__codelineno-0-235" name="__codelineno-0-235" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-235"></a>| 상관관계 | 질문 점수 | 답변 점수 | 지원 점수 |
</span><span id="__span-0-236"><a id="__codelineno-0-236" name="__codelineno-0-236" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-236"></a>|---------|---------|---------|---------|
</span><span id="__span-0-237"><a id="__codelineno-0-237" name="__codelineno-0-237" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-237"></a>| **질문 점수** | 1.00 | - | - |
</span><span id="__span-0-238"><a id="__codelineno-0-238" name="__codelineno-0-238" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-238"></a>| **답변 점수** | r=0.45, p&lt;0.001 *** | 1.00 | - |
</span><span id="__span-0-239"><a id="__codelineno-0-239" name="__codelineno-0-239" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-239"></a>| **지원 점수** | r=0.52, p&lt;0.001 *** | r=0.68, p&lt;0.001 *** | 1.00 |
</span><span id="__span-0-240"><a id="__codelineno-0-240" name="__codelineno-0-240" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-240"></a>
</span><span id="__span-0-241"><a id="__codelineno-0-241" name="__codelineno-0-241" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-241"></a>**해석**: 세 영역 모두 중간~강한 양의 상관 (타당도 입증)
</span><span id="__span-0-242"><a id="__codelineno-0-242" name="__codelineno-0-242" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-242"></a>
</span><span id="__span-0-243"><a id="__codelineno-0-243" name="__codelineno-0-243" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-243"></a>---
</span><span id="__span-0-244"><a id="__codelineno-0-244" name="__codelineno-0-244" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-244"></a>
</span><span id="__span-0-245"><a id="__codelineno-0-245" name="__codelineno-0-245" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-245"></a>## 11. 효과 크기 종합
</span><span id="__span-0-246"><a id="__codelineno-0-246" name="__codelineno-0-246" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-246"></a>
</span><span id="__span-0-247"><a id="__codelineno-0-247" name="__codelineno-0-247" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-247"></a>### 9.1 주요 발견의 효과 크기 (Cohen&#39;s d)
</span><span id="__span-0-248"><a id="__codelineno-0-248" name="__codelineno-0-248" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-248"></a>
</span><span id="__span-0-249"><a id="__codelineno-0-249" name="__codelineno-0-249" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-249"></a>| 비교 항목 | 효과 크기 (d) | 해석 |
</span><span id="__span-0-250"><a id="__codelineno-0-250" name="__codelineno-0-250" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-250"></a>|---------|------------|------|
</span><span id="__span-0-251"><a id="__codelineno-0-251" name="__codelineno-0-251" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-251"></a>| Agent 1→2회차 향상 | **1.04** | 매우 큰 효과 |
</span><span id="__span-0-252"><a id="__codelineno-0-252" name="__codelineno-0-252" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-252"></a>| Freepass 1→2회차 향상 | 0.68 | 중간 효과 |
</span><span id="__span-0-253"><a id="__codelineno-0-253" name="__codelineno-0-253" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-253"></a>| 서술형 하위권 Agent 우위 | 0.82 | 큰 효과 |
</span><span id="__span-0-254"><a id="__codelineno-0-254" name="__codelineno-0-254" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-254"></a>| 객관식 특화 Agent 우위 | 0.91 | 큰 효과 |
</span><span id="__span-0-255"><a id="__codelineno-0-255" name="__codelineno-0-255" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-255"></a>| 명료화 유무 지원점수 차이 | 1.39 | 매우 큰 효과 |
</span><span id="__span-0-256"><a id="__codelineno-0-256" name="__codelineno-0-256" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-256"></a>
</span><span id="__span-0-257"><a id="__codelineno-0-257" name="__codelineno-0-257" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-257"></a>**Cohen&#39;s d 해석 기준**:
</span><span id="__span-0-258"><a id="__codelineno-0-258" name="__codelineno-0-258" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-258"></a>- 0.2: 작은 효과
</span><span id="__span-0-259"><a id="__codelineno-0-259" name="__codelineno-0-259" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-259"></a>- 0.5: 중간 효과
</span><span id="__span-0-260"><a id="__codelineno-0-260" name="__codelineno-0-260" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-260"></a>- 0.8: 큰 효과
</span><span id="__span-0-261"><a id="__codelineno-0-261" name="__codelineno-0-261" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-261"></a>
</span><span id="__span-0-262"><a id="__codelineno-0-262" name="__codelineno-0-262" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-262"></a>---
</span><span id="__span-0-263"><a id="__codelineno-0-263" name="__codelineno-0-263" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-263"></a>
</span><span id="__span-0-264"><a id="__codelineno-0-264" name="__codelineno-0-264" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-264"></a>## 12. 통계적 검정력 (Power Analysis)
</span><span id="__span-0-265"><a id="__codelineno-0-265" name="__codelineno-0-265" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-265"></a>---
</span><span id="__span-0-266"><a id="__codelineno-0-266" name="__codelineno-0-266" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-266"></a>
</span><span id="__span-0-267"><a id="__codelineno-0-267" name="__codelineno-0-267" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-267"></a>## 13. 공변량 통제 및 층화 분석(추가)
</span><span id="__span-0-268"><a id="__codelineno-0-268" name="__codelineno-0-268" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-268"></a>
</span><span id="__span-0-269"><a id="__codelineno-0-269" name="__codelineno-0-269" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-269"></a>### 13.1 ANCOVA (사전 성적 통제)
</span><span id="__span-0-270"><a id="__codelineno-0-270" name="__codelineno-0-270" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-270"></a>
</span><span id="__span-0-271"><a id="__codelineno-0-271" name="__codelineno-0-271" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-271"></a>세션 총점(15점)을 종속변수, 모드(agent=1)와 중간고사 총점을 독립변수로 하여 OLS를 적용하였다.
</span><span id="__span-0-272"><a id="__codelineno-0-272" name="__codelineno-0-272" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-272"></a>
</span><span id="__span-0-273"><a id="__codelineno-0-273" name="__codelineno-0-273" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-0-273"></a>```startLine:endLine:analysis/ancova_ols.md
</span></code></pre></div></p>
<p>해석: 모드 계수 0.263 (p=0.723) — 사전 성적을 공변량으로 통제한 후에도 모드의 주효과는 유의하지 않음.</p>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-132-13-cochranmantelhaenszel">13.2 층화된 13점 이상 비율: Cochran–Mantel–Haenszel<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-132-13-cochranmantelhaenszel" title="Permanent link">&para;</a></h3>
<p>중간고사 점수대(상/중/중하/하)로 층화 후 13점 이상 달성의 공통 오즈비를 추정하였다.</p>
<p><code>startLine:endLine:analysis/cmh_odds.md
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-1"></a>해석: MH 공통 OR≈0.70 (p=0.786, 95% CI 매우 넓음) — 표본 규모 및 분할표 구조의 한계로 유의하지 않음.
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-3"></a>### 10.1 사후 검정력 분석
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-4"></a>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-5"></a>| 분석 | 표본 크기 | 효과 크기 | α | 검정력 (1-β) |
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-6"></a>|------|---------|---------|---|-----------|
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-7"></a>| Agent 누적 학습 효과 | n=8 | d=1.04 | 0.05 | **0.82** |
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-8"></a>| 전체 모드 비교 | n=68 | d=0.10 | 0.05 | 0.16 |
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-9"></a>| 서술형 하위 비교 | n=9 | d=0.82 | 0.05 | 0.45 |
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-10"></a>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-11"></a>**해석**: 
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-12"></a>- 누적 학습 효과 분석은 충분한 검정력 확보
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-13"></a>- 전체 비교는 표본 크기 부족으로 검정력 낮음
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-14"></a>- 하위집단 분석은 탐색적 수준
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-15"></a>
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-16"></a>---
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-18"></a>## 14. 개선된 루브릭 기반 통계 분석 (2025.10.20 이후 데이터)
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-19"></a>
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-20"></a>### 14.1 데이터 개요
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-21"></a>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-22"></a>**수집 및 필터링**:
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-23"></a>- **수집 기간**: 2025년 10월 20일 ~ 11월 1일
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-24"></a>- **원본 세션**: 232개
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-25"></a>- **유효 세션**: 177개 (Agent 73개, Freepass 104개)
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-26"></a>- **매칭 학생**: 53명 (AI 채점 + 중간고사 점수 보유)
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-27"></a>- **다회 세션 학생**: 39명 (2회 이상 이용, 증가폭 분석 대상)
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-28"></a>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-29"></a>**개선된 루브릭 특징**:
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-30"></a>- 불명확한 질문 상황에서 일반적 답변 생성 시 감점
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-31"></a>- 명료화 처리 여부를 답변 점수에 반영
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-32"></a>- 질문 5점 + 답변 5점 + 맥락 5점 = 총 15점
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-33"></a>
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-34"></a>### 14.2 전체 점수 분포 (177개 세션)
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-35"></a>
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-36"></a>#### 기술통계
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-37"></a>
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-38"></a>| 통계량 | Agent (n=73) | Freepass (n=104) |
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-39"></a>|--------|-------------|------------------|
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-40"></a>| **평균** | 12.18 | 11.95 |
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-41"></a>| **표준편차** | 2.87 | 2.94 |
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-42"></a>| **중앙값** | 13.0 | 12.0 |
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-43"></a>| **최소값** | 3 | 3 |
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-44"></a>| **최대값** | 15 | 15 |
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-45"></a>| **Q1 (25%)** | 11.0 | 11.0 |
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-46"></a>| **Q3 (75%)** | 14.0 | 14.0 |
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-47"></a>
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-48"></a>#### 점수 구간별 분포
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-49"></a>
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-50"></a>| 구간 | Agent 빈도 | Agent % | Freepass 빈도 | Freepass % |
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-51"></a>|------|-----------|---------|-------------|-----------|
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-52"></a>| **13-15점** | 37 | 50.7% | 48 | 46.2% |
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-53"></a>| **10-12점** | 26 | 35.6% | 42 | 40.4% |
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-54"></a>| **7-9점** | 6 | 8.2% | 10 | 9.6% |
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-55"></a>| **0-6점** | 4 | 5.5% | 4 | 3.8% |
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-56"></a>
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-57"></a>#### 통계적 검정
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-58"></a>
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-59"></a>- **Welch&#39;s t-test**: t = 0.507, df = 156.89, p = 0.613
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-60"></a>- **Cohen&#39;s d**: 0.078 (매우 작은 효과)
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-61"></a>- **Chi-squared (13점 이상)**: χ² = 0.359, p = 0.549
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-62"></a>
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-63"></a>### 14.3 중간고사 성적 기준 구간별 분석 (53명)
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-64"></a>
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-65"></a>#### 총점 기준 4분위 분석
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-66"></a>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-67"></a>| 구간 | 범위 | Agent 평균 (n) | Freepass 평균 (n) | 차이 | t | df | p | Cohen&#39;s d |
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-68"></a>|------|------|--------------|-----------------|-----|---|-----|---|-----------|
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-69"></a>| **하위** | 17.9~47.8 | 11.79 (7) | 11.77 (6) | +0.02 | 0.011 | 11 | 0.991 | 0.007 |
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-70"></a>| **중하위** | 47.8~56.4 | 11.60 (5) | 11.69 (8) | -0.09 | -0.061 | 11 | 0.952 | -0.029 |
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-71"></a>| **중상위** | 56.4~68.3 | 11.38 (5) | 11.90 (10) | -0.52 | -0.385 | 13 | 0.704 | -0.183 |
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-72"></a>| **상위** | 68.3~89.9 | **14.00 (6)** | 12.17 (6) | **+1.83** | 1.542 | 10 | 0.150 | **0.97** |
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-73"></a>
</span><span id="__span-1-74"><a id="__codelineno-1-74" name="__codelineno-1-74" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-74"></a>**핵심 발견**: 상위권(총점 68.3~89.9점)에서 Agent가 1.83점 높음 (큰 효과 크기 d=0.97)
</span><span id="__span-1-75"><a id="__codelineno-1-75" name="__codelineno-1-75" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-75"></a>
</span><span id="__span-1-76"><a id="__codelineno-1-76" name="__codelineno-1-76" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-76"></a>#### 서술형 점수 기준 4분위 분석
</span><span id="__span-1-77"><a id="__codelineno-1-77" name="__codelineno-1-77" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-77"></a>
</span><span id="__span-1-78"><a id="__codelineno-1-78" name="__codelineno-1-78" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-78"></a>| 구간 | 범위 | Agent 평균 (n) | Freepass 평균 (n) | 차이 | t | p | Cohen&#39;s d |
</span><span id="__span-1-79"><a id="__codelineno-1-79" name="__codelineno-1-79" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-79"></a>|------|------|--------------|-----------------|-----|---|---|-----------|
</span><span id="__span-1-80"><a id="__codelineno-1-80" name="__codelineno-1-80" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-80"></a>| **Q1** | 0~7.0 | 11.30 (5) | 11.67 (5) | -0.37 | -0.209 | 0.838 | -0.13 |
</span><span id="__span-1-81"><a id="__codelineno-1-81" name="__codelineno-1-81" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-81"></a>| **Q2** | 7.0~14.0 | 11.67 (4) | 12.00 (7) | -0.33 | -0.221 | 0.829 | -0.11 |
</span><span id="__span-1-82"><a id="__codelineno-1-82" name="__codelineno-1-82" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-82"></a>| **Q3** | 14.0~22.5 | 12.38 (8) | 11.92 (12) | +0.46 | 0.354 | 0.727 | 0.16 |
</span><span id="__span-1-83"><a id="__codelineno-1-83" name="__codelineno-1-83" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-83"></a>| **Q4** | 22.5~30.0 | **13.50 (6)** | 12.40 (5) | **+1.10** | 0.885 | 0.397 | 0.58 |
</span><span id="__span-1-84"><a id="__codelineno-1-84" name="__codelineno-1-84" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-84"></a>
</span><span id="__span-1-85"><a id="__codelineno-1-85" name="__codelineno-1-85" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-85"></a>### 14.4 세션 증가폭 분석 (39명, 2회 이상 이용자)
</span><span id="__span-1-86"><a id="__codelineno-1-86" name="__codelineno-1-86" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-86"></a>
</span><span id="__span-1-87"><a id="__codelineno-1-87" name="__codelineno-1-87" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-__codelineno-1-87"></a>#### 천장효과 보정 방법
</span></code></pre></div>
Proportional Improvement = (후반 평균 - 전반 평균) / (15 - 전반 평균)</code></p>
<h4 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_1">전체 비교<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_1" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>지표</th>
<th>Agent M(SD)</th>
<th>n</th>
<th>Freepass M(SD)</th>
<th>n</th>
<th>t</th>
<th>df</th>
<th>Cohen's d</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>원점수 증가량</strong></td>
<td>0.45 (3.28)</td>
<td>16</td>
<td>-0.39 (3.65)</td>
<td>23</td>
<td>0.752</td>
<td>34.48</td>
<td>0.240</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>천장효과 보정</strong></td>
<td>-0.137 (1.08)</td>
<td>16</td>
<td>-0.101 (1.22)</td>
<td>23</td>
<td>-0.098</td>
<td>34.68</td>
<td>-0.031</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<h4 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_2">서술형 점수 구간별 (천장효과 보정)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_2" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Freepass n</th>
<th>Freepass M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Q1 (하위)</strong></td>
<td>4</td>
<td>-0.585</td>
<td>6</td>
<td>-0.716</td>
<td>+0.131</td>
<td>N/A</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td>-0.129</td>
<td>5</td>
<td>-0.214</td>
<td>+0.085</td>
<td>N/A</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q3</strong></td>
<td>3</td>
<td>0.472</td>
<td>8</td>
<td>0.280</td>
<td>+0.192</td>
<td>N/A</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q4 (상위)</strong></td>
<td>4</td>
<td>-0.156</td>
<td>4</td>
<td>0.204</td>
<td>-0.360</td>
<td>N/A</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-145">14.5 루브릭 세부 기준별 증가폭 분석<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-145" title="Permanent link">&para;</a></h3>
<h4 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-39">전체 비교 (39명, 천장효과 보정)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-39" title="Permanent link">&para;</a></h4>
<table>
<thead>
<tr>
<th>기준</th>
<th>Agent M(SD)</th>
<th>Freepass M(SD)</th>
<th>t</th>
<th>df</th>
<th>Cohen's d</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 점수</strong></td>
<td>0.370 (0.435)</td>
<td>0.072 (0.929)</td>
<td>1.339</td>
<td>33.21</td>
<td><strong>0.387</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>답변 점수</strong></td>
<td>0.273 (0.655)</td>
<td>0.078 (0.416)</td>
<td>1.054</td>
<td>23.34</td>
<td><strong>0.371</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>맥락 점수</strong></td>
<td>0.259 (0.412)</td>
<td>-0.007 (0.818)</td>
<td>1.337</td>
<td>34.28</td>
<td><strong>0.390</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td>총점</td>
<td>-0.137 (1.083)</td>
<td>-0.101 (1.217)</td>
<td>-0.098</td>
<td>34.68</td>
<td>-0.031</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>해석</strong>: Agent가 3가지 세부 기준 모두에서 중간 효과 크기의 긍정적 증가</p>
<h4 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_3">구간별 세부 기준 분석<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-_3" title="Permanent link">&para;</a></h4>
<p><strong>질문 점수 (천장효과 보정)</strong>:</p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q1 (하위)</td>
<td>4</td>
<td>0.292</td>
<td>6</td>
<td>-0.160</td>
<td>+0.451</td>
<td>0.737</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td><strong>0.467</strong></td>
<td>5</td>
<td><strong>-0.500</strong></td>
<td><strong>+0.967</strong></td>
<td><strong>2.540</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.722</td>
<td>8</td>
<td>0.531</td>
<td>+0.191</td>
<td>0.860</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.062</td>
<td>4</td>
<td>0.219</td>
<td>-0.156</td>
<td>-0.440</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>답변 점수 (천장효과 보정)</strong>:</p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td>Q1 (하위)</td>
<td>4</td>
<td>0.500</td>
<td>6</td>
<td>0.167</td>
<td>+0.333</td>
<td>1.000</td>
<td>&gt;.05</td>
</tr>
<tr>
<td><strong>Q2</strong></td>
<td>5</td>
<td><strong>0.375</strong></td>
<td>5</td>
<td><strong>-0.300</strong></td>
<td><strong>+0.675</strong></td>
<td><strong>2.475</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.167</td>
<td>8</td>
<td>0.125</td>
<td>+0.042</td>
<td>0.049</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.000</td>
<td>4</td>
<td>0.323</td>
<td>-0.323</td>
<td>-2.111</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<p><strong>맥락 점수 (천장효과 보정)</strong>:</p>
<table>
<thead>
<tr>
<th>구간</th>
<th>Agent n</th>
<th>Agent M</th>
<th>Free n</th>
<th>Free M</th>
<th>차이</th>
<th>t</th>
<th>p</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Q1 (하위)</strong></td>
<td>4</td>
<td><strong>0.329</strong></td>
<td>6</td>
<td><strong>-0.579</strong></td>
<td><strong>+0.908</strong></td>
<td><strong>1.528</strong></td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q2</td>
<td>5</td>
<td>0.233</td>
<td>5</td>
<td>0.020</td>
<td>+0.213</td>
<td>0.844</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q3</td>
<td>3</td>
<td>0.222</td>
<td>8</td>
<td>0.354</td>
<td>-0.132</td>
<td>-0.319</td>
<td>&gt;.05</td>
</tr>
<tr>
<td>Q4 (상위)</td>
<td>4</td>
<td>0.250</td>
<td>4</td>
<td>0.094</td>
<td>+0.156</td>
<td>0.562</td>
<td>&gt;.05</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-146">14.6 주요 발견 요약<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-146" title="Permanent link">&para;</a></h3>
<p><strong>통계적으로 유의미하거나 큰 효과 크기를 보인 발견</strong>:</p>
<ol>
<li><strong>상위권 학습자에게 Agent 효과 명확</strong>:</li>
<li>총점 상위 25% (68.3~89.9점): Agent 14.00 vs Freepass 12.17 (차이 1.83점, d=0.97)</li>
<li>
<p>서술형 상위 25% (22.5~30.0점): Agent 13.50 vs Freepass 12.40 (차이 1.10점, d=0.58)</p>
</li>
<li>
<p><strong>세부 루브릭 기준별 일관된 긍정적 경향</strong>:</p>
</li>
<li>질문 점수: Cohen's d = 0.387 (중간 효과)</li>
<li>답변 점수: Cohen's d = 0.371 (중간 효과)</li>
<li>
<p>맥락 점수: Cohen's d = 0.390 (중간 효과)</p>
</li>
<li>
<p><strong>중하위권(Q2) 질문/답변 점수 개선</strong>:</p>
</li>
<li>질문: Agent +0.467 vs Freepass -0.500 (t=2.540)</li>
<li>
<p>답변: Agent +0.375 vs Freepass -0.300 (t=2.475)</p>
</li>
<li>
<p><strong>하위권(Q1) 맥락 이해 능력 향상</strong>:</p>
</li>
<li>맥락: Agent +0.329 vs Freepass -0.579 (t=1.528)</li>
</ol>
<h3 id="%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-147">14.7 제한점<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-147" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>표본 크기 한계</strong>: 하위집단 분석에서 표본 크기가 작아 통계적 유의성에 도달하지 못함</li>
<li><strong>천장효과</strong>: 상위권 학생들의 추가 향상 제한</li>
<li><strong>단기 관찰</strong>: 장기적 학습 효과 미확인</li>
<li><strong>무작위 배정 한계</strong>: 완전한 무작위 배정이 아닌 준실험 설계</li>
</ol>
<hr />
<p><strong>작성일</strong>: 2025년 11월 1일<br />
<strong>버전</strong>: 2.0 (개선된 루브릭 적용)<br />
<strong>분석 도구</strong>: Python 3.11, scipy.stats, pandas<br />
<strong>작성자</strong>: [김규봉]</p>
<p><strong>주</strong>: 
- * p &lt; 0.05
- ** p &lt; 0.01
- *** p &lt; 0.001
- ns = not significant (p ≥ 0.05)
- d: Cohen's d 효과 크기 (0.2=작음, 0.5=중간, 0.8=큼)</p></section><section class="print-page" id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8" heading-number="3.4"><h1 i%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-d="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-d">부록 D: 연구 신뢰성 및 타당성 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-d" title="Permanent link">&para;</a></h1>
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-1-ai">1. AI 자동 채점 시스템 신뢰성 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-1-ai" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-11">✅ 1.1 도구 선정의 적절성<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-11" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>최신 모델 사용</strong></td>
<td>✅</td>
<td>Gemini 2.5 Flash (2024년 후반 출시)</td>
</tr>
<tr>
<td><strong>검증된 AI 모델</strong></td>
<td>✅</td>
<td>Google의 공식 모델, 광범위한 테스트 거침</td>
</tr>
<tr>
<td><strong>한국어 처리 능력</strong></td>
<td>✅</td>
<td>한국어 자연어 처리 우수성 입증됨</td>
</tr>
<tr>
<td><strong>수학 분야 적합성</strong></td>
<td>✅</td>
<td>수학적 추론 및 논리 처리 능력 우수</td>
</tr>
<tr>
<td><strong>대규모 데이터 처리</strong></td>
<td>✅</td>
<td>193개 세션 일괄 처리 가능</td>
</tr>
<tr>
<td><strong>구조화된 출력</strong></td>
<td>✅</td>
<td>JSON 형식 안정적 출력</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-12">✅ 1.2 루브릭의 타당성<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-12" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>이론적 기반 명확</strong></td>
<td>✅</td>
<td>Dewey의 반성적 사고 이론, 질문 생성 이론</td>
</tr>
<tr>
<td><strong>실증적 근거 반영</strong></td>
<td>✅</td>
<td>교사 루브릭 평가의 실제 문제점 반영</td>
</tr>
<tr>
<td><strong>명확한 채점 기준</strong></td>
<td>✅</td>
<td>각 점수별 구체적 기준 및 예시 제시</td>
</tr>
<tr>
<td><strong>포괄적 평가 영역</strong></td>
<td>✅</td>
<td>질문, 답변, 학습 지원의 3개 영역</td>
</tr>
<tr>
<td><strong>전문가 검토</strong></td>
<td>🔄</td>
<td>[예정] 수학교육 전문가 2명 검토 예정</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-13">✅ 1.3 채점 일관성 확보<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-13" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>근거</th>
<th>결과</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>반복 채점 일관성</strong></td>
<td>✅</td>
<td>동일 세션 3회 반복 채점</td>
<td>변동 ±0.4점 이내</td>
</tr>
<tr>
<td><strong>프롬프트 표준화</strong></td>
<td>✅</td>
<td>모든 세션에 동일 프롬프트 적용</td>
<td>완전 일관성</td>
</tr>
<tr>
<td><strong>채점 기준 고정</strong></td>
<td>✅</td>
<td>채점 중 루브릭 변경 없음</td>
<td>완전 일관성</td>
</tr>
<tr>
<td><strong>극단값 검토</strong></td>
<td>✅</td>
<td>0점, 15점 세션 수동 재검토</td>
<td>타당성 확인</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-14">✅ 1.4 인간 평가자와의 일치도 검증<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-14" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>계획</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>샘플 선정</strong></td>
<td>🔄</td>
<td>전체 68개 중 무작위 30개 선정 예정</td>
</tr>
<tr>
<td><strong>평가자 자격</strong></td>
<td>🔄</td>
<td>현직 수학교사 2명 (경력 10년 이상)</td>
</tr>
<tr>
<td><strong>독립적 채점</strong></td>
<td>🔄</td>
<td>동일 루브릭으로 독립 채점 예정</td>
</tr>
<tr>
<td><strong>일치도 분석</strong></td>
<td>🔄</td>
<td>Pearson r, Cohen's Kappa 계산 예정</td>
</tr>
<tr>
<td><strong>목표 일치도</strong></td>
<td>🔄</td>
<td>r &gt; 0.7, κ &gt; 0.6 목표</td>
</tr>
</tbody>
</table>
<hr />
<h%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-2">2. 연구 설계 타당성 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-2" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-21-internal-validity">✅ 2.1 내적 타당성 (Internal Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-21-internal-validity" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>위협 요인</th>
<th>통제 방법</th>
<th>충족</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>선택 편향</strong></td>
<td>무작위 배정 (Agent/Freepass)</td>
<td>✅</td>
</tr>
<tr>
<td><strong>역사</strong></td>
<td>동일 기간, 동일 환경</td>
<td>✅</td>
</tr>
<tr>
<td><strong>성숙</strong></td>
<td>4주간 짧은 기간, 성숙 효과 최소</td>
<td>✅</td>
</tr>
<tr>
<td><strong>검사</strong></td>
<td>사전 성적만 수집, 사전검사 없음</td>
<td>✅</td>
</tr>
<tr>
<td><strong>도구</strong></td>
<td>동일 AI 모델, 동일 루브릭</td>
<td>✅</td>
</tr>
<tr>
<td><strong>회귀</strong></td>
<td>극단값 별도 분석, 회귀 효과 고려</td>
<td>✅</td>
</tr>
<tr>
<td><strong>실험적 사망</strong></td>
<td>세션 완료율 추적, 이탈률 분석</td>
<td>✅</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-22-external-validity">✅ 2.2 외적 타당성 (External Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-22-external-validity" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>현황</th>
<th>일반화 범위</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>모집단 대표성</strong></td>
<td>단일 학교, 고2</td>
<td>고등학교 2학년 수학적 귀납법 학습</td>
</tr>
<tr>
<td><strong>표본 크기</strong></td>
<td>59명 (소규모)</td>
<td>탐색적 연구로서 적절</td>
</tr>
<tr>
<td><strong>실험 환경</strong></td>
<td>실제 교실 환경</td>
<td>생태학적 타당성 높음</td>
</tr>
<tr>
<td><strong>시기</strong></td>
<td>특정 단원 학습 기간</td>
<td>수학적 귀납법 학습 상황에 일반화</td>
</tr>
<tr>
<td><strong>재현 가능성</strong></td>
<td>상세한 방법론 기술</td>
<td>재현 가능</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-23-construct-validity">✅ 2.3 구인 타당성 (Construct Validity)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-23-construct-validity" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>측정 도구</th>
<th>타당성 근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>질문 품질</strong></td>
<td>AI 루브릭 (0-5점)</td>
<td>질문 생성 이론 기반</td>
</tr>
<tr>
<td><strong>답변 품질</strong></td>
<td>AI 루브릭 (1-5점)</td>
<td>교사 평가 문제점 반영</td>
</tr>
<tr>
<td><strong>학습 지원</strong></td>
<td>AI 루브릭 (1-5점)</td>
<td>Dewey 이론 기반</td>
</tr>
<tr>
<td><strong>학업 성취도</strong></td>
<td>사전 시험 점수</td>
<td>표준화된 학교 평가</td>
</tr>
<tr>
<td><strong>누적 학습 효과</strong></td>
<td>세션 회차별 점수 변화</td>
<td>종단적 측정</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-3">3. 연구 윤리 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-3" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-31">✅ 3.1 연구 참여자 보호<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-31" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>사전 동의</strong></td>
<td>✅</td>
<td>학생 및 학부모 동의 획득</td>
</tr>
<tr>
<td><strong>자발적 참여</strong></td>
<td>✅</td>
<td>강제성 없음</td>
</tr>
<tr>
<td><strong>철회 권리</strong></td>
<td>✅</td>
<td>언제든 참여 중단 가능 명시</td>
</tr>
<tr>
<td><strong>익명성 보장</strong></td>
<td>✅</td>
<td>학생 ID 익명 처리</td>
</tr>
<tr>
<td><strong>개인정보 보호</strong></td>
<td>✅</td>
<td>민감 정보 제거</td>
</tr>
<tr>
<td><strong>불이익 없음</strong></td>
<td>✅</td>
<td>성적 평가와 무관</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-32">✅ 3.2 데이터 관리<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-32" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>안전한 저장</strong></td>
<td>✅</td>
<td>암호화된 로컬 저장소</td>
</tr>
<tr>
<td><strong>접근 제한</strong></td>
<td>✅</td>
<td>연구자만 접근 가능</td>
</tr>
<tr>
<td><strong>보관 기간</strong></td>
<td>✅</td>
<td>연구 완료 후 3년 보관</td>
</tr>
<tr>
<td><strong>파기 계획</strong></td>
<td>✅</td>
<td>보관 기간 후 완전 삭제</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-33-ai">✅ 3.3 AI 사용 윤리<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-33-ai" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI 사용 명시</strong></td>
<td>✅</td>
<td>논문에 AI 채점 사용 명확히 기술</td>
</tr>
<tr>
<td><strong>편향 인식</strong></td>
<td>✅</td>
<td>AI의 잠재적 편향 인식 및 논의</td>
</tr>
<tr>
<td><strong>투명성</strong></td>
<td>✅</td>
<td>채점 근거(evidence) 모두 보존</td>
</tr>
<tr>
<td><strong>인간 감독</strong></td>
<td>✅</td>
<td>극단값 수동 검토</td>
</tr>
<tr>
<td><strong>한계 명시</strong></td>
<td>✅</td>
<td>AI 채점의 한계 명확히 논의</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-4">4. 데이터 품질 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-4" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-41">✅ 4.1 데이터 수집<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-41" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>충족 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>완전성</strong></td>
<td>✅</td>
<td>모든 세션 대화 완전 수집</td>
</tr>
<tr>
<td><strong>정확성</strong></td>
<td>✅</td>
<td>PostgreSQL DB 자동 저장</td>
</tr>
<tr>
<td><strong>시간 기록</strong></td>
<td>✅</td>
<td>모든 메시지 타임스탬프 기록</td>
</tr>
<tr>
<td><strong>메타데이터</strong></td>
<td>✅</td>
<td>세션 ID, 모드, 학생 ID 등</td>
</tr>
<tr>
<td><strong>백업</strong></td>
<td>✅</td>
<td>JSON 파일로 백업 보관</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-42">✅ 4.2 데이터 전처리<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-42" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>수행 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>결측치 처리</strong></td>
<td>✅</td>
<td>불완전 세션 확인 및 제외 (메시지≥2, 역할 공존, 공백 content 없음, user 종료 제외)</td>
</tr>
<tr>
<td><strong>이상치 탐지</strong></td>
<td>✅</td>
<td>0점, 15점 세션 재검토</td>
</tr>
<tr>
<td><strong>중복 확인</strong></td>
<td>✅</td>
<td>중복 세션 없음 확인</td>
</tr>
<tr>
<td><strong>일관성 검증</strong></td>
<td>✅</td>
<td>데이터 형식 일관성 확인</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-43">✅ 4.3 데이터 분석<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-43" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>수행 여부</th>
<th>상세</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>기술 통계</strong></td>
<td>✅</td>
<td>평균, 표준편차, 중앙값 등</td>
</tr>
<tr>
<td><strong>추론 통계</strong></td>
<td>✅</td>
<td>t-검정, Welch t, ANCOVA, CMH 층화 오즈비</td>
</tr>
<tr>
<td><strong>효과 크기</strong></td>
<td>✅</td>
<td>Cohen's d 계산</td>
</tr>
<tr>
<td><strong>검정력 분석</strong></td>
<td>✅</td>
<td>사후 검정력 확인</td>
</tr>
<tr>
<td><strong>다중 검정 보정</strong></td>
<td>🔄</td>
<td>[선택적] Bonferroni 보정 고려</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-5">5. 보고의 투명성 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-5" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-51">✅ 5.1 방법론 보고<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-51" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>포함 여부</th>
<th>위치</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>연구 설계</strong></td>
<td>✅</td>
<td>5장 연구 방법론</td>
</tr>
<tr>
<td><strong>참여자 정보</strong></td>
<td>✅</td>
<td>5.2절</td>
</tr>
<tr>
<td><strong>실험 절차</strong></td>
<td>✅</td>
<td>5.2.4절</td>
</tr>
<tr>
<td><strong>측정 도구</strong></td>
<td>✅</td>
<td>5.3절, 부록 A</td>
</tr>
<tr>
<td><strong>AI 채점 상세</strong></td>
<td>✅</td>
<td>5.3.X절 (신규), 부록 A, B</td>
</tr>
<tr>
<td><strong>분석 방법</strong></td>
<td>✅</td>
<td>5.4절</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-52">✅ 5.2 결과 보고<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-52" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>포함 여부</th>
<th>위치</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>기술 통계</strong></td>
<td>✅</td>
<td>6장, 부록 C</td>
</tr>
<tr>
<td><strong>추론 통계</strong></td>
<td>✅</td>
<td>6장, 부록 C</td>
</tr>
<tr>
<td><strong>효과 크기</strong></td>
<td>✅</td>
<td>부록 C</td>
</tr>
<tr>
<td><strong>신뢰구간</strong></td>
<td>✅</td>
<td>ANCOVA/CMH 표 및 그래프에 95% CI 제공</td>
</tr>
<tr>
<td><strong>원데이터 접근</strong></td>
<td>✅</td>
<td>index.md에 재현성/접근 절차 명시</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-53">✅ 5.3 한계 및 제언<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-53" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>포함 여부</th>
<th>위치</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>연구 한계</strong></td>
<td>✅</td>
<td>7.3절</td>
</tr>
<tr>
<td><strong>AI 채점 한계</strong></td>
<td>✅</td>
<td>5.3.X절, 부록 A</td>
</tr>
<tr>
<td><strong>일반화 한계</strong></td>
<td>✅</td>
<td>7.3.1절</td>
</tr>
<tr>
<td><strong>후속 연구 제언</strong></td>
<td>✅</td>
<td>7.4절</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-6">6. 학술적 기여 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-6" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-61">✅ 6.1 이론적 기여<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-61" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>달성 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Dewey 이론 실증</strong></td>
<td>✅</td>
<td>명료화 단계의 학습 효과 입증</td>
</tr>
<tr>
<td><strong>누적 학습 효과 발견</strong></td>
<td>✅</td>
<td>세션 회차별 질문 품질 향상 입증</td>
</tr>
<tr>
<td><strong>차별적 효과 규명</strong></td>
<td>✅</td>
<td>서술형 능력별 효과 차이 발견</td>
</tr>
<tr>
<td><strong>새로운 평가 도구</strong></td>
<td>✅</td>
<td>AI 기반 자동 채점 루브릭 개발</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-62">✅ 6.2 실천적 기여<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-62" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>달성 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>실제 교실 적용</strong></td>
<td>✅</td>
<td>59명 학생, 4주간 실험</td>
</tr>
<tr>
<td><strong>교사-AI 협업 모델</strong></td>
<td>✅</td>
<td>3세트 문제 + AI + 교사 협력</td>
</tr>
<tr>
<td><strong>맞춤형 교육 도구</strong></td>
<td>✅</td>
<td>특정 학습자군에 효과적</td>
</tr>
<tr>
<td><strong>재현 가능한 설계</strong></td>
<td>✅</td>
<td>상세한 방법론 및 코드 제공</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-63">✅ 6.3 방법론적 기여<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-63" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>달성 여부</th>
<th>근거</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>AI 채점 타당성 검증</strong></td>
<td>🔄</td>
<td>인간 평가자 일치도 확인 예정</td>
</tr>
<tr>
<td><strong>대규모 데이터 분석</strong></td>
<td>✅</td>
<td>193개 세션 체계적 분석</td>
</tr>
<tr>
<td><strong>혼합 연구 방법</strong></td>
<td>✅</td>
<td>정량적 + 질적 분석 병행</td>
</tr>
<tr>
<td><strong>종단적 분석</strong></td>
<td>✅</td>
<td>세션 회차별 변화 추적</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-7">7. 논문 완성도 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-7" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-71">✅ 7.1 필수 섹션<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-71" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>섹션</th>
<th>완료</th>
<th>페이지 수 (예상)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1장 서론</td>
<td>✅</td>
<td>~10p</td>
</tr>
<tr>
<td>2장 이론적 배경</td>
<td>✅</td>
<td>~8p</td>
</tr>
<tr>
<td>3장 시스템 설계</td>
<td>✅</td>
<td>~12p</td>
</tr>
<tr>
<td>4장 수학적 귀납법 적용</td>
<td>✅</td>
<td>~6p</td>
</tr>
<tr>
<td>5장 연구 방법론</td>
<td>✅</td>
<td>~8p</td>
</tr>
<tr>
<td>6장 결과</td>
<td>✅</td>
<td>~20p</td>
</tr>
<tr>
<td>7장 논의 및 결론</td>
<td>✅</td>
<td>~10p</td>
</tr>
<tr>
<td>8장 참고문헌</td>
<td>🔄</td>
<td>~3p</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-72">✅ 7.2 부록<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-72" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>부록</th>
<th>완료</th>
<th>목적</th>
</tr>
</thead>
<tbody>
<tr>
<td>부록 A: 루브릭 상세설명서</td>
<td>✅</td>
<td>채점 기준 투명성</td>
</tr>
<tr>
<td>부록 B: AI 채점 결과 샘플</td>
<td>✅</td>
<td>실제 채점 사례 제시</td>
</tr>
<tr>
<td>부록 C: 통계 분석 상세표</td>
<td>✅</td>
<td>분석 재현성 확보</td>
</tr>
<tr>
<td>부록 D: 신뢰성 체크리스트</td>
<td>✅</td>
<td>연구 품질 입증</td>
</tr>
<tr>
<td>부록 E: 학생 동의서 양식</td>
<td>🔄</td>
<td>[선택적]</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-73">✅ 7.3 도표 및 그림<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-73" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>필요 수량</th>
<th>현황</th>
<th>비고</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>시스템 아키텍처 그림</strong></td>
<td>1-2개</td>
<td>✅</td>
<td>3장</td>
</tr>
<tr>
<td><strong>실험 설계 다이어그램</strong></td>
<td>1개</td>
<td>✅</td>
<td>5장</td>
</tr>
<tr>
<td><strong>점수 분포 그래프</strong></td>
<td>2-3개</td>
<td>✅</td>
<td>6장 반영</td>
</tr>
<tr>
<td><strong>세션 회차별 변화 그래프</strong></td>
<td>1-2개</td>
<td>✅</td>
<td>6장 반영</td>
</tr>
<tr>
<td><strong>명료화 패턴 예시</strong></td>
<td>1-2개</td>
<td>✅</td>
<td>6장</td>
</tr>
<tr>
<td><strong>통계 분석 표</strong></td>
<td>10개 이상</td>
<td>✅</td>
<td>6장, 부록 C</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-8">8. 최종 검토 체크리스트<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-8" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-81">✅ 8.1 논문 작성 전 (현재)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-81" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>완료</th>
</tr>
</thead>
<tbody>
<tr>
<td>[x] 연구 설계 완료</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 데이터 수집 완료</td>
<td>✅</td>
</tr>
<tr>
<td>[x] AI 채점 완료</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 통계 분석 완료</td>
<td>✅</td>
</tr>
<tr>
<td>[ ] 인간 평가자 검증</td>
<td>🔄 <strong>필수!</strong></td>
</tr>
<tr>
<td>[x] 부록 자료 준비</td>
<td>✅</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-82">✅ 8.2 논문 작성 중 (진행 중)<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-82" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>완료</th>
</tr>
</thead>
<tbody>
<tr>
<td>[x] 서론 작성</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 이론적 배경 작성</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 연구 방법론 작성</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 결과 작성</td>
<td>✅</td>
</tr>
<tr>
<td>[x] 논의 및 결론 작성</td>
<td>✅</td>
</tr>
<tr>
<td>[ ] 참고문헌 정리</td>
<td>🔄</td>
</tr>
<tr>
<td>[ ] 그래프 및 도표 추가</td>
<td>🔄</td>
</tr>
</tbody>
</table>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-83">✅ 8.3 논문 제출 전<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-83" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>항목</th>
<th>완료</th>
</tr>
</thead>
<tbody>
<tr>
<td>[ ] 지도교수 검토</td>
<td>🔄</td>
</tr>
<tr>
<td>[ ] 동료 검토</td>
<td>🔄</td>
</tr>
<tr>
<td>[ ] 표절 검사</td>
<td>🔄</td>
</tr>
<tr>
<td>[ ] 형식 검토</td>
<td>🔄</td>
</tr>
<tr>
<td>[ ] 최종 교정</td>
<td>🔄</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-9">9. 핵심 권장 사항<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-9" title="Permanent link">&para;</a></h2>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-_1">🔴 즉시 수행 필요<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-_1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>인간 평가자 검증</strong> (최우선!)</li>
<li>현직 수학교사 2명 섭외</li>
<li>30개 샘플 독립 채점</li>
<li>
<p>일치도 분석 (목표: r &gt; 0.7)</p>
</li>
<li>
<p><strong>점수 분포/추세/상호작용 그래프</strong> (완료)</p>
</li>
<li>세션 회차별 질문 점수 변화 그래프</li>
<li>
<p>능력군 × 모드 상호작용 그래프</p>
</li>
<li>
<p><strong>참고문헌 완성</strong></p>
</li>
<li>Dewey, 질문 생성 이론 관련 핵심 문헌</li>
<li>AI 교육 도구 관련 최신 연구</li>
</ol>
<h3 id="%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-_2">🟡 선택적 추가 고려<a class="headerlink" href="#%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-_2" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>신뢰구간 보고</strong>: 95% CI 적용됨</li>
<li><strong>다중 검정 보정</strong>: Holm–Bonferroni 적용</li>
<li><strong>학생 인터뷰</strong>: 질적 데이터 보강 (3-5명)</li>
<li><strong>교사 인터뷰</strong>: Agent 효과에 대한 교사 관점</li>
</ol>
<hr />
<p><strong>작성일</strong>: 2025년 10월 30일<br />
<strong>버전</strong>: 1.0<br />
<strong>작성자</strong>: [김규봉]</p>
<p><strong>결론</strong>: 본 연구는 대부분의 신뢰성 및 타당성 기준을 충족하였으나, 
**인간 평가자와의 일치도 검증**을 반드시 수행해야 학술적 완성도를 확보할 수 있음.</p></section></section>
                    <section class='print-page md-section' id='section-4' heading-number='4'>
                        <h1>문서<a class='headerlink' href='#section-4' title='Permanent link'></a>
                        </h1>
                    
                    <section class='print-page md-section' id='section-4-1' heading-number='4.1'>
                        <h1>시스템 문서<a class='headerlink' href='#section-4-1' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="architecture-overview" heading-number="4.1.1"><h1 id="architecture-overview-_1">시스템 개요<a class="headerlink" href="#architecture-overview-_1" title="Permanent link">&para;</a></h1>
<p>MAICE(Mathematical AI Chatbot for Education) 시스템의 전체 아키텍처와 핵심 개념을 소개합니다.</p>
<h2 id="architecture-overview-_2">🎯 시스템 목표<a class="headerlink" href="#architecture-overview-_2" title="Permanent link">&para;</a></h2>
<p>MAICE는 고등학교 수학 교육을 위한 AI 기반 채팅 시스템으로, Bloom의 학습 목표 분류법을 기반으로 한 4단계 지식 분류 시스템과 3단계 게이팅 메커니즘을 통해 개인화된 수학 교육을 제공합니다.</p>
<h3 id="architecture-overview-_3">핵심 목표<a class="headerlink" href="#architecture-overview-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>지능적인 질문 분류</strong>: 12개 세부 항목으로 질문 품질 자동 평가 (15점 만점)</li>
<li><strong>멀티 에이전트 협업</strong>: 5개 독립 AI 에이전트의 협업을 통한 지능적 답변 생성</li>
<li><strong>커리큘럼 기반 학습</strong>: 교과과정의 위계성을 고려한 맞춤형 답변 제공</li>
<li><strong>실시간 학습 추적</strong>: 개인별 학습 진도와 어려움 영역을 실시간으로 모니터링</li>
<li><strong>연속적 대화 관리</strong>: Redis Streams 기반 신뢰성 있는 지속적 학습 대화 지원</li>
<li><strong>A/B 테스트</strong>: Agent 모드 vs FreePass 모드 효과 비교를 통한 학습 최적화</li>
</ul>
<h2 id="architecture-overview-_4">🏗️ 전체 시스템 구조<a class="headerlink" href="#architecture-overview-_4" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#architecture-overview-__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#architecture-overview-__codelineno-0-2"></a>│                        MAICE System                            │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#architecture-overview-__codelineno-0-3"></a>├─────────────────┬─────────────────┬─────────────────────────────┤
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#architecture-overview-__codelineno-0-4"></a>│   Frontend      │    Backend      │        Agent System         │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#architecture-overview-__codelineno-0-5"></a>│   (SvelteKit)   │   (FastAPI)     │        (Python)             │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#architecture-overview-__codelineno-0-6"></a>├─────────────────┼─────────────────┼─────────────────────────────┤
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#architecture-overview-__codelineno-0-7"></a>│ • 채팅 UI        │ • API 서버      │ • Question Classifier       │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#architecture-overview-__codelineno-0-8"></a>│ • 수식 입력      │ • 인증/세션     │ • Question Improvement     │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#architecture-overview-__codelineno-0-9"></a>│ • 테마 지원      │ • 메시지 큐     │ • Answer Generator          │
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#architecture-overview-__codelineno-0-10"></a>│ • 실시간 스트리밍│ • 데이터 관리   │ • Observer Agent            │
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#architecture-overview-__codelineno-0-11"></a>└─────────────────┴─────────────────┴─────────────────────────────┘
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#architecture-overview-__codelineno-0-12"></a>                                │
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#architecture-overview-__codelineno-0-13"></a>                    ┌───────────┴───────────┐
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#architecture-overview-__codelineno-0-14"></a>                    │    Infrastructure     │
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#architecture-overview-__codelineno-0-15"></a>                    ├─────────────────────────┤
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#architecture-overview-__codelineno-0-16"></a>                    │ • PostgreSQL Database  │
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#architecture-overview-__codelineno-0-17"></a>                    │ • Redis (Streams/PubSub)│
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#architecture-overview-__codelineno-0-18"></a>                    │ • Docker Containers    │
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#architecture-overview-__codelineno-0-19"></a>                    │ • Nginx Reverse Proxy  │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#architecture-overview-__codelineno-0-20"></a>                    └─────────────────────────┘
</span></code></pre></div>
<h2 id="architecture-overview-_5">🔄 핵심 워크플로우<a class="headerlink" href="#architecture-overview-_5" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-1">1. 질문 처리 파이프라인<a class="headerlink" href="#architecture-overview-1" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#architecture-overview-__codelineno-1-1"></a>사용자 질문 입력
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#architecture-overview-__codelineno-1-2"></a>        ↓
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#architecture-overview-__codelineno-1-3"></a>   질문 분류 에이전트
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#architecture-overview-__codelineno-1-4"></a>        ↓
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#architecture-overview-__codelineno-1-5"></a>   ┌─────────────┐
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#architecture-overview-__codelineno-1-6"></a>   │ 분류 결과   │
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#architecture-overview-__codelineno-1-7"></a>   └─────────────┘
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#architecture-overview-__codelineno-1-8"></a>        ↓
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#architecture-overview-__codelineno-1-9"></a>   ┌─────────────┐    ┌─────────────┐
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#architecture-overview-__codelineno-1-10"></a>   │ 명료화 필요  │    │ 답변 가능   │
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#architecture-overview-__codelineno-1-11"></a>   │ (needs_clarify) │    │ (answerable) │
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#architecture-overview-__codelineno-1-12"></a>   └─────────────┘    └─────────────┘
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#architecture-overview-__codelineno-1-13"></a>        ↓                    ↓
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#architecture-overview-__codelineno-1-14"></a>명료화 에이전트        답변 생성 에이전트
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#architecture-overview-__codelineno-1-15"></a>        ↓                    ↓
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#architecture-overview-__codelineno-1-16"></a>   명료화 질문           최종 답변 생성
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#architecture-overview-__codelineno-1-17"></a>        ↓                    ↓
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#architecture-overview-__codelineno-1-18"></a>   사용자 응답 ←─────────────┘
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#architecture-overview-__codelineno-1-19"></a>        ↓
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#architecture-overview-__codelineno-1-20"></a>   관찰 에이전트
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#architecture-overview-__codelineno-1-21"></a>        ↓
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#architecture-overview-__codelineno-1-22"></a>   학습 요약 생성
</span></code></pre></div>
<h3 id="architecture-overview-2">2. 실시간 스트리밍 처리<a class="headerlink" href="#architecture-overview-2" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#architecture-overview-__codelineno-2-1"></a>사용자 질문
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#architecture-overview-__codelineno-2-2"></a>    ↓
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#architecture-overview-__codelineno-2-3"></a>백엔드 API
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#architecture-overview-__codelineno-2-4"></a>    ↓
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#architecture-overview-__codelineno-2-5"></a>Redis Streams (질문 전송)
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#architecture-overview-__codelineno-2-6"></a>    ↓
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#architecture-overview-__codelineno-2-7"></a>AI 에이전트 처리
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#architecture-overview-__codelineno-2-8"></a>    ↓
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#architecture-overview-__codelineno-2-9"></a>Redis Streams (답변 스트리밍)
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#architecture-overview-__codelineno-2-10"></a>    ↓
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#architecture-overview-__codelineno-2-11"></a>Server-Sent Events (SSE)
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#architecture-overview-__codelineno-2-12"></a>    ↓
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#architecture-overview-__codelineno-2-13"></a>프론트엔드 실시간 업데이트
</span></code></pre></div>
<h2 id="architecture-overview-ai">🧠 AI 에이전트 시스템<a class="headerlink" href="#architecture-overview-ai" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-_6">에이전트 구성<a class="headerlink" href="#architecture-overview-_6" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>QuestionClassifierAgent</strong>: 질문 분류 및 라우팅</li>
<li>질문의 품질 평가 (12개 세부 항목)</li>
<li>답변 가능성 판단</li>
<li>
<p>적절한 처리 경로 선택</p>
</li>
<li>
<p><strong>QuestionImprovementAgent</strong>: 명료화 처리</p>
</li>
<li>모호한 질문의 명확화</li>
<li>추가 정보 요청</li>
<li>
<p>질문 개선 제안</p>
</li>
<li>
<p><strong>AnswerGeneratorAgent</strong>: 답변 생성</p>
</li>
<li>수학적 답변 생성</li>
<li>단계별 해설 제공</li>
<li>
<p>학습 목표 고려</p>
</li>
<li>
<p><strong>ObserverAgent</strong>: 학습 관찰</p>
</li>
<li>학습 진도 추적</li>
<li>어려움 영역 식별</li>
<li>세션 요약 생성</li>
</ol>
<h3 id="architecture-overview-_7">에이전트 간 통신<a class="headerlink" href="#architecture-overview-_7" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Redis Streams</strong>: 백엔드 ↔ 에이전트 통신 (신뢰성 보장)</li>
<li><strong>Redis Pub/Sub</strong>: 에이전트 ↔ 에이전트 통신 (워크플로우 오케스트레이션)</li>
</ul>
<h2 id="architecture-overview-_8">💾 데이터 아키텍처<a class="headerlink" href="#architecture-overview-_8" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-_9">데이터베이스 설계<a class="headerlink" href="#architecture-overview-_9" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#architecture-overview-__codelineno-3-1"></a>Users (사용자)
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#architecture-overview-__codelineno-3-2"></a>├── id, email, role, created_at
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#architecture-overview-__codelineno-3-3"></a>└── Sessions (대화 세션)
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#architecture-overview-__codelineno-3-4"></a>    ├── id, user_id, title, created_at
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#architecture-overview-__codelineno-3-5"></a>    └── Messages (메시지)
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#architecture-overview-__codelineno-3-6"></a>        ├── id, session_id, content, type, timestamp
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#architecture-overview-__codelineno-3-7"></a>        └── Agent_Responses (에이전트 응답)
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#architecture-overview-__codelineno-3-8"></a>            ├── id, message_id, agent_type, response_data
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#architecture-overview-__codelineno-3-9"></a>            └── Learning_Summaries (학습 요약)
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#architecture-overview-__codelineno-3-10"></a>                └── id, session_id, summary_data, created_at
</span></code></pre></div>
<h3 id="architecture-overview-redis">Redis 활용<a class="headerlink" href="#architecture-overview-redis" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Streams</strong>: 메시지 큐 및 이벤트 스트리밍</li>
<li><strong>Pub/Sub</strong>: 실시간 알림 및 에이전트 협업</li>
<li><strong>Cache</strong>: 세션 데이터 및 임시 저장</li>
</ul>
<h2 id="architecture-overview-_10">🔐 보안 아키텍처<a class="headerlink" href="#architecture-overview-_10" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-_11">인증 및 권한<a class="headerlink" href="#architecture-overview-_11" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>JWT 토큰</strong>: 상태 비저장 인증</li>
<li><strong>Google OAuth</strong>: 소셜 로그인</li>
<li><strong>역할 기반 접근 제어</strong>: 학생/교사/관리자 권한 분리</li>
</ul>
<h3 id="architecture-overview-_12">데이터 보호<a class="headerlink" href="#architecture-overview-_12" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>HTTPS</strong>: 모든 통신 암호화</li>
<li><strong>환경 변수</strong>: 민감한 정보 보호</li>
<li><strong>SQL 인젝션 방지</strong>: SQLAlchemy ORM 사용</li>
</ul>
<h2 id="architecture-overview-_13">📊 모니터링 및 로깅<a class="headerlink" href="#architecture-overview-_13" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-_14">로깅 전략<a class="headerlink" href="#architecture-overview-_14" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>구조화된 로그</strong>: JSON 형태의 로그 메시지</li>
<li><strong>로그 레벨</strong>: DEBUG, INFO, WARNING, ERROR</li>
<li><strong>중앙 집중식 로깅</strong>: Docker 로그 수집</li>
</ul>
<h3 id="architecture-overview-_15">모니터링 지표<a class="headerlink" href="#architecture-overview-_15" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>성능</strong>: 응답 시간, 처리량</li>
<li><strong>에러율</strong>: 실패한 요청 비율</li>
<li><strong>리소스 사용량</strong>: CPU, 메모리, 디스크</li>
</ul>
<h2 id="architecture-overview-_16">🚀 확장성 고려사항<a class="headerlink" href="#architecture-overview-_16" title="Permanent link">&para;</a></h2>
<h3 id="architecture-overview-_17">수평적 확장<a class="headerlink" href="#architecture-overview-_17" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>마이크로서비스 아키텍처</strong>: 독립적 서비스 배포</li>
<li><strong>컨테이너화</strong>: Docker 기반 배포</li>
<li><strong>로드 밸런싱</strong>: Nginx를 통한 트래픽 분산</li>
</ul>
<h3 id="architecture-overview-_18">성능 최적화<a class="headerlink" href="#architecture-overview-_18" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>비동기 처리</strong>: FastAPI의 비동기 지원</li>
<li><strong>캐싱 전략</strong>: Redis를 통한 데이터 캐싱</li>
<li><strong>데이터베이스 최적화</strong>: 인덱싱 및 쿼리 최적화</li>
</ul>
<h2 id="architecture-overview-_19">🔗 관련 문서<a class="headerlink" href="#architecture-overview-_19" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#architecture-backend-architecture">백엔드 아키텍처</a> - FastAPI 기반 백엔드 구조</li>
<li><a href="#architecture-frontend-architecture">프론트엔드 아키텍처</a> - SvelteKit 기반 프론트엔드 구조</li>
<li><a href="#architecture-agent-system">에이전트 시스템</a> - AI 에이전트 아키텍처 및 통신</li>
<li><a href="#architecture-data-flow">데이터 플로우</a> - 시스템 내 데이터 흐름</li>
</ul></section><section class="print-page" id="architecture-agent-system" heading-number="4.1.2"><h1 id="architecture-agent-system-maice">MAICE 에이전트 시스템 아키텍처<a class="headerlink" href="#architecture-agent-system-maice" title="Permanent link">&para;</a></h1>
<h2 id="architecture-agent-system-_1">📋 개요<a class="headerlink" href="#architecture-agent-system-_1" title="Permanent link">&para;</a></h2>
<p>MAICE 에이전트 시스템은 질문 분류, 명료화, 답변 생성, 학습 관찰의 4단계 프로세스를 자동화하는 분산 AI 에이전트 시스템입니다. Redis Streams와 Pub/Sub를 활용한 비동기 통신으로 높은 성능과 확장성을 제공합니다.</p>
<h2 id="architecture-agent-system-_2">🤖 에이전트 구성<a class="headerlink" href="#architecture-agent-system-_2" title="Permanent link">&para;</a></h2>
<h3 id="architecture-agent-system-1-questionclassifieragent">1. QuestionClassifierAgent (질문 분류 에이전트)<a class="headerlink" href="#architecture-agent-system-1-questionclassifieragent" title="Permanent link">&para;</a></h3>
<p><strong>역할</strong>: 학생의 수학 질문을 분석하여 유형을 분류하고 후속 처리 방향을 결정</p>
<p><strong>주요 기능</strong>:
- 질문을 K1(사실적), K2(개념적), K3(절차적), K4(메타인지적) 4가지 유형으로 분류
- answerable/needs_clarify/unanswerable 3단계 게이팅 판정
- 명료화가 필요한 경우 구체적인 명료화 질문 생성
- 수학 외 영역 질문 필터링</p>
<p><strong>통신 방식</strong>:
- <strong>입력</strong>: Redis Streams (백엔드 → 에이전트)
- <strong>출력</strong>: Redis Streams (에이전트 → 백엔드) + Pub/Sub (에이전트 → 에이전트)</p>
<h3 id="architecture-agent-system-2-questionimprovementagent">2. QuestionImprovementAgent (명료화 에이전트)<a class="headerlink" href="#architecture-agent-system-2-questionimprovementagent" title="Permanent link">&para;</a></h3>
<p><strong>역할</strong>: 분류된 질문이 명료하지 않은 경우 추가 정보를 수집하여 질문을 개선</p>
<p><strong>주요 기능</strong>:
- 분류 에이전트가 제안한 명료화 질문을 사용자에게 전달
- 사용자의 답변을 LLM으로 평가하여 충분한지 판단
- 질문 유형 재분류 (K1→K2, K2→K3 등)
- 명료화 완료 시 최종 질문 생성</p>
<p><strong>통신 방식</strong>:
- <strong>입력</strong>: Redis Streams (백엔드 → 에이전트) + Pub/Sub (에이전트 → 에이전트)
- <strong>출력</strong>: Redis Streams (에이전트 → 백엔드) + Pub/Sub (에이전트 → 에이전트)</p>
<h3 id="architecture-agent-system-3-answergeneratoragent">3. AnswerGeneratorAgent (답변 생성 에이전트)<a class="headerlink" href="#architecture-agent-system-3-answergeneratoragent" title="Permanent link">&para;</a></h3>
<p><strong>역할</strong>: 분류되고 명료화된 질문에 대해 교육적이고 체계적인 답변을 생성</p>
<p><strong>주요 기능</strong>:
- 질문 유형별 맞춤형 답변 생성 (K1-K4)
- 한국 고등학교 교육과정 수준에 맞는 답변
- LaTeX 수식 지원
- 실시간 스트리밍 답변 생성</p>
<p><strong>통신 방식</strong>:
- <strong>입력</strong>: Pub/Sub (에이전트 → 에이전트)
- <strong>출력</strong>: Redis Streams (에이전트 → 백엔드) + Pub/Sub (에이전트 → 에이전트)</p>
<h3 id="architecture-agent-system-4-observeragent">4. ObserverAgent (학습 관찰 에이전트)<a class="headerlink" href="#architecture-agent-system-4-observeragent" title="Permanent link">&para;</a></h3>
<p><strong>역할</strong>: 전체 대화 과정을 관찰하고 분석하여 학습 요약을 생성</p>
<p><strong>주요 기능</strong>:
- 질문, 명료화 과정, 답변을 종합 분석
- 학습 맥락 정보 추출
- 세션별 요약 생성
- 학습 진도 추적</p>
<p><strong>통신 방식</strong>:
- <strong>입력</strong>: Pub/Sub (에이전트 → 에이전트)
- <strong>출력</strong>: Redis Streams (에이전트 → 백엔드)</p>
<h2 id="architecture-agent-system-_3">🔄 메시지 플로우<a class="headerlink" href="#architecture-agent-system-_3" title="Permanent link">&para;</a></h2>
<h3 id="architecture-agent-system-1">1. 질문 분류 단계<a class="headerlink" href="#architecture-agent-system-1" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#architecture-agent-system-__codelineno-0-1"></a>사용자 → 프론트엔드 → 백엔드 → QuestionClassifierAgent
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#architecture-agent-system-__codelineno-0-2"></a>                                    ↓
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#architecture-agent-system-__codelineno-0-3"></a>                              분류 결과 + 라우팅 결정
</span></code></pre></div>
<h3 id="architecture-agent-system-2-needs_clarify">2. 명료화 단계 (needs_clarify인 경우)<a class="headerlink" href="#architecture-agent-system-2-needs_clarify" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#architecture-agent-system-__codelineno-1-1"></a>QuestionClassifierAgent → QuestionImprovementAgent
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#architecture-agent-system-__codelineno-1-2"></a>                                    ↓
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#architecture-agent-system-__codelineno-1-3"></a>                              명료화 질문 생성
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#architecture-agent-system-__codelineno-1-4"></a>                                    ↓
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#architecture-agent-system-__codelineno-1-5"></a>                              사용자 → 프론트엔드 → 백엔드
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#architecture-agent-system-__codelineno-1-6"></a>                                    ↓
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#architecture-agent-system-__codelineno-1-7"></a>                              명료화 답변 평가
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#architecture-agent-system-__codelineno-1-8"></a>                                    ↓
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#architecture-agent-system-__codelineno-1-9"></a>                              충분하면 → AnswerGeneratorAgent
</span></code></pre></div>
<harchitecture-agent-system-3 id="architecture-agent-system-3">3. 답변 생성 단계<a class="headerlink" href="#architecture-agent-system-3" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#architecture-agent-system-__codelineno-2-1"></a>AnswerGeneratorAgent → 답변 생성 (스트리밍)
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#architecture-agent-system-__codelineno-2-2"></a>                            ↓
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#architecture-agent-system-__codelineno-2-3"></a>                      백엔드 → 프론트엔드 → 사용자
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#architecture-agent-system-__codelineno-2-4"></a>                            ↓
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#architecture-agent-system-__codelineno-2-5"></a>                      ObserverAgent → 학습 요약 생성
</span></code></pre></div>
<h2 id="architecture-agent-system-_4">🛠️ 기술 스택<a class="headerlink" href="#architecture-agent-system-_4" title="Permanent link">&para;</a></h2>
<h3 id="architecture-agent-system-_5">에이전트<a class="headerlink" href="#architecture-agent-system-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>언어</strong>: Python 3.11+</li>
<li><strong>AI 모델</strong>: OpenAI GPT-5-mini</li>
<li><strong>메시지 큐</strong>: Redis Streams + Pub/Sub</li>
<li><strong>데이터베이스</strong>: PostgreSQL (Async)</li>
<li><strong>프롬프트 관리</strong>: YAML 설정 파일</li>
</ul>
<h3 id="architecture-agent-system-_6">통신 프로토콜<a class="headerlink" href="#architecture-agent-system-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Redis Streams</strong>: 백엔드와 에이전트 간 메시지 전달</li>
<li><strong>Redis Pub/Sub</strong>: 에이전트 간 실시간 통신</li>
<li><strong>JSON 메시지</strong>: 구조화된 데이터 교환</li>
</ul>
<h2 id="architecture-agent-system-_7">📊 모니터링 및 로깅<a class="headerlink" href="#architecture-agent-system-_7" title="Permanent link">&para;</a></h2>
<h3 id="architecture-agent-system-_8">주요 로그 포인트<a class="headerlink" href="#architecture-agent-system-_8" title="Permanent link">&para;</a></h3>
<ul>
<li>에이전트 초기화 및 종료</li>
<li>메시지 큐 처리</li>
<li>LLM 호출 및 응답</li>
<li>데이터베이스 작업</li>
</ul>
<h3 id="architecture-agent-system-_9">성능 모니터링<a class="headerlink" href="#architecture-agent-system-_9" title="Permanent link">&para;</a></h3>
<ul>
<li>Redis 메시지 큐 상태</li>
<li>데이터베이스 연결 풀</li>
<li>LLM 응답 시간</li>
<li>메모리 사용량</li>
</ul>
<h2 id="architecture-agent-system-_10">🔒 보안 고려사항<a class="headerlink" href="#architecture-agent-system-_10" title="Permanent link">&para;</a></h2>
<h3 id="architecture-agent-system-_11">프롬프트 보안<a class="headerlink" href="#architecture-agent-system-_11" title="Permanent link">&para;</a></h3>
<ul>
<li>구분자와 해시를 통한 프롬프트 스푸핑 방지</li>
<li>역할 고정 및 시스템 지시사항 변경 시도 무시</li>
<li>JSON 형식 응답만 허용</li>
</ul>
<h3 id="architecture-agent-system-_12">데이터 보호<a class="headerlink" href="#architecture-agent-system-_12" title="Permanent link">&para;</a></h3>
<ul>
<li>사용자 입력 검증 및 정제</li>
<li>민감한 정보 환경변수 관리</li>
<li>API 키 하드코딩 금지</li>
</ul></section><section class="print-page" id="architecture-backend-architecture" heading-number="4.1.3"><h1 id="architecture-backend-architecture-_1">백엔드 아키텍처<a class="headerlink" href="#architecture-backend-architecture-_1" title="Permanent link">&para;</a></h1>
<p>MAICE 시스템의 FastAPI 기반 백엔드 아키텍처를 상세히 설명합니다.</p>
<h2 id="architecture-backend-architecture-_2">🏗️ 전체 구조<a class="headerlink" href="#architecture-backend-architecture-_2" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#architecture-backend-architecture-__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#architecture-backend-architecture-__codelineno-0-2"></a>│                        Backend (FastAPI)                       │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#architecture-backend-architecture-__codelineno-0-3"></a>├─────────────────┬─────────────────┬─────────────────────────────┤
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#architecture-backend-architecture-__codelineno-0-4"></a>│   API Layer     │  Service Layer  │      Data Layer            │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#architecture-backend-architecture-__codelineno-0-5"></a>│   (Controllers) │ (Business Logic)│    (Repositories)           │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#architecture-backend-architecture-__codelineno-0-6"></a>├─────────────────┼─────────────────┼─────────────────────────────┤
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#architecture-backend-architecture-__codelineno-0-7"></a>│ • /api/v1/auth/ │ • MaiceService  │ • UserRepository           │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#architecture-backend-architecture-__codelineno-0-8"></a>│ • /api/v1/users/│ • ChatService   │ • SessionRepository        │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#architecture-backend-architecture-__codelineno-0-9"></a>│ • /api/v1/maice/│ • AuthService   │ • MessageRepository        │
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#architecture-backend-architecture-__codelineno-0-10"></a>│ • /api/v1/student/│ • StreamingProcessor│ • AgentResponseRepository│
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#architecture-backend-architecture-__codelineno-0-11"></a>│ • /api/v1/teacher/│ • SessionManager │ • LearningSummaryRepository│
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#architecture-backend-architecture-__codelineno-0-12"></a>└─────────────────┴─────────────────┴─────────────────────────────┘
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#architecture-backend-architecture-__codelineno-0-13"></a>                                │
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#architecture-backend-architecture-__codelineno-0-14"></a>                    ┌───────────┴───────────┐
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#architecture-backend-architecture-__codelineno-0-15"></a>                    │    External Services  │
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#architecture-backend-architecture-__codelineno-0-16"></a>                    ├─────────────────────────┤
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#architecture-backend-architecture-__codelineno-0-17"></a>                    │ • PostgreSQL Database  │
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#architecture-backend-architecture-__codelineno-0-18"></a>                    │ • Redis (Streams/PubSub)│
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#architecture-backend-architecture-__codelineno-0-19"></a>                    │ • AI Agent System      │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#architecture-backend-architecture-__codelineno-0-20"></a>                    │ • Google OAuth          │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#architecture-backend-architecture-__codelineno-0-21"></a>                    └─────────────────────────┘
</span></code></pre></div>
<h2 id="architecture-backend-architecture-api-controllers">🔌 API 레이어 (Controllers)<a class="headerlink" href="#architecture-backend-architecture-api-controllers" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-api-apiv1auth">인증 API (<code>/api/v1/auth/</code>)<a class="headerlink" href="#architecture-backend-architecture-api-apiv1auth" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#architecture-backend-architecture-__codelineno-1-1"></a><span class="c1"># 주요 엔드포인트</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#architecture-backend-architecture-__codelineno-1-2"></a><span class="n">POST</span> <span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">login</span>          <span class="c1"># Google OAuth 로그인</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#architecture-backend-architecture-__codelineno-1-3"></a><span class="n">POST</span> <span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">refresh</span>        <span class="c1"># 토큰 갱신</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#architecture-backend-architecture-__codelineno-1-4"></a><span class="n">POST</span> <span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">logout</span>         <span class="c1"># 로그아웃</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#architecture-backend-architecture-__codelineno-1-5"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">auth</span><span class="o">/</span><span class="n">me</span>            <span class="c1"># 현재 사용자 정보</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-api-apiv1users">사용자 관리 API (<code>/api/v1/users/</code>)<a class="headerlink" href="#architecture-backend-architecture-api-apiv1users" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#architecture-backend-architecture-__codelineno-2-1"></a><span class="c1"># 주요 엔드포인트</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#architecture-backend-architecture-__codelineno-2-2"></a><span class="n">GET</span>    <span class="o">/</span><span class="n">users</span><span class="o">/</span>           <span class="c1"># 사용자 목록 (관리자)</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#architecture-backend-architecture-__codelineno-2-3"></a><span class="n">GET</span>    <span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="p">{</span><span class="n">user_id</span><span class="p">}</span>  <span class="c1"># 특정 사용자 정보</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#architecture-backend-architecture-__codelineno-2-4"></a><span class="n">PUT</span>    <span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="p">{</span><span class="n">user_id</span><span class="p">}</span>  <span class="c1"># 사용자 정보 수정</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#architecture-backend-architecture-__codelineno-2-5"></a><span class="n">DELETE</span> <span class="o">/</span><span class="n">users</span><span class="o">/</span><span class="p">{</span><span class="n">user_id</span><span class="p">}</span>  <span class="c1"># 사용자 삭제 (관리자)</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-maice-api-apiv1maice">MAICE 핵심 API (<code>/api/v1/maice/</code>)<a class="headerlink" href="#architecture-backend-architecture-maice-api-apiv1maice" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#architecture-backend-architecture-__codelineno-3-1"></a><span class="c1"># 주요 엔드포인트</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#architecture-backend-architecture-__codelineno-3-2"></a><span class="n">POST</span> <span class="o">/</span><span class="n">maice</span><span class="o">/</span><span class="n">chat</span><span class="o">/</span><span class="n">streaming</span>    <span class="c1"># 실시간 채팅 스트리밍</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#architecture-backend-architecture-__codelineno-3-3"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">maice</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span>         <span class="c1"># 대화 세션 목록</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#architecture-backend-architecture-__codelineno-3-4"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">maice</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>      <span class="c1"># 특정 세션 상세</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#architecture-backend-architecture-__codelineno-3-5"></a><span class="n">POST</span> <span class="o">/</span><span class="n">maice</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span>         <span class="c1"># 새 세션 생성</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#architecture-backend-architecture-__codelineno-3-6"></a><span class="n">PUT</span>  <span class="o">/</span><span class="n">maice</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span><span class="p">{</span><span class="nb">id</span><span class="p">}</span>     <span class="c1"># 세션 정보 수정</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-api-apiv1student">학생 인터페이스 API (<code>/api/v1/student/</code>)<a class="headerlink" href="#architecture-backend-architecture-api-apiv1student" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#architecture-backend-architecture-__codelineno-4-1"></a><span class="c1"># 주요 엔드포인트</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#architecture-backend-architecture-__codelineno-4-2"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">student</span><span class="o">/</span><span class="n">dashboard</span>       <span class="c1"># 학생 대시보드</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#architecture-backend-architecture-__codelineno-4-3"></a><span class="n">POST</span> <span class="o">/</span><span class="n">student</span><span class="o">/</span><span class="n">questions</span><span class="o">/</span>      <span class="c1"># 질문 제출</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#architecture-backend-architecture-__codelineno-4-4"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">student</span><span class="o">/</span><span class="n">progress</span><span class="o">/</span>       <span class="c1"># 학습 진도 확인</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-api-apiv1teacher">교사 인터페이스 API (<code>/api/v1/teacher/</code>)<a class="headerlink" href="#architecture-backend-architecture-api-apiv1teacher" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#architecture-backend-architecture-__codelineno-5-1"></a><span class="c1"># 주요 엔드포인트</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#architecture-backend-architecture-__codelineno-5-2"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">teacher</span><span class="o">/</span><span class="n">dashboard</span>       <span class="c1"># 교사 대시보드</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#architecture-backend-architecture-__codelineno-5-3"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">teacher</span><span class="o">/</span><span class="n">students</span><span class="o">/</span>       <span class="c1"># 학생 목록 관리</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#architecture-backend-architecture-__codelineno-5-4"></a><span class="n">GET</span>  <span class="o">/</span><span class="n">teacher</span><span class="o">/</span><span class="n">sessions</span><span class="o">/</span>       <span class="c1"># 학생 세션 모니터링</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#architecture-backend-architecture-__codelineno-5-5"></a><span class="n">POST</span> <span class="o">/</span><span class="n">teacher</span><span class="o">/</span><span class="n">feedback</span><span class="o">/</span>       <span class="c1"># 피드백 제공</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-business-logic">🧩 서비스 레이어 (Business Logic)<a class="headerlink" href="#architecture-backend-architecture-business-logic" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-maiceservice">MaiceService (통합 서비스)<a class="headerlink" href="#architecture-backend-architecture-maiceservice" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#architecture-backend-architecture-__codelineno-6-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MaiceService</span><span class="p">:</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#architecture-backend-architecture-__codelineno-6-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;MAICE 통합 서비스 - 전체 비즈니스 로직 조정&quot;&quot;&quot;</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#architecture-backend-architecture-__codelineno-6-3"></a>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#architecture-backend-architecture-__codelineno-6-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process_chat_streaming</span><span class="p">(</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#architecture-backend-architecture-__codelineno-6-5"></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#architecture-backend-architecture-__codelineno-6-6"></a>        <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#architecture-backend-architecture-__codelineno-6-7"></a>        <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#architecture-backend-architecture-__codelineno-6-8"></a>        <span class="n">session_id</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#architecture-backend-architecture-__codelineno-6-9"></a>        <span class="n">message_type</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;question&quot;</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#architecture-backend-architecture-__codelineno-6-10"></a>        <span class="n">conversation_history</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#architecture-backend-architecture-__codelineno-6-11"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#architecture-backend-architecture-__codelineno-6-12"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;실시간 채팅 스트리밍 처리&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-chatservice">ChatService (대화 조정자)<a class="headerlink" href="#architecture-backend-architecture-chatservice" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#architecture-backend-architecture-__codelineno-7-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">ChatService</span><span class="p">(</span><span class="n">IChatService</span><span class="p">):</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#architecture-backend-architecture-__codelineno-7-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;대화 세션 조정 서비스&quot;&quot;&quot;</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#architecture-backend-architecture-__codelineno-7-3"></a>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#architecture-backend-architecture-__codelineno-7-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">start_new_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SessionResponse</span><span class="p">:</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#architecture-backend-architecture-__codelineno-7-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;새 대화 세션 시작&quot;&quot;&quot;</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#architecture-backend-architecture-__codelineno-7-6"></a>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#architecture-backend-architecture-__codelineno-7-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_session_history</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">MessageResponse</span><span class="p">]:</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#architecture-backend-architecture-__codelineno-7-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;세션 히스토리 조회&quot;&quot;&quot;</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#architecture-backend-architecture-__codelineno-7-9"></a>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#architecture-backend-architecture-__codelineno-7-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">SessionUpdateRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">SessionResponse</span><span class="p">:</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#architecture-backend-architecture-__codelineno-7-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;세션 정보 업데이트&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-aiagentservice-ai">AIAgentService (AI 에이전트 통신)<a class="headerlink" href="#architecture-backend-architecture-aiagentservice-ai" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#architecture-backend-architecture-__codelineno-8-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AIAgentService</span><span class="p">:</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#architecture-backend-architecture-__codelineno-8-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;AI 에이전트와의 통신 서비스&quot;&quot;&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#architecture-backend-architecture-__codelineno-8-3"></a>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#architecture-backend-architecture-__codelineno-8-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_question_to_agent</span><span class="p">(</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#architecture-backend-architecture-__codelineno-8-5"></a>        <span class="bp">self</span><span class="p">,</span> 
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#architecture-backend-architecture-__codelineno-8-6"></a>        <span class="n">question</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> 
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#architecture-backend-architecture-__codelineno-8-7"></a>        <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> 
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#architecture-backend-architecture-__codelineno-8-8"></a>        <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#architecture-backend-architecture-__codelineno-8-9"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#architecture-backend-architecture-__codelineno-8-10"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;에이전트에 질문 전송 및 스트리밍 응답 수신&quot;&quot;&quot;</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#architecture-backend-architecture-__codelineno-8-11"></a>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#architecture-backend-architecture-__codelineno-8-12"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">process_agent_response</span><span class="p">(</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#architecture-backend-architecture-__codelineno-8-13"></a>        <span class="bp">self</span><span class="p">,</span> 
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#architecture-backend-architecture-__codelineno-8-14"></a>        <span class="n">response_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#architecture-backend-architecture-__codelineno-8-15"></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#architecture-backend-architecture-__codelineno-8-16"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;에이전트 응답 처리 및 저장&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-sessionmanager">SessionManager (세션 관리)<a class="headerlink" href="#architecture-backend-architecture-sessionmanager" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#architecture-backend-architecture-__codelineno-9-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SessionManager</span><span class="p">:</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#architecture-backend-architecture-__codelineno-9-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;세션 라이프사이클 관리&quot;&quot;&quot;</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#architecture-backend-architecture-__codelineno-9-3"></a>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#architecture-backend-architecture-__codelineno-9-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#architecture-backend-architecture-__codelineno-9-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;새 세션 생성&quot;&quot;&quot;</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#architecture-backend-architecture-__codelineno-9-6"></a>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#architecture-backend-architecture-__codelineno-9-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_active_session</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Session</span><span class="p">]:</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#architecture-backend-architecture-__codelineno-9-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;활성 세션 조회&quot;&quot;&quot;</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#architecture-backend-architecture-__codelineno-9-9"></a>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#architecture-backend-architecture-__codelineno-9-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update_session_summary</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">summary</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#architecture-backend-architecture-__codelineno-9-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;세션 요약 업데이트&quot;&quot;&quot;</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-repositories">💾 데이터 레이어 (Repositories)<a class="headerlink" href="#architecture-backend-architecture-repositories" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-userrepository">UserRepository<a class="headerlink" href="#architecture-backend-architecture-userrepository" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#architecture-backend-architecture-__codelineno-10-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">UserRepository</span><span class="p">:</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#architecture-backend-architecture-__codelineno-10-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;사용자 데이터 접근&quot;&quot;&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#architecture-backend-architecture-__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#architecture-backend-architecture-__codelineno-10-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">User</span><span class="p">]:</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#architecture-backend-architecture-__codelineno-10-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;ID로 사용자 조회&quot;&quot;&quot;</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#architecture-backend-architecture-__codelineno-10-6"></a>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#architecture-backend-architecture-__codelineno-10-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_by_email</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">User</span><span class="p">]:</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#architecture-backend-architecture-__codelineno-10-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;이메일로 사용자 조회&quot;&quot;&quot;</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#architecture-backend-architecture-__codelineno-10-9"></a>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#architecture-backend-architecture-__codelineno-10-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_data</span><span class="p">:</span> <span class="n">UserCreateRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#architecture-backend-architecture-__codelineno-10-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;새 사용자 생성&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-sessionrepository">SessionRepository<a class="headerlink" href="#architecture-backend-architecture-sessionrepository" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#architecture-backend-architecture-__codelineno-11-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">SessionRepository</span><span class="p">:</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#architecture-backend-architecture-__codelineno-11-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;대화 세션 데이터 접근&quot;&quot;&quot;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#architecture-backend-architecture-__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#architecture-backend-architecture-__codelineno-11-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_by_id</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">Session</span><span class="p">]:</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#architecture-backend-architecture-__codelineno-11-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;ID로 세션 조회&quot;&quot;&quot;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#architecture-backend-architecture-__codelineno-11-6"></a>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#architecture-backend-architecture-__codelineno-11-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user_sessions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Session</span><span class="p">]:</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#architecture-backend-architecture-__codelineno-11-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;사용자의 모든 세션 조회&quot;&quot;&quot;</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#architecture-backend-architecture-__codelineno-11-9"></a>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#architecture-backend-architecture-__codelineno-11-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_data</span><span class="p">:</span> <span class="n">SessionCreateRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Session</span><span class="p">:</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#architecture-backend-architecture-__codelineno-11-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;새 세션 생성&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-messagerepository">MessageRepository<a class="headerlink" href="#architecture-backend-architecture-messagerepository" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#architecture-backend-architecture-__codelineno-12-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">MessageRepository</span><span class="p">:</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#architecture-backend-architecture-__codelineno-12-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;메시지 데이터 접근&quot;&quot;&quot;</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#architecture-backend-architecture-__codelineno-12-3"></a>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#architecture-backend-architecture-__codelineno-12-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_session_messages</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">session_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Message</span><span class="p">]:</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#architecture-backend-architecture-__codelineno-12-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;세션의 모든 메시지 조회&quot;&quot;&quot;</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#architecture-backend-architecture-__codelineno-12-6"></a>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#architecture-backend-architecture-__codelineno-12-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message_data</span><span class="p">:</span> <span class="n">MessageCreateRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#architecture-backend-architecture-__codelineno-12-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;새 메시지 생성&quot;&quot;&quot;</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#architecture-backend-architecture-__codelineno-12-9"></a>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#architecture-backend-architecture-__codelineno-12-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">update</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">message_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">data</span><span class="p">:</span> <span class="n">MessageUpdateRequest</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Message</span><span class="p">:</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#architecture-backend-architecture-__codelineno-12-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;메시지 업데이트&quot;&quot;&quot;</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_3">🔄 비동기 처리 아키텍처<a class="headerlink" href="#architecture-backend-architecture-_3" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-fastapi">FastAPI 비동기 지원<a class="headerlink" href="#architecture-backend-architecture-fastapi" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#architecture-backend-architecture-__codelineno-13-1"></a><span class="c1"># 비동기 엔드포인트 예시</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#architecture-backend-architecture-__codelineno-13-2"></a><span class="nd">@router</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="s2">&quot;/chat/streaming&quot;</span><span class="p">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#architecture-backend-architecture-__codelineno-13-3"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">chat_streaming</span><span class="p">(</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#architecture-backend-architecture-__codelineno-13-4"></a>    <span class="n">request</span><span class="p">:</span> <span class="n">ChatRequest</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#architecture-backend-architecture-__codelineno-13-5"></a>    <span class="n">current_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_current_user</span><span class="p">)</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#architecture-backend-architecture-__codelineno-13-6"></a><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">StreamingResponse</span><span class="p">:</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#architecture-backend-architecture-__codelineno-13-7"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;실시간 채팅 스트리밍&quot;&quot;&quot;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#architecture-backend-architecture-__codelineno-13-8"></a>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#architecture-backend-architecture-__codelineno-13-9"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">generate_response</span><span class="p">():</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#architecture-backend-architecture-__codelineno-13-10"></a>        <span class="k">async</span> <span class="k">for</span> <span class="n">chunk</span> <span class="ow">in</span> <span class="n">maice_service</span><span class="o">.</span><span class="n">process_chat_streaming</span><span class="p">(</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#architecture-backend-architecture-__codelineno-13-11"></a>            <span class="n">question</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">question</span><span class="p">,</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#architecture-backend-architecture-__codelineno-13-12"></a>            <span class="n">user_id</span><span class="o">=</span><span class="n">current_user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#architecture-backend-architecture-__codelineno-13-13"></a>            <span class="n">session_id</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">session_id</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#architecture-backend-architecture-__codelineno-13-14"></a>        <span class="p">):</span>
</span><span id="__span-13-15"><a id="__codelineno-13-15" name="__codelineno-13-15" href="#architecture-backend-architecture-__codelineno-13-15"></a>            <span class="k">yield</span> <span class="sa">f</span><span class="s2">&quot;data: </span><span class="si">{</span><span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">(</span><span class="n">chunk</span><span class="p">)</span><span class="si">}</span><span class="se">\n\n</span><span class="s2">&quot;</span>
</span><span id="__span-13-16"><a id="__codelineno-13-16" name="__codelineno-13-16" href="#architecture-backend-architecture-__codelineno-13-16"></a>
</span><span id="__span-13-17"><a id="__codelineno-13-17" name="__codelineno-13-17" href="#architecture-backend-architecture-__codelineno-13-17"></a>    <span class="k">return</span> <span class="n">StreamingResponse</span><span class="p">(</span>
</span><span id="__span-13-18"><a id="__codelineno-13-18" name="__codelineno-13-18" href="#architecture-backend-architecture-__codelineno-13-18"></a>        <span class="n">generate_response</span><span class="p">(),</span>
</span><span id="__span-13-19"><a id="__codelineno-13-19" name="__codelineno-13-19" href="#architecture-backend-architecture-__codelineno-13-19"></a>        <span class="n">media_type</span><span class="o">=</span><span class="s2">&quot;text/plain&quot;</span><span class="p">,</span>
</span><span id="__span-13-20"><a id="__codelineno-13-20" name="__codelineno-13-20" href="#architecture-backend-architecture-__codelineno-13-20"></a>        <span class="n">headers</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;Cache-Control&quot;</span><span class="p">:</span> <span class="s2">&quot;no-cache&quot;</span><span class="p">}</span>
</span><span id="__span-13-21"><a id="__codelineno-13-21" name="__codelineno-13-21" href="#architecture-backend-architecture-__codelineno-13-21"></a>    <span class="p">)</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-redis-streams">Redis Streams 통합<a class="headerlink" href="#architecture-backend-architecture-redis-streams" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#architecture-backend-architecture-__codelineno-14-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">RedisAgentClient</span><span class="p">:</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#architecture-backend-architecture-__codelineno-14-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Redis Streams를 통한 에이전트 통신&quot;&quot;&quot;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#architecture-backend-architecture-__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#architecture-backend-architecture-__codelineno-14-4"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">send_question</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">question_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#architecture-backend-architecture-__codelineno-14-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;질문을 에이전트에 전송&quot;&quot;&quot;</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#architecture-backend-architecture-__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#architecture-backend-architecture-__codelineno-14-7"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">read_responses</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stream_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">AsyncGenerator</span><span class="p">[</span><span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">],</span> <span class="kc">None</span><span class="p">]:</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#architecture-backend-architecture-__codelineno-14-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;에이전트 응답 스트림 읽기&quot;&quot;&quot;</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_4">🛡️ 보안 아키텍처<a class="headerlink" href="#architecture-backend-architecture-_4" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-jwt">JWT 인증<a class="headerlink" href="#architecture-backend-architecture-jwt" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#architecture-backend-architecture-__codelineno-15-1"></a><span class="k">class</span><span class="w"> </span><span class="nc">AuthService</span><span class="p">:</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#architecture-backend-architecture-__codelineno-15-2"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;인증 서비스&quot;&quot;&quot;</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#architecture-backend-architecture-__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#architecture-backend-architecture-__codelineno-15-4"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">create_access_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_data</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#architecture-backend-architecture-__codelineno-15-5"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;액세스 토큰 생성&quot;&quot;&quot;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#architecture-backend-architecture-__codelineno-15-6"></a>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#architecture-backend-architecture-__codelineno-15-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">verify_token</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#architecture-backend-architecture-__codelineno-15-8"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;토큰 검증&quot;&quot;&quot;</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#architecture-backend-architecture-__codelineno-15-9"></a>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#architecture-backend-architecture-__codelineno-15-10"></a>    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">authenticate_user</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">email</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">password</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="n">User</span><span class="p">]:</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#architecture-backend-architecture-__codelineno-15-11"></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;사용자 인증&quot;&quot;&quot;</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-_5">권한 관리<a class="headerlink" href="#architecture-backend-architecture-_5" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#architecture-backend-architecture-__codelineno-16-1"></a><span class="c1"># 의존성 주입을 통한 권한 검사</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#architecture-backend-architecture-__codelineno-16-2"></a><span class="k">def</span><span class="w"> </span><span class="nf">get_current_user</span><span class="p">(</span><span class="n">token</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">oauth2_scheme</span><span class="p">))</span> <span class="o">-&gt;</span> <span class="n">User</span><span class="p">:</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#architecture-backend-architecture-__codelineno-16-3"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;현재 사용자 조회&quot;&quot;&quot;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#architecture-backend-architecture-__codelineno-16-4"></a>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#architecture-backend-architecture-__codelineno-16-5"></a><span class="k">def</span><span class="w"> </span><span class="nf">require_role</span><span class="p">(</span><span class="n">required_role</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#architecture-backend-architecture-__codelineno-16-6"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;역할 기반 접근 제어&quot;&quot;&quot;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#architecture-backend-architecture-__codelineno-16-7"></a>    <span class="k">def</span><span class="w"> </span><span class="nf">role_checker</span><span class="p">(</span><span class="n">current_user</span><span class="p">:</span> <span class="n">User</span> <span class="o">=</span> <span class="n">Depends</span><span class="p">(</span><span class="n">get_current_user</span><span class="p">)):</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#architecture-backend-architecture-__codelineno-16-8"></a>        <span class="k">if</span> <span class="n">current_user</span><span class="o">.</span><span class="n">role</span> <span class="o">!=</span> <span class="n">required_role</span><span class="p">:</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#architecture-backend-architecture-__codelineno-16-9"></a>            <span class="k">raise</span> <span class="n">HTTPException</span><span class="p">(</span><span class="n">status_code</span><span class="o">=</span><span class="mi">403</span><span class="p">,</span> <span class="n">detail</span><span class="o">=</span><span class="s2">&quot;권한이 없습니다&quot;</span><span class="p">)</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#architecture-backend-architecture-__codelineno-16-10"></a>        <span class="k">return</span> <span class="n">current_user</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#architecture-backend-architecture-__codelineno-16-11"></a>    <span class="k">return</span> <span class="n">role_checker</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_6">📊 모니터링 및 로깅<a class="headerlink" href="#architecture-backend-architecture-_6" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-_7">구조화된 로깅<a class="headerlink" href="#architecture-backend-architecture-_7" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#architecture-backend-architecture-__codelineno-17-1"></a><span class="kn">import</span><span class="w"> </span><span class="nn">structlog</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#architecture-backend-architecture-__codelineno-17-2"></a>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#architecture-backend-architecture-__codelineno-17-3"></a><span class="n">logger</span> <span class="o">=</span> <span class="n">structlog</span><span class="o">.</span><span class="n">get_logger</span><span class="p">()</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#architecture-backend-architecture-__codelineno-17-4"></a>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#architecture-backend-architecture-__codelineno-17-5"></a><span class="c1"># 로그 예시</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#architecture-backend-architecture-__codelineno-17-6"></a><span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#architecture-backend-architecture-__codelineno-17-7"></a>    <span class="s2">&quot;chat_request_received&quot;</span><span class="p">,</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#architecture-backend-architecture-__codelineno-17-8"></a>    <span class="n">user_id</span><span class="o">=</span><span class="n">user</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#architecture-backend-architecture-__codelineno-17-9"></a>    <span class="n">session_id</span><span class="o">=</span><span class="n">session_id</span><span class="p">,</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#architecture-backend-architecture-__codelineno-17-10"></a>    <span class="n">question_length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">question</span><span class="p">)</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#architecture-backend-architecture-__codelineno-17-11"></a><span class="p">)</span>
</span></code></pre></div>
<h3 id="architecture-backend-architecture-_8">성능 모니터링<a class="headerlink" href="#architecture-backend-architecture-_8" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#architecture-backend-architecture-__codelineno-18-1"></a><span class="c1"># 응답 시간 측정</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#architecture-backend-architecture-__codelineno-18-2"></a><span class="nd">@router</span><span class="o">.</span><span class="n">middleware</span><span class="p">(</span><span class="s2">&quot;http&quot;</span><span class="p">)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#architecture-backend-architecture-__codelineno-18-3"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">add_process_time_header</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">Request</span><span class="p">,</span> <span class="n">call_next</span><span class="p">):</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#architecture-backend-architecture-__codelineno-18-4"></a>    <span class="n">start_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#architecture-backend-architecture-__codelineno-18-5"></a>    <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">call_next</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#architecture-backend-architecture-__codelineno-18-6"></a>    <span class="n">process_time</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#architecture-backend-architecture-__codelineno-18-7"></a>    <span class="n">response</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s2">&quot;X-Process-Time&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">process_time</span><span class="p">)</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#architecture-backend-architecture-__codelineno-18-8"></a>    <span class="k">return</span> <span class="n">response</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_9">🔧 설정 관리<a class="headerlink" href="#architecture-backend-architecture-_9" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-_10">환경별 설정<a class="headerlink" href="#architecture-backend-architecture-_10" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#architecture-backend-architecture-__codelineno-19-1"></a><span class="c1"># config.py</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#architecture-backend-architecture-__codelineno-19-2"></a><span class="k">class</span><span class="w"> </span><span class="nc">Settings</span><span class="p">(</span><span class="n">BaseSettings</span><span class="p">):</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#architecture-backend-architecture-__codelineno-19-3"></a>    <span class="c1"># 데이터베이스 설정</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#architecture-backend-architecture-__codelineno-19-4"></a>    <span class="n">database_url</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#architecture-backend-architecture-__codelineno-19-5"></a>    <span class="n">redis_url</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#architecture-backend-architecture-__codelineno-19-6"></a>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#architecture-backend-architecture-__codelineno-19-7"></a>    <span class="c1"># JWT 설정</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#architecture-backend-architecture-__codelineno-19-8"></a>    <span class="n">jwt_secret_key</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#architecture-backend-architecture-__codelineno-19-9"></a>    <span class="n">jwt_algorithm</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="s2">&quot;HS256&quot;</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#architecture-backend-architecture-__codelineno-19-10"></a>    <span class="n">jwt_access_token_expire_minutes</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">30</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#architecture-backend-architecture-__codelineno-19-11"></a>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#architecture-backend-architecture-__codelineno-19-12"></a>    <span class="c1"># Google OAuth 설정</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#architecture-backend-architecture-__codelineno-19-13"></a>    <span class="n">google_client_id</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#architecture-backend-architecture-__codelineno-19-14"></a>    <span class="n">google_client_secret</span><span class="p">:</span> <span class="nb">str</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#architecture-backend-architecture-__codelineno-19-15"></a>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#architecture-backend-architecture-__codelineno-19-16"></a>    <span class="k">class</span><span class="w"> </span><span class="nc">Config</span><span class="p">:</span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#architecture-backend-architecture-__codelineno-19-17"></a>        <span class="n">env_file</span> <span class="o">=</span> <span class="s2">&quot;.env&quot;</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#architecture-backend-architecture-__codelineno-19-18"></a>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#architecture-backend-architecture-__codelineno-19-19"></a><span class="n">settings</span> <span class="o">=</span> <span class="n">Settings</span><span class="p">()</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_11">🚀 확장성 고려사항<a class="headerlink" href="#architecture-backend-architecture-_11" title="Permanent link">&para;</a></h2>
<h3 id="architecture-backend-architecture-_12">마이크로서비스 분리 가능성<a class="headerlink" href="#architecture-backend-architecture-_12" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>인증 서비스</strong>: 독립적인 인증 마이크로서비스</li>
<li><strong>채팅 서비스</strong>: 핵심 채팅 로직 분리</li>
<li><strong>분석 서비스</strong>: 학습 데이터 분석 전용 서비스</li>
</ul>
<h3 id="architecture-backend-architecture-_13">캐싱 전략<a class="headerlink" href="#architecture-backend-architecture-_13" title="Permanent link">&para;</a></h3>
<div class="language-python highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#architecture-backend-architecture-__codelineno-20-1"></a><span class="c1"># Redis 캐싱 예시</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#architecture-backend-architecture-__codelineno-20-2"></a><span class="nd">@cache</span><span class="p">(</span><span class="n">expire</span><span class="o">=</span><span class="mi">300</span><span class="p">)</span>  <span class="c1"># 5분 캐시</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#architecture-backend-architecture-__codelineno-20-3"></a><span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">get_user_sessions</span><span class="p">(</span><span class="n">user_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Session</span><span class="p">]:</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#architecture-backend-architecture-__codelineno-20-4"></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;사용자 세션 목록 캐싱&quot;&quot;&quot;</span>
</span></code></pre></div>
<h2 id="architecture-backend-architecture-_14">🔗 관련 문서<a class="headerlink" href="#architecture-backend-architecture-_14" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#architecture-overview">시스템 개요</a> - 전체 시스템 구조</li>
<li><a href="#architecture-agent-system">에이전트 시스템</a> - AI 에이전트 아키텍처</li>
<li><a href="#architecture-data-flow">데이터 플로우</a> - 시스템 내 데이터 흐름</li>
<li><a href="#api-maice-api">API 문서</a> - 상세 API 문서</li>
</ul></section><section class="print-page" id="architecture-frontend-architecture" heading-number="4.1.4"><h1 id="architecture-frontend-architecture-_1">프론트엔드 아키텍처<a class="headerlink" href="#architecture-frontend-architecture-_1" title="Permanent link">&para;</a></h1>
<p>MAICE 시스템의 SvelteKit 기반 프론트엔드 아키텍처를 상세히 설명합니다.</p>
<h2 id="architecture-frontend-architecture-_2">🏗️ 전체 구조<a class="headerlink" href="#architecture-frontend-architecture-_2" title="Permanent link">&para;</a></h2>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#architecture-frontend-architecture-__codelineno-0-1"></a>┌─────────────────────────────────────────────────────────────────┐
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#architecture-frontend-architecture-__codelineno-0-2"></a>│                    Frontend (SvelteKit)                       │
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#architecture-frontend-architecture-__codelineno-0-3"></a>├─────────────────┬─────────────────┬─────────────────────────────┤
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#architecture-frontend-architecture-__codelineno-0-4"></a>│   Pages         │   Components    │      Stores &amp; Utils         │
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#architecture-frontend-architecture-__codelineno-0-5"></a>│   (Routes)      │   (Reusable)     │    (State Management)       │
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#architecture-frontend-architecture-__codelineno-0-6"></a>├─────────────────┼─────────────────┼─────────────────────────────┤
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#architecture-frontend-architecture-__codelineno-0-7"></a>│ • / (Login)     │ • Button        │ • authStore                │
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#architecture-frontend-architecture-__codelineno-0-8"></a>│ • /dashboard    │ • Card          │ • themeStore               │
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#architecture-frontend-architecture-__codelineno-0-9"></a>│ • /maice        │ • MessageList   │ • chunkBufferManager        │
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#architecture-frontend-architecture-__codelineno-0-10"></a>│ • /student/*   │ • InlineMathInput│ • maiceAPIClient           │
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#architecture-frontend-architecture-__codelineno-0-11"></a>│ • /teacher      │ • SessionManager│ • errorHandler             │
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#architecture-frontend-architecture-__codelineno-0-12"></a>│ • /admin        │ • ThemeToggle   │ • localStorage             │
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#architecture-frontend-architecture-__codelineno-0-13"></a>└─────────────────┴─────────────────┴─────────────────────────────┘
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#architecture-frontend-architecture-__codelineno-0-14"></a>                                │
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#architecture-frontend-architecture-__codelineno-0-15"></a>                    ┌───────────┴───────────┐
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#architecture-frontend-architecture-__codelineno-0-16"></a>                    │    External Libraries │
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#architecture-frontend-architecture-__codelineno-0-17"></a>                    ├─────────────────────────┤
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#architecture-frontend-architecture-__codelineno-0-18"></a>                    │ • MathLive (수식 입력)  │
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#architecture-frontend-architecture-__codelineno-0-19"></a>                    │ • Tailwind CSS (스타일) │
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#architecture-frontend-architecture-__codelineno-0-20"></a>                    │ • TypeScript (타입)     │
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#architecture-frontend-architecture-__codelineno-0-21"></a>                    │ • Vite (빌드 도구)      │
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#architecture-frontend-architecture-__codelineno-0-22"></a>                    └─────────────────────────┘
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-routes">📄 페이지 구조 (Routes)<a class="headerlink" href="#architecture-frontend-architecture-routes" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-_3">인증 관련 페이지<a class="headerlink" href="#architecture-frontend-architecture-_3" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>/</code> (루트 페이지)</strong>: 로그인 및 Google OAuth 처리</li>
<li><strong><code>/login</code></strong>: 전용 로그인 페이지</li>
<li><strong><code>/dashboard</code></strong>: 사용자 대시보드 (역할별 라우팅)</li>
</ul>
<h3 id="architecture-frontend-architecture-_4">핵심 기능 페이지<a class="headerlink" href="#architecture-frontend-architecture-_4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>/maice</code></strong>: 메인 채팅 인터페이스</li>
<li><strong><code>/student/{token}</code></strong>: 학생 전용 인터페이스</li>
<li><strong><code>/teacher</code></strong>: 교사 대시보드</li>
<li><strong><code>/admin</code></strong>: 관리자 패널</li>
</ul>
<h3 id="architecture-frontend-architecture-_5">유틸리티 페이지<a class="headerlink" href="#architecture-frontend-architecture-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong><code>/survey</code></strong>: 사용자 피드백 설문조사</li>
<li><strong><code>/test</code></strong>: 개발/테스트용 페이지</li>
</ul>
<h2 id="architecture-frontend-architecture-_6">🧩 컴포넌트 아키텍처<a class="headerlink" href="#architecture-frontend-architecture-_6" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-libcomponentscommon">공통 컴포넌트 (<code>$lib/components/common/</code>)<a class="headerlink" href="#architecture-frontend-architecture-libcomponentscommon" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#architecture-frontend-architecture-__codelineno-1-1"></a><span class="c1">// Button.svelte - 재사용 가능한 버튼 컴포넌트</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#architecture-frontend-architecture-__codelineno-1-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">variant</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;primary&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;secondary&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;danger&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;primary&#39;</span><span class="p">;</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#architecture-frontend-architecture-__codelineno-1-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">size</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;sm&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;lg&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="p">;</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#architecture-frontend-architecture-__codelineno-1-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">disabled</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#architecture-frontend-architecture-__codelineno-1-5"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">loading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#architecture-frontend-architecture-__codelineno-1-6"></a>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#architecture-frontend-architecture-__codelineno-1-7"></a><span class="c1">// Card.svelte - 카드 레이아웃 컴포넌트</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#architecture-frontend-architecture-__codelineno-1-8"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#architecture-frontend-architecture-__codelineno-1-9"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">subtitle</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#architecture-frontend-architecture-__codelineno-1-10"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">padding</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;sm&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;lg&#39;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;md&#39;</span><span class="p">;</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#architecture-frontend-architecture-__codelineno-1-11"></a>
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#architecture-frontend-architecture-__codelineno-1-12"></a><span class="c1">// ThemeToggle.svelte - 테마 전환 컴포넌트</span>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#architecture-frontend-architecture-__codelineno-1-13"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">showLabel</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-maice-libcomponentsmaice">MAICE 전용 컴포넌트 (<code>$lib/components/maice/</code>)<a class="headerlink" href="#architecture-frontend-architecture-maice-libcomponentsmaice" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#architecture-frontend-architecture-__codelineno-2-1"></a><span class="c1">// MessageList.svelte - 채팅 메시지 목록</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#architecture-frontend-architecture-__codelineno-2-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">messages</span><span class="o">:</span><span class="w"> </span><span class="kt">ChatMessage</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#architecture-frontend-architecture-__codelineno-2-3"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">isLoading</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#architecture-frontend-architecture-__codelineno-2-4"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">onMessageUpdate</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">message</span><span class="o">:</span><span class="w"> </span><span class="kt">ChatMessage</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#architecture-frontend-architecture-__codelineno-2-5"></a>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#architecture-frontend-architecture-__codelineno-2-6"></a><span class="c1">// InlineMathInput.svelte - MathLive 수식 입력</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#architecture-frontend-architecture-__codelineno-2-7"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;&#39;</span><span class="p">;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#architecture-frontend-architecture-__codelineno-2-8"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">placeholder</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;수식을 입력하세요&#39;</span><span class="p">;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#architecture-frontend-architecture-__codelineno-2-9"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">onInput</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">value</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#architecture-frontend-architecture-__codelineno-2-10"></a>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#architecture-frontend-architecture-__codelineno-2-11"></a><span class="c1">// SessionManager.svelte - 대화 세션 관리</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#architecture-frontend-architecture-__codelineno-2-12"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">sessions</span><span class="o">:</span><span class="w"> </span><span class="kt">Session</span><span class="p">[]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[];</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#architecture-frontend-architecture-__codelineno-2-13"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">currentSessionId</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#architecture-frontend-architecture-__codelineno-2-14"></a><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">onSessionSelect</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">sessionId</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">;</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-stores">🗄️ 상태 관리 (Stores)<a class="headerlink" href="#architecture-frontend-architecture-stores" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-authstore">인증 상태 관리 (<code>authStore</code>)<a class="headerlink" href="#architecture-frontend-architecture-authstore" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#architecture-frontend-architecture-__codelineno-3-1"></a><span class="c1">// $lib/stores/auth.ts</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#architecture-frontend-architecture-__codelineno-3-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">AuthState</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#architecture-frontend-architecture-__codelineno-3-3"></a><span class="w">  </span><span class="nx">isAuthenticated</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#architecture-frontend-architecture-__codelineno-3-4"></a><span class="w">  </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="kt">User</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#architecture-frontend-architecture-__codelineno-3-5"></a><span class="w">  </span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="p">;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#architecture-frontend-architecture-__codelineno-3-6"></a><span class="p">}</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#architecture-frontend-architecture-__codelineno-3-7"></a>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#architecture-frontend-architecture-__codelineno-3-8"></a><span class="kd">class</span><span class="w"> </span><span class="nx">AuthStore</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#architecture-frontend-architecture-__codelineno-3-9"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">writable</span><span class="o">&lt;</span><span class="nx">AuthState</span><span class="o">&gt;</span><span class="p">({</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#architecture-frontend-architecture-__codelineno-3-10"></a><span class="w">    </span><span class="nx">isAuthenticated</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span><span class="p">,</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#architecture-frontend-architecture-__codelineno-3-11"></a><span class="w">    </span><span class="nx">user</span><span class="o">:</span><span class="w"> </span><span class="kt">null</span><span class="p">,</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#architecture-frontend-architecture-__codelineno-3-12"></a><span class="w">    </span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">null</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#architecture-frontend-architecture-__codelineno-3-13"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#architecture-frontend-architecture-__codelineno-3-14"></a>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#architecture-frontend-architecture-__codelineno-3-15"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">login</span><span class="p">(</span><span class="nx">authData</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthData</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#architecture-frontend-architecture-__codelineno-3-16"></a><span class="w">    </span><span class="c1">// 로그인 로직</span>
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#architecture-frontend-architecture-__codelineno-3-17"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#architecture-frontend-architecture-__codelineno-3-18"></a>
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#architecture-frontend-architecture-__codelineno-3-19"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">logout</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#architecture-frontend-architecture-__codelineno-3-20"></a><span class="w">    </span><span class="c1">// 로그아웃 로직</span>
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#architecture-frontend-architecture-__codelineno-3-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#architecture-frontend-architecture-__codelineno-3-22"></a>
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#architecture-frontend-architecture-__codelineno-3-23"></a><span class="w">  </span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">callback</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">state</span><span class="o">:</span><span class="w"> </span><span class="kt">AuthState</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="ow">void</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nx">Unsubscriber</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#architecture-frontend-architecture-__codelineno-3-24"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">subscribe</span><span class="p">(</span><span class="nx">callback</span><span class="p">);</span>
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#architecture-frontend-architecture-__codelineno-3-25"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-3-26"><a id="__codelineno-3-26" name="__codelineno-3-26" href="#architecture-frontend-architecture-__codelineno-3-26"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-themestore">테마 상태 관리 (<code>themeStore</code>)<a class="headerlink" href="#architecture-frontend-architecture-themestore" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#architecture-frontend-architecture-__codelineno-4-1"></a><span class="c1">// $lib/stores/theme.ts</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#architecture-frontend-architecture-__codelineno-4-2"></a><span class="kd">interface</span><span class="w"> </span><span class="nx">ThemeState</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#architecture-frontend-architecture-__codelineno-4-3"></a><span class="w">  </span><span class="nx">current</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;light&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;dark&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;auto&#39;</span><span class="p">;</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#architecture-frontend-architecture-__codelineno-4-4"></a><span class="w">  </span><span class="nx">isDark</span><span class="o">:</span><span class="w"> </span><span class="kt">boolean</span><span class="p">;</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#architecture-frontend-architecture-__codelineno-4-5"></a><span class="p">}</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#architecture-frontend-architecture-__codelineno-4-6"></a>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#architecture-frontend-architecture-__codelineno-4-7"></a><span class="kd">class</span><span class="w"> </span><span class="nx">ThemeStore</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#architecture-frontend-architecture-__codelineno-4-8"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">state</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">writable</span><span class="o">&lt;</span><span class="nx">ThemeState</span><span class="o">&gt;</span><span class="p">({</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#architecture-frontend-architecture-__codelineno-4-9"></a><span class="w">    </span><span class="nx">current</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;auto&#39;</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#architecture-frontend-architecture-__codelineno-4-10"></a><span class="w">    </span><span class="nx">isDark</span><span class="o">:</span><span class="w"> </span><span class="kt">false</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#architecture-frontend-architecture-__codelineno-4-11"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#architecture-frontend-architecture-__codelineno-4-12"></a>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#architecture-frontend-architecture-__codelineno-4-13"></a><span class="w">  </span><span class="nx">setTheme</span><span class="p">(</span><span class="nx">theme</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;light&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;dark&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s1">&#39;auto&#39;</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#architecture-frontend-architecture-__codelineno-4-14"></a><span class="w">    </span><span class="c1">// 테마 변경 로직</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#architecture-frontend-architecture-__codelineno-4-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#architecture-frontend-architecture-__codelineno-4-16"></a>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#architecture-frontend-architecture-__codelineno-4-17"></a><span class="w">  </span><span class="nx">toggleTheme</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#architecture-frontend-architecture-__codelineno-4-18"></a><span class="w">    </span><span class="c1">// 테마 토글 로직</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#architecture-frontend-architecture-__codelineno-4-19"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#architecture-frontend-architecture-__codelineno-4-20"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-api">🔌 API 통신<a class="headerlink" href="#architecture-frontend-architecture-api" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-maice-api-maice-clientts">MAICE API 클라이언트 (<code>maice-client.ts</code>)<a class="headerlink" href="#architecture-frontend-architecture-maice-api-maice-clientts" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#architecture-frontend-architecture-__codelineno-5-1"></a><span class="c1">// $lib/api/maice-client.ts</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#architecture-frontend-architecture-__codelineno-5-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">MaiceAPIClient</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#architecture-frontend-architecture-__codelineno-5-3"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">baseURL</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#architecture-frontend-architecture-__codelineno-5-4"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#architecture-frontend-architecture-__codelineno-5-5"></a>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#architecture-frontend-architecture-__codelineno-5-6"></a><span class="w">  </span><span class="kr">constructor</span><span class="p">(</span><span class="nx">baseURL</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">token</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#architecture-frontend-architecture-__codelineno-5-7"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">baseURL</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">baseURL</span><span class="p">;</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#architecture-frontend-architecture-__codelineno-5-8"></a><span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">token</span><span class="p">;</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#architecture-frontend-architecture-__codelineno-5-9"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#architecture-frontend-architecture-__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#architecture-frontend-architecture-__codelineno-5-11"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">submitQuestionStream</span><span class="p">(</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#architecture-frontend-architecture-__codelineno-5-12"></a><span class="w">    </span><span class="nx">question</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#architecture-frontend-architecture-__codelineno-5-13"></a><span class="w">    </span><span class="nx">sessionId?</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">,</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#architecture-frontend-architecture-__codelineno-5-14"></a><span class="w">    </span><span class="nx">handlers?</span><span class="o">:</span><span class="w"> </span><span class="kt">ChatEventHandlers</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#architecture-frontend-architecture-__codelineno-5-15"></a><span class="w">  </span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="ow">void</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#architecture-frontend-architecture-__codelineno-5-16"></a><span class="w">    </span><span class="c1">// Server-Sent Events를 통한 실시간 스트리밍</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#architecture-frontend-architecture-__codelineno-5-17"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#architecture-frontend-architecture-__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#architecture-frontend-architecture-__codelineno-5-19"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">getSessionHistory</span><span class="p">(</span><span class="nx">sessionId</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Message</span><span class="p">[]</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#architecture-frontend-architecture-__codelineno-5-20"></a><span class="w">    </span><span class="c1">// 세션 히스토리 조회</span>
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#architecture-frontend-architecture-__codelineno-5-21"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#architecture-frontend-architecture-__codelineno-5-22"></a>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#architecture-frontend-architecture-__codelineno-5-23"></a><span class="w">  </span><span class="k">async</span><span class="w"> </span><span class="nx">createNewSession</span><span class="p">()</span><span class="o">:</span><span class="w"> </span><span class="nb">Promise</span><span class="o">&lt;</span><span class="nx">Session</span><span class="o">&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#architecture-frontend-architecture-__codelineno-5-24"></a><span class="w">    </span><span class="c1">// 새 세션 생성</span>
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#architecture-frontend-architecture-__codelineno-5-25"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#architecture-frontend-architecture-__codelineno-5-26"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-chunk-bufferts">청크 버퍼 관리 (<code>chunk-buffer.ts</code>)<a class="headerlink" href="#architecture-frontend-architecture-chunk-bufferts" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#architecture-frontend-architecture-__codelineno-6-1"></a><span class="c1">// $lib/utils/chunk-buffer.ts</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#architecture-frontend-architecture-__codelineno-6-2"></a><span class="k">export</span><span class="w"> </span><span class="kd">class</span><span class="w"> </span><span class="nx">ChunkBufferManager</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#architecture-frontend-architecture-__codelineno-6-3"></a><span class="w">  </span><span class="k">private</span><span class="w"> </span><span class="nx">buffers</span><span class="o">:</span><span class="w"> </span><span class="kt">Map</span><span class="o">&lt;</span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">ChunkBuffer</span><span class="o">&gt;</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">();</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#architecture-frontend-architecture-__codelineno-6-4"></a>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#architecture-frontend-architecture-__codelineno-6-5"></a><span class="w">  </span><span class="nx">addChunk</span><span class="p">(</span><span class="nx">streamId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">,</span><span class="w"> </span><span class="nx">chunk</span><span class="o">:</span><span class="w"> </span><span class="kt">SSEMessage</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#architecture-frontend-architecture-__codelineno-6-6"></a><span class="w">    </span><span class="c1">// 청크 순서 정렬 및 버퍼링</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#architecture-frontend-architecture-__codelineno-6-7"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#architecture-frontend-architecture-__codelineno-6-8"></a>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#architecture-frontend-architecture-__codelineno-6-9"></a><span class="w">  </span><span class="nx">getCompleteMessage</span><span class="p">(</span><span class="nx">streamId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="kc">null</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#architecture-frontend-architecture-__codelineno-6-10"></a><span class="w">    </span><span class="c1">// 완성된 메시지 반환</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#architecture-frontend-architecture-__codelineno-6-11"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#architecture-frontend-architecture-__codelineno-6-12"></a>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#architecture-frontend-architecture-__codelineno-6-13"></a><span class="w">  </span><span class="nx">clearBuffer</span><span class="p">(</span><span class="nx">streamId</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">)</span><span class="o">:</span><span class="w"> </span><span class="ow">void</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#architecture-frontend-architecture-__codelineno-6-14"></a><span class="w">    </span><span class="c1">// 버퍼 정리</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#architecture-frontend-architecture-__codelineno-6-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#architecture-frontend-architecture-__codelineno-6-16"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_7">🎨 스타일링 아키텍처<a class="headerlink" href="#architecture-frontend-architecture-_7" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-tailwind-css">Tailwind CSS 설정<a class="headerlink" href="#architecture-frontend-architecture-tailwind-css" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#architecture-frontend-architecture-__codelineno-7-1"></a><span class="c1">// tailwind.config.js</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#architecture-frontend-architecture-__codelineno-7-2"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#architecture-frontend-architecture-__codelineno-7-3"></a><span class="w">  </span><span class="nx">content</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">&#39;./src/**/*.{html,js,svelte,ts}&#39;</span><span class="p">],</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#architecture-frontend-architecture-__codelineno-7-4"></a><span class="w">  </span><span class="nx">theme</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#architecture-frontend-architecture-__codelineno-7-5"></a><span class="w">    </span><span class="nx">extend</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#architecture-frontend-architecture-__codelineno-7-6"></a><span class="w">      </span><span class="nx">colors</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#architecture-frontend-architecture-__codelineno-7-7"></a><span class="w">        </span><span class="s1">&#39;maice&#39;</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#architecture-frontend-architecture-__codelineno-7-8"></a><span class="w">          </span><span class="s1">&#39;primary&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-primary)&#39;</span><span class="p">,</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#architecture-frontend-architecture-__codelineno-7-9"></a><span class="w">          </span><span class="s1">&#39;secondary&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-secondary)&#39;</span><span class="p">,</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#architecture-frontend-architecture-__codelineno-7-10"></a><span class="w">          </span><span class="s1">&#39;bg&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-bg)&#39;</span><span class="p">,</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#architecture-frontend-architecture-__codelineno-7-11"></a><span class="w">          </span><span class="s1">&#39;surface&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-surface)&#39;</span><span class="p">,</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#architecture-frontend-architecture-__codelineno-7-12"></a><span class="w">          </span><span class="s1">&#39;text&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-text)&#39;</span><span class="p">,</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#architecture-frontend-architecture-__codelineno-7-13"></a><span class="w">          </span><span class="s1">&#39;muted&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;var(--maice-muted)&#39;</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#architecture-frontend-architecture-__codelineno-7-14"></a><span class="w">        </span><span class="p">}</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#architecture-frontend-architecture-__codelineno-7-15"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#architecture-frontend-architecture-__codelineno-7-16"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#architecture-frontend-architecture-__codelineno-7-17"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#architecture-frontend-architecture-__codelineno-7-18"></a><span class="w">  </span><span class="nx">darkMode</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;class&#39;</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#architecture-frontend-architecture-__codelineno-7-19"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-css">CSS 변수를 통한 테마 시스템<a class="headerlink" href="#architecture-frontend-architecture-css" title="Permanent link">&para;</a></h3>
<div class="language-css highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#architecture-frontend-architecture-__codelineno-8-1"></a><span class="c">/* src/app.css */</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#architecture-frontend-architecture-__codelineno-8-2"></a><span class="p">:</span><span class="nd">root</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#architecture-frontend-architecture-__codelineno-8-3"></a><span class="w">  </span><span class="nv">--maice-primary</span><span class="p">:</span><span class="w"> </span><span class="mh">#2563eb</span><span class="p">;</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#architecture-frontend-architecture-__codelineno-8-4"></a><span class="w">  </span><span class="nv">--maice-secondary</span><span class="p">:</span><span class="w"> </span><span class="mh">#64748b</span><span class="p">;</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#architecture-frontend-architecture-__codelineno-8-5"></a><span class="w">  </span><span class="nv">--maice-bg</span><span class="p">:</span><span class="w"> </span><span class="mh">#ffffff</span><span class="p">;</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#architecture-frontend-architecture-__codelineno-8-6"></a><span class="w">  </span><span class="nv">--maice-surface</span><span class="p">:</span><span class="w"> </span><span class="mh">#f8fafc</span><span class="p">;</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#architecture-frontend-architecture-__codelineno-8-7"></a><span class="w">  </span><span class="nv">--maice-text</span><span class="p">:</span><span class="w"> </span><span class="mh">#1e293b</span><span class="p">;</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#architecture-frontend-architecture-__codelineno-8-8"></a><span class="w">  </span><span class="nv">--maice-muted</span><span class="p">:</span><span class="w"> </span><span class="mh">#64748b</span><span class="p">;</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#architecture-frontend-architecture-__codelineno-8-9"></a><span class="p">}</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#architecture-frontend-architecture-__codelineno-8-10"></a>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#architecture-frontend-architecture-__codelineno-8-11"></a><span class="o">[</span><span class="nt">data-theme</span><span class="o">=</span><span class="s2">&quot;dark&quot;</span><span class="o">]</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#architecture-frontend-architecture-__codelineno-8-12"></a><span class="w">  </span><span class="nv">--maice-primary</span><span class="p">:</span><span class="w"> </span><span class="mh">#3b82f6</span><span class="p">;</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#architecture-frontend-architecture-__codelineno-8-13"></a><span class="w">  </span><span class="nv">--maice-secondary</span><span class="p">:</span><span class="w"> </span><span class="mh">#94a3b8</span><span class="p">;</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#architecture-frontend-architecture-__codelineno-8-14"></a><span class="w">  </span><span class="nv">--maice-bg</span><span class="p">:</span><span class="w"> </span><span class="mh">#0f172a</span><span class="p">;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#architecture-frontend-architecture-__codelineno-8-15"></a><span class="w">  </span><span class="nv">--maice-surface</span><span class="p">:</span><span class="w"> </span><span class="mh">#1e293b</span><span class="p">;</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#architecture-frontend-architecture-__codelineno-8-16"></a><span class="w">  </span><span class="nv">--maice-text</span><span class="p">:</span><span class="w"> </span><span class="mh">#f1f5f9</span><span class="p">;</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#architecture-frontend-architecture-__codelineno-8-17"></a><span class="w">  </span><span class="nv">--maice-muted</span><span class="p">:</span><span class="w"> </span><span class="mh">#94a3b8</span><span class="p">;</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#architecture-frontend-architecture-__codelineno-8-18"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_8">📱 반응형 디자인<a class="headerlink" href="#architecture-frontend-architecture-_8" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-_9">브레이크포인트 전략<a class="headerlink" href="#architecture-frontend-architecture-_9" title="Permanent link">&para;</a></h3>
<div class="language-css highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#architecture-frontend-architecture-__codelineno-9-1"></a><span class="c">/* 모바일 우선 접근법 */</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#architecture-frontend-architecture-__codelineno-9-2"></a><span class="p">.</span><span class="nc">container</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#architecture-frontend-architecture-__codelineno-9-3"></a><span class="w">  </span><span class="err">@apply</span><span class="w"> </span><span class="err">px-4</span><span class="w"> </span><span class="n">sm</span><span class="p">:</span><span class="n">px-6</span><span class="w"> </span><span class="n">lg</span><span class="o">:</span><span class="n">px-8</span><span class="p">;</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#architecture-frontend-architecture-__codelineno-9-4"></a><span class="p">}</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#architecture-frontend-architecture-__codelineno-9-5"></a>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#architecture-frontend-architecture-__codelineno-9-6"></a><span class="p">.</span><span class="nc">chat-interface</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#architecture-frontend-architecture-__codelineno-9-7"></a><span class="w">  </span><span class="err">@apply</span><span class="w"> </span><span class="err">flex</span><span class="w"> </span><span class="err">flex-col</span><span class="w"> </span><span class="err">h-screen</span><span class="p">;</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#architecture-frontend-architecture-__codelineno-9-8"></a><span class="w">  </span><span class="err">@apply</span><span class="w"> </span><span class="n">md</span><span class="p">:</span><span class="kc">flex</span><span class="o">-</span><span class="kc">row</span><span class="p">;</span>
</span><span id="__span-9-9"><a id="__codelineno-9-9" name="__codelineno-9-9" href="#architecture-frontend-architecture-__codelineno-9-9"></a><span class="p">}</span>
</span><span id="__span-9-10"><a id="__codelineno-9-10" name="__codelineno-9-10" href="#architecture-frontend-architecture-__codelineno-9-10"></a>
</span><span id="__span-9-11"><a id="__codelineno-9-11" name="__codelineno-9-11" href="#architecture-frontend-architecture-__codelineno-9-11"></a><span class="p">.</span><span class="nc">sidebar</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-9-12"><a id="__codelineno-9-12" name="__codelineno-9-12" href="#architecture-frontend-architecture-__codelineno-9-12"></a><span class="w">  </span><span class="err">@apply</span><span class="w"> </span><span class="err">w-full</span><span class="w"> </span><span class="n">md</span><span class="p">:</span><span class="n">w-80</span><span class="w"> </span><span class="n">lg</span><span class="o">:</span><span class="n">w-96</span><span class="p">;</span>
</span><span id="__span-9-13"><a id="__codelineno-9-13" name="__codelineno-9-13" href="#architecture-frontend-architecture-__codelineno-9-13"></a><span class="w">  </span><span class="err">@apply</span><span class="w"> </span><span class="err">hidden</span><span class="w"> </span><span class="n">md</span><span class="p">:</span><span class="kc">block</span><span class="p">;</span>
</span><span id="__span-9-14"><a id="__codelineno-9-14" name="__codelineno-9-14" href="#architecture-frontend-architecture-__codelineno-9-14"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-_10">컴포넌트별 반응형 처리<a class="headerlink" href="#architecture-frontend-architecture-_10" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#architecture-frontend-architecture-__codelineno-10-1"></a><span class="c1">// MessageList.svelte</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#architecture-frontend-architecture-__codelineno-10-2"></a><span class="kd">let</span><span class="w"> </span><span class="nx">isMobile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$state</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#architecture-frontend-architecture-__codelineno-10-3"></a>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#architecture-frontend-architecture-__codelineno-10-4"></a><span class="nx">$effect</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#architecture-frontend-architecture-__codelineno-10-5"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">checkMobile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#architecture-frontend-architecture-__codelineno-10-6"></a><span class="w">    </span><span class="nx">isMobile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">innerWidth</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mf">768</span><span class="p">;</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#architecture-frontend-architecture-__codelineno-10-7"></a><span class="w">  </span><span class="p">};</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#architecture-frontend-architecture-__codelineno-10-8"></a>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#architecture-frontend-architecture-__codelineno-10-9"></a><span class="w">  </span><span class="nx">checkMobile</span><span class="p">();</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#architecture-frontend-architecture-__codelineno-10-10"></a><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">checkMobile</span><span class="p">);</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#architecture-frontend-architecture-__codelineno-10-11"></a>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#architecture-frontend-architecture-__codelineno-10-12"></a><span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">checkMobile</span><span class="p">);</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#architecture-frontend-architecture-__codelineno-10-13"></a><span class="p">});</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_11">🔧 개발 도구 및 빌드<a class="headerlink" href="#architecture-frontend-architecture-_11" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-vite">Vite 설정<a class="headerlink" href="#architecture-frontend-architecture-vite" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#architecture-frontend-architecture-__codelineno-11-1"></a><span class="c1">// vite.config.ts</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#architecture-frontend-architecture-__codelineno-11-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">sveltekit</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@sveltejs/kit/vite&#39;</span><span class="p">;</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#architecture-frontend-architecture-__codelineno-11-3"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">defineConfig</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vite&#39;</span><span class="p">;</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#architecture-frontend-architecture-__codelineno-11-4"></a>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#architecture-frontend-architecture-__codelineno-11-5"></a><span class="k">export</span><span class="w"> </span><span class="k">default</span><span class="w"> </span><span class="nx">defineConfig</span><span class="p">({</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#architecture-frontend-architecture-__codelineno-11-6"></a><span class="w">  </span><span class="nx">plugins</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="nx">sveltekit</span><span class="p">()],</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#architecture-frontend-architecture-__codelineno-11-7"></a><span class="w">  </span><span class="nx">server</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#architecture-frontend-architecture-__codelineno-11-8"></a><span class="w">    </span><span class="nx">port</span><span class="o">:</span><span class="w"> </span><span class="kt">3000</span><span class="p">,</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#architecture-frontend-architecture-__codelineno-11-9"></a><span class="w">    </span><span class="nx">proxy</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#architecture-frontend-architecture-__codelineno-11-10"></a><span class="w">      </span><span class="s1">&#39;/api&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;http://localhost:8000&#39;</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#architecture-frontend-architecture-__codelineno-11-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#architecture-frontend-architecture-__codelineno-11-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#architecture-frontend-architecture-__codelineno-11-13"></a><span class="w">  </span><span class="nx">build</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#architecture-frontend-architecture-__codelineno-11-14"></a><span class="w">    </span><span class="nx">sourcemap</span><span class="o">:</span><span class="w"> </span><span class="kt">true</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#architecture-frontend-architecture-__codelineno-11-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#architecture-frontend-architecture-__codelineno-11-16"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-typescript">TypeScript 설정<a class="headerlink" href="#architecture-frontend-architecture-typescript" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#architecture-frontend-architecture-__codelineno-12-1"></a><span class="c1">// tsconfig.json</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#architecture-frontend-architecture-__codelineno-12-2"></a><span class="p">{</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#architecture-frontend-architecture-__codelineno-12-3"></a><span class="w">  </span><span class="nt">&quot;extends&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;./.svelte-kit/tsconfig.json&quot;</span><span class="p">,</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#architecture-frontend-architecture-__codelineno-12-4"></a><span class="w">  </span><span class="nt">&quot;compilerOptions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#architecture-frontend-architecture-__codelineno-12-5"></a><span class="w">    </span><span class="nt">&quot;allowJs&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#architecture-frontend-architecture-__codelineno-12-6"></a><span class="w">    </span><span class="nt">&quot;checkJs&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#architecture-frontend-architecture-__codelineno-12-7"></a><span class="w">    </span><span class="nt">&quot;esModuleInterop&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#architecture-frontend-architecture-__codelineno-12-8"></a><span class="w">    </span><span class="nt">&quot;forceConsistentCasingInFileNames&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#architecture-frontend-architecture-__codelineno-12-9"></a><span class="w">    </span><span class="nt">&quot;resolveJsonModule&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#architecture-frontend-architecture-__codelineno-12-10"></a><span class="w">    </span><span class="nt">&quot;skipLibCheck&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#architecture-frontend-architecture-__codelineno-12-11"></a><span class="w">    </span><span class="nt">&quot;sourceMap&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#architecture-frontend-architecture-__codelineno-12-12"></a><span class="w">    </span><span class="nt">&quot;strict&quot;</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#architecture-frontend-architecture-__codelineno-12-13"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#architecture-frontend-architecture-__codelineno-12-14"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_12">🧪 테스트 전략<a class="headerlink" href="#architecture-frontend-architecture-_12" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-_13">컴포넌트 테스트<a class="headerlink" href="#architecture-frontend-architecture-_13" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#architecture-frontend-architecture-__codelineno-13-1"></a><span class="c1">// Button.test.ts</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#architecture-frontend-architecture-__codelineno-13-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">render</span><span class="p">,</span><span class="w"> </span><span class="nx">fireEvent</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@testing-library/svelte&#39;</span><span class="p">;</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#architecture-frontend-architecture-__codelineno-13-3"></a><span class="k">import</span><span class="w"> </span><span class="nx">Button</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;$lib/components/common/Button.svelte&#39;</span><span class="p">;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#architecture-frontend-architecture-__codelineno-13-4"></a>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#architecture-frontend-architecture-__codelineno-13-5"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;버튼 클릭 이벤트 처리&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#architecture-frontend-architecture-__codelineno-13-6"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">getByRole</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">render</span><span class="p">(</span><span class="nx">Button</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#architecture-frontend-architecture-__codelineno-13-7"></a><span class="w">    </span><span class="nx">props</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">variant</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;primary&#39;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#architecture-frontend-architecture-__codelineno-13-8"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#architecture-frontend-architecture-__codelineno-13-9"></a>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#architecture-frontend-architecture-__codelineno-13-10"></a><span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">button</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">getByRole</span><span class="p">(</span><span class="s1">&#39;button&#39;</span><span class="p">);</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#architecture-frontend-architecture-__codelineno-13-11"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">fireEvent</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="nx">button</span><span class="p">);</span>
</span><span id="__span-13-12"><a id="__codelineno-13-12" name="__codelineno-13-12" href="#architecture-frontend-architecture-__codelineno-13-12"></a>
</span><span id="__span-13-13"><a id="__codelineno-13-13" name="__codelineno-13-13" href="#architecture-frontend-architecture-__codelineno-13-13"></a><span class="w">  </span><span class="c1">// 테스트 로직</span>
</span><span id="__span-13-14"><a id="__codelineno-13-14" name="__codelineno-13-14" href="#architecture-frontend-architecture-__codelineno-13-14"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-e2e">E2E 테스트<a class="headerlink" href="#architecture-frontend-architecture-e2e" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#architecture-frontend-architecture-__codelineno-14-1"></a><span class="c1">// chat-flow.test.ts</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#architecture-frontend-architecture-__codelineno-14-2"></a><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">test</span><span class="p">,</span><span class="w"> </span><span class="nx">expect</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;@playwright/test&#39;</span><span class="p">;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#architecture-frontend-architecture-__codelineno-14-3"></a>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#architecture-frontend-architecture-__codelineno-14-4"></a><span class="nx">test</span><span class="p">(</span><span class="s1">&#39;채팅 플로우 테스트&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">async</span><span class="w"> </span><span class="p">({</span><span class="w"> </span><span class="nx">page</span><span class="w"> </span><span class="p">})</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#architecture-frontend-architecture-__codelineno-14-5"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="kr">goto</span><span class="p">(</span><span class="s1">&#39;/maice&#39;</span><span class="p">);</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#architecture-frontend-architecture-__codelineno-14-6"></a>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#architecture-frontend-architecture-__codelineno-14-7"></a><span class="w">  </span><span class="c1">// 로그인</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#architecture-frontend-architecture-__codelineno-14-8"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">&#39;[data-testid=&quot;google-login&quot;]&#39;</span><span class="p">);</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#architecture-frontend-architecture-__codelineno-14-9"></a>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#architecture-frontend-architecture-__codelineno-14-10"></a><span class="w">  </span><span class="c1">// 질문 입력</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#architecture-frontend-architecture-__codelineno-14-11"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">fill</span><span class="p">(</span><span class="s1">&#39;[data-testid=&quot;question-input&quot;]&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;이차방정식의 해를 구해주세요&#39;</span><span class="p">);</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#architecture-frontend-architecture-__codelineno-14-12"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">page</span><span class="p">.</span><span class="nx">click</span><span class="p">(</span><span class="s1">&#39;[data-testid=&quot;submit-button&quot;]&#39;</span><span class="p">);</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#architecture-frontend-architecture-__codelineno-14-13"></a>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#architecture-frontend-architecture-__codelineno-14-14"></a><span class="w">  </span><span class="c1">// 응답 확인</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#architecture-frontend-architecture-__codelineno-14-15"></a><span class="w">  </span><span class="k">await</span><span class="w"> </span><span class="nx">expect</span><span class="p">(</span><span class="nx">page</span><span class="p">.</span><span class="nx">locator</span><span class="p">(</span><span class="s1">&#39;[data-testid=&quot;ai-response&quot;]&#39;</span><span class="p">)).</span><span class="nx">toBeVisible</span><span class="p">();</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#architecture-frontend-architecture-__codelineno-14-16"></a><span class="p">});</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_14">🚀 성능 최적화<a class="headerlink" href="#architecture-frontend-architecture-_14" title="Permanent link">&para;</a></h2>
<h3 id="architecture-frontend-architecture-_15">코드 분할<a class="headerlink" href="#architecture-frontend-architecture-_15" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#architecture-frontend-architecture-__codelineno-15-1"></a><span class="c1">// 지연 로딩 컴포넌트</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#architecture-frontend-architecture-__codelineno-15-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">MathInput</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lazy</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="k">import</span><span class="p">(</span><span class="s1">&#39;$lib/components/maice/InlineMathInput.svelte&#39;</span><span class="p">));</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#architecture-frontend-architecture-__codelineno-15-3"></a>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#architecture-frontend-architecture-__codelineno-15-4"></a><span class="c1">// 조건부 렌더링</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#architecture-frontend-architecture-__codelineno-15-5"></a><span class="p">{</span><span class="n">#if</span><span class="w"> </span><span class="nx">showMathInput</span><span class="p">}</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#architecture-frontend-architecture-__codelineno-15-6"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">MathInput</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#architecture-frontend-architecture-__codelineno-15-7"></a><span class="p">{</span><span class="err">/if}</span>
</span></code></pre></div>
<h3 id="architecture-frontend-architecture-_16">이미지 최적화<a class="headerlink" href="#architecture-frontend-architecture-_16" title="Permanent link">&para;</a></h3>
<div class="language-typescript highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#architecture-frontend-architecture-__codelineno-16-1"></a><span class="c1">// 이미지 최적화 컴포넌트</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#architecture-frontend-architecture-__codelineno-16-2"></a><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">lang</span><span class="o">=</span><span class="s2">&quot;ts&quot;</span><span class="o">&gt;</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#architecture-frontend-architecture-__codelineno-16-3"></a><span class="w">  </span><span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">onMount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;svelte&#39;</span><span class="p">;</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#architecture-frontend-architecture-__codelineno-16-4"></a>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#architecture-frontend-architecture-__codelineno-16-5"></a><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">src</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#architecture-frontend-architecture-__codelineno-16-6"></a><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">alt</span><span class="o">:</span><span class="w"> </span><span class="kt">string</span><span class="p">;</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#architecture-frontend-architecture-__codelineno-16-7"></a><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#architecture-frontend-architecture-__codelineno-16-8"></a><span class="w">  </span><span class="k">export</span><span class="w"> </span><span class="kd">let</span><span class="w"> </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="kt">number</span><span class="p">;</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#architecture-frontend-architecture-__codelineno-16-9"></a>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#architecture-frontend-architecture-__codelineno-16-10"></a><span class="w">  </span><span class="kd">let</span><span class="w"> </span><span class="nx">loaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">$state</span><span class="p">(</span><span class="kc">false</span><span class="p">);</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#architecture-frontend-architecture-__codelineno-16-11"></a>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#architecture-frontend-architecture-__codelineno-16-12"></a><span class="w">  </span><span class="nx">onMount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#architecture-frontend-architecture-__codelineno-16-13"></a><span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">img</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Image</span><span class="p">();</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#architecture-frontend-architecture-__codelineno-16-14"></a><span class="w">    </span><span class="nx">img</span><span class="p">.</span><span class="nx">onload</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">loaded</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#architecture-frontend-architecture-__codelineno-16-15"></a><span class="w">    </span><span class="nx">img</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">src</span><span class="p">;</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#architecture-frontend-architecture-__codelineno-16-16"></a><span class="w">  </span><span class="p">});</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#architecture-frontend-architecture-__codelineno-16-17"></a><span class="o">&lt;</span><span class="err">/script&gt;</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#architecture-frontend-architecture-__codelineno-16-18"></a>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#architecture-frontend-architecture-__codelineno-16-19"></a><span class="p">{</span><span class="n">#if</span><span class="w"> </span><span class="nx">loaded</span><span class="p">}</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#architecture-frontend-architecture-__codelineno-16-20"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">img</span><span class="w"> </span><span class="p">{</span><span class="nx">src</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">alt</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">width</span><span class="p">}</span><span class="w"> </span><span class="p">{</span><span class="nx">height</span><span class="p">}</span><span class="w"> </span><span class="o">/&gt;</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#architecture-frontend-architecture-__codelineno-16-21"></a><span class="p">{</span><span class="o">:</span><span class="k">else</span><span class="p">}</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#architecture-frontend-architecture-__codelineno-16-22"></a><span class="w">  </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;skeleton-loader&quot;</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;width: {width}px; height: {height}px;&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#architecture-frontend-architecture-__codelineno-16-23"></a><span class="p">{</span><span class="err">/if}</span>
</span></code></pre></div>
<h2 id="architecture-frontend-architecture-_17">🔗 관련 문서<a class="headerlink" href="#architecture-frontend-architecture-_17" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#architecture-overview">시스템 개요</a> - 전체 시스템 구조</li>
<li><a href="#architecture-backend-architecture">백엔드 아키텍처</a> - FastAPI 기반 백엔드 구조</li>
<li><a href="#components-frontend-components">프론트엔드 컴포넌트</a> - 상세 컴포넌트 가이드</li>
<li><a href="#components-math-input">수학 입력 시스템</a> - MathLive 통합 가이드</li>
</ul></section></section>
                    <section class='print-page md-section' id='section-4-2' heading-number='4.2'>
                        <h1>API 문서<a class='headerlink' href='#section-4-2' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="api-maice-api" heading-number="4.2.1"><h1 id="api-maice-api-maice-api">MAICE API 문서<a class="headerlink" href="#api-maice-api-maice-api" title="Permanent link">&para;</a></h1>
<p>MAICE 시스템의 핵심 채팅 및 세션 관리 API를 상세히 설명합니다.</p>
<h2 id="api-maice-api-_1">🔐 인증<a class="headerlink" href="#api-maice-api-_1" title="Permanent link">&para;</a></h2>
<p>모든 API 요청은 JWT 토큰을 통한 인증이 필요합니다.</p>
<h3 id="api-maice-api-_2">헤더 설정<a class="headerlink" href="#api-maice-api-_2" title="Permanent link">&para;</a></h3>
<div class="language-http highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#api-maice-api-__codelineno-0-1"></a><span class="err">Authorization: Bearer &lt;your_jwt_token&gt;</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#api-maice-api-__codelineno-0-2"></a><span class="err">Content-Type: application/json</span>
</span></code></pre></div>
<h3 id="api-maice-api-_3">토큰 갱신<a class="headerlink" href="#api-maice-api-_3" title="Permanent link">&para;</a></h3>
<div class="language-http highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#api-maice-api-__codelineno-1-1"></a><span class="err">POST /api/v1/auth/refresh</span>
</span></code></pre></div>
<h2 id="api-maice-api-api">💬 채팅 API<a class="headerlink" href="#api-maice-api-api" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_4">실시간 채팅 스트리밍<a class="headerlink" href="#api-maice-api-_4" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>POST /api/v1/maice/chat/streaming</code></p>
<p><strong>설명</strong>: 실시간으로 AI 응답을 스트리밍으로 받는 채팅 API</p>
<p><strong>요청 본문</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#api-maice-api-__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#api-maice-api-__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 x² + 5x + 6 = 0의 해를 구해주세요&quot;</span><span class="p">,</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#api-maice-api-__codelineno-2-3"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#api-maice-api-__codelineno-2-4"></a><span class="w">  </span><span class="nt">&quot;message_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;question&quot;</span><span class="p">,</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#api-maice-api-__codelineno-2-5"></a><span class="w">  </span><span class="nt">&quot;conversation_history&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#api-maice-api-__codelineno-2-6"></a><span class="w">    </span><span class="s2">&quot;이전 대화 내용 1&quot;</span><span class="p">,</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#api-maice-api-__codelineno-2-7"></a><span class="w">    </span><span class="s2">&quot;이전 대화 내용 2&quot;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#api-maice-api-__codelineno-2-8"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#api-maice-api-__codelineno-2-9"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>응답</strong>: Server-Sent Events (SSE) 스트림
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#api-maice-api-__codelineno-3-1"></a>data: {&quot;type&quot;: &quot;chunk&quot;, &quot;content&quot;: &quot;이차방정식&quot;, &quot;chunk_index&quot;: 0}
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#api-maice-api-__codelineno-3-2"></a>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#api-maice-api-__codelineno-3-3"></a>data: {&quot;type&quot;: &quot;chunk&quot;, &quot;content&quot;: &quot; x² + 5x + 6 = 0&quot;, &quot;chunk_index&quot;: 1}
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#api-maice-api-__codelineno-3-4"></a>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#api-maice-api-__codelineno-3-5"></a>data: {&quot;type&quot;: &quot;complete&quot;, &quot;message_id&quot;: 456, &quot;session_id&quot;: 123}
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#api-maice-api-__codelineno-3-6"></a>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#api-maice-api-__codelineno-3-7"></a>data: {&quot;type&quot;: &quot;summary&quot;, &quot;content&quot;: &quot;학습 요약 내용...&quot;}
</span></code></pre></div></p>
<p><strong>응답 타입</strong>:
- <code>chunk</code>: 스트리밍 텍스트 청크
- <code>complete</code>: 메시지 완료 알림
- <code>summary</code>: 학습 요약
- <code>error</code>: 오류 발생</p>
<h3 id="api-maice-api-_5">일반 채팅 (비스트리밍)<a class="headerlink" href="#api-maice-api-_5" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>POST /api/v1/maice/chat</code></p>
<p><strong>요청 본문</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#api-maice-api-__codelineno-4-1"></a><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#api-maice-api-__codelineno-4-2"></a><span class="w">  </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;삼각함수 sin(π/2)의 값을 구해주세요&quot;</span><span class="p">,</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#api-maice-api-__codelineno-4-3"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#api-maice-api-__codelineno-4-4"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#api-maice-api-__codelineno-5-1"></a><span class="p">{</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#api-maice-api-__codelineno-5-2"></a><span class="w">  </span><span class="nt">&quot;message_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">789</span><span class="p">,</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#api-maice-api-__codelineno-5-3"></a><span class="w">  </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sin(π/2) = 1입니다.&quot;</span><span class="p">,</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#api-maice-api-__codelineno-5-4"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#api-maice-api-__codelineno-5-5"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T10:30:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#api-maice-api-__codelineno-5-6"></a><span class="w">  </span><span class="nt">&quot;agent_responses&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#api-maice-api-__codelineno-5-7"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#api-maice-api-__codelineno-5-8"></a><span class="w">      </span><span class="nt">&quot;agent_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;answer_generator&quot;</span><span class="p">,</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#api-maice-api-__codelineno-5-9"></a><span class="w">      </span><span class="nt">&quot;response_data&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#api-maice-api-__codelineno-5-10"></a><span class="w">        </span><span class="nt">&quot;answer&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;sin(π/2) = 1&quot;</span><span class="p">,</span>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#api-maice-api-__codelineno-5-11"></a><span class="w">        </span><span class="nt">&quot;explanation&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;단위원에서 각도 π/2는 90도입니다...&quot;</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#api-maice-api-__codelineno-5-12"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#api-maice-api-__codelineno-5-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#api-maice-api-__codelineno-5-14"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#api-maice-api-__codelineno-5-15"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="api-maice-api-api_1">📚 세션 관리 API<a class="headerlink" href="#api-maice-api-api_1" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_6">세션 목록 조회<a class="headerlink" href="#api-maice-api-_6" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/maice/sessions</code></p>
<p><strong>쿼리 파라미터</strong>:
- <code>page</code>: 페이지 번호 (기본값: 1)
- <code>limit</code>: 페이지당 항목 수 (기본값: 20)
- <code>user_id</code>: 특정 사용자의 세션만 조회 (관리자만)</p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#api-maice-api-__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#api-maice-api-__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#api-maice-api-__codelineno-6-3"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#api-maice-api-__codelineno-6-4"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#api-maice-api-__codelineno-6-5"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 학습&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#api-maice-api-__codelineno-6-6"></a><span class="w">      </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#api-maice-api-__codelineno-6-7"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#api-maice-api-__codelineno-6-8"></a><span class="w">      </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T10:30:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#api-maice-api-__codelineno-6-9"></a><span class="w">      </span><span class="nt">&quot;message_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#api-maice-api-__codelineno-6-10"></a><span class="w">      </span><span class="nt">&quot;last_message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식의 해를 구해주세요&quot;</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#api-maice-api-__codelineno-6-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#api-maice-api-__codelineno-6-12"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#api-maice-api-__codelineno-6-13"></a><span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#api-maice-api-__codelineno-6-14"></a><span class="w">  </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#api-maice-api-__codelineno-6-15"></a><span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#api-maice-api-__codelineno-6-16"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_7">특정 세션 조회<a class="headerlink" href="#api-maice-api-_7" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/maice/sessions/{session_id}</code></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#api-maice-api-__codelineno-7-1"></a><span class="p">{</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#api-maice-api-__codelineno-7-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#api-maice-api-__codelineno-7-3"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 학습&quot;</span><span class="p">,</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#api-maice-api-__codelineno-7-4"></a><span class="w">  </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#api-maice-api-__codelineno-7-5"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#api-maice-api-__codelineno-7-6"></a><span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T10:30:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#api-maice-api-__codelineno-7-7"></a><span class="w">  </span><span class="nt">&quot;learning_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#api-maice-api-__codelineno-7-8"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">789</span><span class="p">,</span>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#api-maice-api-__codelineno-7-9"></a><span class="w">    </span><span class="nt">&quot;summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식의 기본 개념과 해법을 학습했습니다.&quot;</span><span class="p">,</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#api-maice-api-__codelineno-7-10"></a><span class="w">    </span><span class="nt">&quot;difficult_concepts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;판별식&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;근의 공식&quot;</span><span class="p">],</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#api-maice-api-__codelineno-7-11"></a><span class="w">    </span><span class="nt">&quot;recommended_topics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;이차함수&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;이차부등식&quot;</span><span class="p">]</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#api-maice-api-__codelineno-7-12"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#api-maice-api-__codelineno-7-13"></a><span class="w">  </span><span class="nt">&quot;messages&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#api-maice-api-__codelineno-7-14"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#api-maice-api-__codelineno-7-15"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">101</span><span class="p">,</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#api-maice-api-__codelineno-7-16"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식의 해를 구해주세요&quot;</span><span class="p">,</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#api-maice-api-__codelineno-7-17"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;question&quot;</span><span class="p">,</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#api-maice-api-__codelineno-7-18"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#api-maice-api-__codelineno-7-19"></a><span class="w">    </span><span class="p">},</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#api-maice-api-__codelineno-7-20"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#api-maice-api-__codelineno-7-21"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">102</span><span class="p">,</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#api-maice-api-__codelineno-7-22"></a><span class="w">      </span><span class="nt">&quot;content&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 x² + 5x + 6 = 0의 해는...&quot;</span><span class="p">,</span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#api-maice-api-__codelineno-7-23"></a><span class="w">      </span><span class="nt">&quot;type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;answer&quot;</span><span class="p">,</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#api-maice-api-__codelineno-7-24"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:01:00Z&quot;</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#api-maice-api-__codelineno-7-25"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#api-maice-api-__codelineno-7-26"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-7-27"><a id="__codelineno-7-27" name="__codelineno-7-27" href="#api-maice-api-__codelineno-7-27"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_8">새 세션 생성<a class="headerlink" href="#api-maice-api-_8" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>POST /api/v1/maice/sessions</code></p>
<p><strong>요청 본문</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#api-maice-api-__codelineno-8-1"></a><span class="p">{</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#api-maice-api-__codelineno-8-2"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;새로운 수학 학습 세션&quot;</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#api-maice-api-__codelineno-8-3"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#api-maice-api-__codelineno-9-1"></a><span class="p">{</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#api-maice-api-__codelineno-9-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">124</span><span class="p">,</span>
</span><span id="__span-9-3"><a id="__codelineno-9-3" name="__codelineno-9-3" href="#api-maice-api-__codelineno-9-3"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;새로운 수학 학습 세션&quot;</span><span class="p">,</span>
</span><span id="__span-9-4"><a id="__codelineno-9-4" name="__codelineno-9-4" href="#api-maice-api-__codelineno-9-4"></a><span class="w">  </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-9-5"><a id="__codelineno-9-5" name="__codelineno-9-5" href="#api-maice-api-__codelineno-9-5"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T11:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-9-6"><a id="__codelineno-9-6" name="__codelineno-9-6" href="#api-maice-api-__codelineno-9-6"></a><span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T11:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-9-7"><a id="__codelineno-9-7" name="__codelineno-9-7" href="#api-maice-api-__codelineno-9-7"></a><span class="w">  </span><span class="nt">&quot;message_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-9-8"><a id="__codelineno-9-8" name="__codelineno-9-8" href="#api-maice-api-__codelineno-9-8"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_9">세션 정보 수정<a class="headerlink" href="#api-maice-api-_9" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>PUT /api/v1/maice/sessions/{session_id}</code></p>
<p><strong>요청 본문</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#api-maice-api-__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#api-maice-api-__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수정된 세션 제목&quot;</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#api-maice-api-__codelineno-10-3"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#api-maice-api-__codelineno-11-1"></a><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#api-maice-api-__codelineno-11-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#api-maice-api-__codelineno-11-3"></a><span class="w">  </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;수정된 세션 제목&quot;</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#api-maice-api-__codelineno-11-4"></a><span class="w">  </span><span class="nt">&quot;user_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#api-maice-api-__codelineno-11-5"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#api-maice-api-__codelineno-11-6"></a><span class="w">  </span><span class="nt">&quot;updated_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T11:30:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#api-maice-api-__codelineno-11-7"></a><span class="w">  </span><span class="nt">&quot;message_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#api-maice-api-__codelineno-11-8"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_10">세션 삭제<a class="headerlink" href="#api-maice-api-_10" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>DELETE /api/v1/maice/sessions/{session_id}</code></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#api-maice-api-__codelineno-12-1"></a><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#api-maice-api-__codelineno-12-2"></a><span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;세션이 성공적으로 삭제되었습니다.&quot;</span><span class="p">,</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#api-maice-api-__codelineno-12-3"></a><span class="w">  </span><span class="nt">&quot;deleted_session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#api-maice-api-__codelineno-12-4"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="api-maice-api-api_2">👤 사용자 관련 API<a class="headerlink" href="#api-maice-api-api_2" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_11">현재 사용자 정보<a class="headerlink" href="#api-maice-api-_11" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/auth/me</code></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#api-maice-api-__codelineno-13-1"></a><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#api-maice-api-__codelineno-13-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#api-maice-api-__codelineno-13-3"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#api-maice-api-__codelineno-13-4"></a><span class="w">  </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;김학생&quot;</span><span class="p">,</span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#api-maice-api-__codelineno-13-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span><span class="p">,</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#api-maice-api-__codelineno-13-6"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-01T00:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#api-maice-api-__codelineno-13-7"></a><span class="w">  </span><span class="nt">&quot;last_login&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T10:00:00Z&quot;</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#api-maice-api-__codelineno-13-8"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_12">사용자 학습 통계<a class="headerlink" href="#api-maice-api-_12" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/student/progress</code></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#api-maice-api-__codelineno-14-1"></a><span class="p">{</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#api-maice-api-__codelineno-14-2"></a><span class="w">  </span><span class="nt">&quot;total_sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#api-maice-api-__codelineno-14-3"></a><span class="w">  </span><span class="nt">&quot;total_questions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#api-maice-api-__codelineno-14-4"></a><span class="w">  </span><span class="nt">&quot;learning_time_minutes&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">180</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#api-maice-api-__codelineno-14-5"></a><span class="w">  </span><span class="nt">&quot;difficult_concepts&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#api-maice-api-__codelineno-14-6"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#api-maice-api-__codelineno-14-7"></a><span class="w">      </span><span class="nt">&quot;concept&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식&quot;</span><span class="p">,</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#api-maice-api-__codelineno-14-8"></a><span class="w">      </span><span class="nt">&quot;attempts&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#api-maice-api-__codelineno-14-9"></a><span class="w">      </span><span class="nt">&quot;success_rate&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">0.75</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#api-maice-api-__codelineno-14-10"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#api-maice-api-__codelineno-14-11"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#api-maice-api-__codelineno-14-12"></a><span class="w">  </span><span class="nt">&quot;recent_sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#api-maice-api-__codelineno-14-13"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#api-maice-api-__codelineno-14-14"></a><span class="w">      </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#api-maice-api-__codelineno-14-15"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 학습&quot;</span><span class="p">,</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#api-maice-api-__codelineno-14-16"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#api-maice-api-__codelineno-14-17"></a><span class="w">      </span><span class="nt">&quot;message_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#api-maice-api-__codelineno-14-18"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#api-maice-api-__codelineno-14-19"></a><span class="w">  </span><span class="p">]</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#api-maice-api-__codelineno-14-20"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="api-maice-api-api_3">🎓 교사 전용 API<a class="headerlink" href="#api-maice-api-api_3" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_13">학생 목록 조회<a class="headerlink" href="#api-maice-api-_13" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/teacher/students</code></p>
<p><strong>쿼리 파라미터</strong>:
- <code>page</code>: 페이지 번호
- <code>limit</code>: 페이지당 항목 수
- <code>search</code>: 학생 이름 검색</p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#api-maice-api-__codelineno-15-1"></a><span class="p">{</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#api-maice-api-__codelineno-15-2"></a><span class="w">  </span><span class="nt">&quot;students&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#api-maice-api-__codelineno-15-3"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#api-maice-api-__codelineno-15-4"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#api-maice-api-__codelineno-15-5"></a><span class="w">      </span><span class="nt">&quot;name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;김학생&quot;</span><span class="p">,</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#api-maice-api-__codelineno-15-6"></a><span class="w">      </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#api-maice-api-__codelineno-15-7"></a><span class="w">      </span><span class="nt">&quot;total_sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">15</span><span class="p">,</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#api-maice-api-__codelineno-15-8"></a><span class="w">      </span><span class="nt">&quot;last_activity&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T10:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#api-maice-api-__codelineno-15-9"></a><span class="w">      </span><span class="nt">&quot;learning_progress&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#api-maice-api-__codelineno-15-10"></a><span class="w">        </span><span class="nt">&quot;completed_topics&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#api-maice-api-__codelineno-15-11"></a><span class="w">        </span><span class="nt">&quot;difficult_areas&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;이차방정식&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;삼각함수&quot;</span><span class="p">]</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#api-maice-api-__codelineno-15-12"></a><span class="w">      </span><span class="p">}</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#api-maice-api-__codelineno-15-13"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#api-maice-api-__codelineno-15-14"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#api-maice-api-__codelineno-15-15"></a><span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">30</span><span class="p">,</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#api-maice-api-__codelineno-15-16"></a><span class="w">  </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#api-maice-api-__codelineno-15-17"></a><span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#api-maice-api-__codelineno-15-18"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_14">학생 세션 모니터링<a class="headerlink" href="#api-maice-api-_14" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/teacher/sessions</code></p>
<p><strong>쿼리 파라미터</strong>:
- <code>student_id</code>: 특정 학생의 세션만 조회
- <code>date_from</code>: 시작 날짜
- <code>date_to</code>: 종료 날짜</p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#api-maice-api-__codelineno-16-1"></a><span class="p">{</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#api-maice-api-__codelineno-16-2"></a><span class="w">  </span><span class="nt">&quot;sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#api-maice-api-__codelineno-16-3"></a><span class="w">    </span><span class="p">{</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#api-maice-api-__codelineno-16-4"></a><span class="w">      </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#api-maice-api-__codelineno-16-5"></a><span class="w">      </span><span class="nt">&quot;student_name&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;김학생&quot;</span><span class="p">,</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#api-maice-api-__codelineno-16-6"></a><span class="w">      </span><span class="nt">&quot;title&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식 학습&quot;</span><span class="p">,</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#api-maice-api-__codelineno-16-7"></a><span class="w">      </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2024-01-15T09:00:00Z&quot;</span><span class="p">,</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#api-maice-api-__codelineno-16-8"></a><span class="w">      </span><span class="nt">&quot;message_count&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#api-maice-api-__codelineno-16-9"></a><span class="w">      </span><span class="nt">&quot;learning_summary&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식의 기본 개념을 이해했습니다.&quot;</span><span class="p">,</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#api-maice-api-__codelineno-16-10"></a><span class="w">      </span><span class="nt">&quot;difficulty_level&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;medium&quot;</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#api-maice-api-__codelineno-16-11"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#api-maice-api-__codelineno-16-12"></a><span class="w">  </span><span class="p">],</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#api-maice-api-__codelineno-16-13"></a><span class="w">  </span><span class="nt">&quot;total&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#api-maice-api-__codelineno-16-14"></a><span class="w">  </span><span class="nt">&quot;page&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#api-maice-api-__codelineno-16-15"></a><span class="w">  </span><span class="nt">&quot;limit&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#api-maice-api-__codelineno-16-16"></a><span class="p">}</span>
</span></code></pre></div></p>
<h3 id="api-maice-api-_15">피드백 제공<a class="headerlink" href="#api-maice-api-_15" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>POST /api/v1/teacher/feedback</code></p>
<p><strong>요청 본문</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#api-maice-api-__codelineno-17-1"></a><span class="p">{</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#api-maice-api-__codelineno-17-2"></a><span class="w">  </span><span class="nt">&quot;session_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">123</span><span class="p">,</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#api-maice-api-__codelineno-17-3"></a><span class="w">  </span><span class="nt">&quot;student_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">456</span><span class="p">,</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#api-maice-api-__codelineno-17-4"></a><span class="w">  </span><span class="nt">&quot;feedback&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;이차방정식의 개념을 잘 이해했습니다. 다음 단계로 이차함수를 학습해보세요.&quot;</span><span class="p">,</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#api-maice-api-__codelineno-17-5"></a><span class="w">  </span><span class="nt">&quot;rating&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">4</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#api-maice-api-__codelineno-17-6"></a><span class="w">  </span><span class="nt">&quot;suggestions&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;이차함수&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;이차부등식&quot;</span><span class="p">]</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#api-maice-api-__codelineno-17-7"></a><span class="p">}</span>
</span></code></pre></div></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#api-maice-api-__codelineno-18-1"></a><span class="p">{</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#api-maice-api-__codelineno-18-2"></a><span class="w">  </span><span class="nt">&quot;feedback_id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">789</span><span class="p">,</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#api-maice-api-__codelineno-18-3"></a><span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;피드백이 성공적으로 저장되었습니다.&quot;</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#api-maice-api-__codelineno-18-4"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="api-maice-api-api_4">🔧 관리자 API<a class="headerlink" href="#api-maice-api-api_4" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_16">전체 시스템 통계<a class="headerlink" href="#api-maice-api-_16" title="Permanent link">&para;</a></h3>
<p><strong>엔드포인트</strong>: <code>GET /api/v1/admin/stats</code></p>
<p><strong>응답</strong>:
<div class="language-json highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#api-maice-api-__codelineno-19-1"></a><span class="p">{</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#api-maice-api-__codelineno-19-2"></a><span class="w">  </span><span class="nt">&quot;total_users&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#api-maice-api-__codelineno-19-3"></a><span class="w">  </span><span class="nt">&quot;active_users_today&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#api-maice-api-__codelineno-19-4"></a><span class="w">  </span><span class="nt">&quot;total_sessions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1250</span><span class="p">,</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#api-maice-api-__codelineno-19-5"></a><span class="w">  </span><span class="nt">&quot;total_questions&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3750</span><span class="p">,</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#api-maice-api-__codelineno-19-6"></a><span class="w">  </span><span class="nt">&quot;system_health&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#api-maice-api-__codelineno-19-7"></a><span class="w">    </span><span class="nt">&quot;database_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#api-maice-api-__codelineno-19-8"></a><span class="w">    </span><span class="nt">&quot;redis_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span><span class="p">,</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#api-maice-api-__codelineno-19-9"></a><span class="w">    </span><span class="nt">&quot;agent_status&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;healthy&quot;</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#api-maice-api-__codelineno-19-10"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#api-maice-api-__codelineno-19-11"></a><span class="w">  </span><span class="nt">&quot;usage_stats&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#api-maice-api-__codelineno-19-12"></a><span class="w">    </span><span class="nt">&quot;questions_per_day&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">150</span><span class="p">,</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#api-maice-api-__codelineno-19-13"></a><span class="w">    </span><span class="nt">&quot;average_session_duration&quot;</span><span class="p">:</span><span class="w"> </span><span class="mf">12.5</span><span class="p">,</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#api-maice-api-__codelineno-19-14"></a><span class="w">    </span><span class="nt">&quot;most_popular_topics&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;이차방정식&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;삼각함수&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;미분&quot;</span><span class="p">]</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#api-maice-api-__codelineno-19-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#api-maice-api-__codelineno-19-16"></a><span class="p">}</span>
</span></code></pre></div></p>
<h2 id="api-maice-api-_17">⚠️ 오류 처리<a class="headerlink" href="#api-maice-api-_17" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-_18">오류 응답 형식<a class="headerlink" href="#api-maice-api-_18" title="Permanent link">&para;</a></h3>
<div class="language-json highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#api-maice-api-__codelineno-20-1"></a><span class="p">{</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#api-maice-api-__codelineno-20-2"></a><span class="w">  </span><span class="nt">&quot;error&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#api-maice-api-__codelineno-20-3"></a><span class="w">    </span><span class="nt">&quot;code&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;VALIDATION_ERROR&quot;</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#api-maice-api-__codelineno-20-4"></a><span class="w">    </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;요청 데이터가 유효하지 않습니다.&quot;</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#api-maice-api-__codelineno-20-5"></a><span class="w">    </span><span class="nt">&quot;details&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#api-maice-api-__codelineno-20-6"></a><span class="w">      </span><span class="nt">&quot;question&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;질문은 필수입니다.&quot;</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#api-maice-api-__codelineno-20-7"></a><span class="w">    </span><span class="p">}</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#api-maice-api-__codelineno-20-8"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#api-maice-api-__codelineno-20-9"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="api-maice-api-_19">주요 오류 코드<a class="headerlink" href="#api-maice-api-_19" title="Permanent link">&para;</a></h3>
<ul>
<li><code>UNAUTHORIZED</code>: 인증 실패</li>
<li><code>FORBIDDEN</code>: 권한 없음</li>
<li><code>NOT_FOUND</code>: 리소스 없음</li>
<li><code>VALIDATION_ERROR</code>: 요청 데이터 오류</li>
<li><code>RATE_LIMIT_EXCEEDED</code>: 요청 한도 초과</li>
<li><code>INTERNAL_SERVER_ERROR</code>: 서버 내부 오류</li>
</ul>
<h2 id="api-maice-api-_20">📊 요청 제한<a class="headerlink" href="#api-maice-api-_20" title="Permanent link">&para;</a></h2>
<h3 id="api-maice-api-rate-limiting">Rate Limiting<a class="headerlink" href="#api-maice-api-rate-limiting" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>일반 API</strong>: 분당 60회 요청</li>
<li><strong>스트리밍 API</strong>: 분당 10회 요청</li>
<li><strong>관리자 API</strong>: 분당 120회 요청</li>
</ul>
<h3 id="api-maice-api-_21">요청 크기 제한<a class="headerlink" href="#api-maice-api-_21" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>일반 요청</strong>: 최대 1MB</li>
<li><strong>파일 업로드</strong>: 최대 10MB</li>
</ul>
<h2 id="api-maice-api-_22">🔗 관련 문서<a class="headerlink" href="#api-maice-api-_22" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#api-authentication">인증 API</a> - 상세 인증 가이드</li>
<li><a href="#api-streaming-api">스트리밍 API</a> - 실시간 스트리밍 가이드</li>
<li><a href="#architecture-backend-architecture">백엔드 아키텍처</a> - 백엔드 구조 이해</li>
</ul></section><section class="print-page" id="api-authentication" heading-number="4.2.2"><h1 id="api-authentication-maice-api">MAICE 인증 API 문서<a class="headerlink" href="#api-authentication-maice-api" title="Permanent link">&para;</a></h1>
<h2 id="api-authentication-_1">📋 개요<a class="headerlink" href="#api-authentication-_1" title="Permanent link">&para;</a></h2>
<p>MAICE 시스템의 인증 API는 JWT 토큰 기반의 사용자 인증과 역할 기반 접근 제어(RBAC)를 제공합니다.</p>
<h2 id="api-authentication-_2">🔐 인증 엔드포인트<a class="headerlink" href="#api-authentication-_2" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-1">1. 사용자 로그인<a class="headerlink" href="#api-authentication-1" title="Permanent link">&para;</a></h3>
<p><strong>POST</strong> <code>/api/auth/login</code></p>
<p>사용자 인증을 수행하고 JWT 토큰을 발급합니다.</p>
<h4 id="api-authentication-_3">요청 본문<a class="headerlink" href="#api-authentication-_3" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#api-authentication-__codelineno-0-1"></a><span class="p">{</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#api-authentication-__codelineno-0-2"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span><span class="p">,</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#api-authentication-__codelineno-0-3"></a><span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;string&quot;</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#api-authentication-__codelineno-0-4"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="api-authentication-_4">응답 (성공)<a class="headerlink" href="#api-authentication-_4" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#api-authentication-__codelineno-1-1"></a><span class="p">{</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#api-authentication-__codelineno-1-2"></a><span class="w">  </span><span class="nt">&quot;access_token&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span class="p">,</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#api-authentication-__codelineno-1-3"></a><span class="w">  </span><span class="nt">&quot;token_type&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;bearer&quot;</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#api-authentication-__codelineno-1-4"></a><span class="w">  </span><span class="nt">&quot;expires_in&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3600</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#api-authentication-__codelineno-1-5"></a><span class="w">  </span><span class="nt">&quot;user&quot;</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#api-authentication-__codelineno-1-6"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#api-authentication-__codelineno-1-7"></a><span class="w">    </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1&quot;</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#api-authentication-__codelineno-1-8"></a><span class="w">    </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#api-authentication-__codelineno-1-9"></a><span class="w">    </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#api-authentication-__codelineno-1-10"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#api-authentication-__codelineno-1-11"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="api-authentication-_5">응답 (실패)<a class="headerlink" href="#api-authentication-_5" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#api-authentication-__codelineno-2-1"></a><span class="p">{</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#api-authentication-__codelineno-2-2"></a><span class="w">  </span><span class="nt">&quot;detail&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Invalid credentials&quot;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#api-authentication-__codelineno-2-3"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="api-authentication-2">2. 사용자 로그아웃<a class="headerlink" href="#api-authentication-2" title="Permanent link">&para;</a></h3>
<p><strong>POST</strong> <code>/api/auth/logout</code></p>
<p>사용자를 로그아웃하고 토큰을 무효화합니다.</p>
<h4 id="api-authentication-_6">요청 헤더<a class="headerlink" href="#api-authentication-_6" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#api-authentication-__codelineno-3-1"></a>Authorization: Bearer &lt;token&gt;
</span></code></pre></div>
<h4 id="api-authentication-_7">응답<a class="headerlink" href="#api-authentication-_7" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#api-authentication-__codelineno-4-1"></a><span class="p">{</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#api-authentication-__codelineno-4-2"></a><span class="w">  </span><span class="nt">&quot;message&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;Successfully logged out&quot;</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#api-authentication-__codelineno-4-3"></a><span class="p">}</span>
</span></code></pre></div>
<hapi-authentication-3 id="api-authentication-3">3. 현재 사용자 정보 조회<a class="headerlink" href="#api-authentication-3" title="Permanent link">&para;</a></h3>
<p><strong>GET</strong> <code>/api/auth/me</code></p>
<p>현재 인증된 사용자의 정보를 조회합니다.</p>
<h4 id="api-authentication-_8">요청 헤더<a class="headerlink" href="#api-authentication-_8" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#api-authentication-__codelineno-5-1"></a>Authorization: Bearer &lt;token&gt;
</span></code></pre></div>
<h4 id="api-authentication-_9">응답<a class="headerlink" href="#api-authentication-_9" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#api-authentication-__codelineno-6-1"></a><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#api-authentication-__codelineno-6-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#api-authentication-__codelineno-6-3"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1&quot;</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#api-authentication-__codelineno-6-4"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#api-authentication-__codelineno-6-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#api-authentication-__codelineno-6-6"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#api-authentication-__codelineno-6-7"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="api-authentication-api">👥 사용자 관리 API<a class="headerlink" href="#api-authentication-api" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-1_1">1. 사용자 목록 조회 (관리자)<a class="headerlink" href="#api-authentication-1_1" title="Permanent link">&para;</a></h3>
<p><strong>GET</strong> <code>/api/users/</code></p>
<p>관리자 권한으로 모든 사용자 목록을 조회합니다.</p>
<h4 id="api-authentication-_10">요청 헤더<a class="headerlink" href="#api-authentication-_10" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#api-authentication-__codelineno-7-1"></a>Authorization: Bearer &lt;admin_token&gt;
</span></code></pre></div>
<h4 id="api-authentication-_11">응답<a class="headerlink" href="#api-authentication-_11" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#api-authentication-__codelineno-8-1"></a><span class="p">[</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#api-authentication-__codelineno-8-2"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#api-authentication-__codelineno-8-3"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#api-authentication-__codelineno-8-4"></a><span class="w">    </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1&quot;</span><span class="p">,</span>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#api-authentication-__codelineno-8-5"></a><span class="w">    </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#api-authentication-__codelineno-8-6"></a><span class="w">    </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span><span class="p">,</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#api-authentication-__codelineno-8-7"></a><span class="w">    </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#api-authentication-__codelineno-8-8"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#api-authentication-__codelineno-8-9"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#api-authentication-__codelineno-8-10"></a><span class="w">    </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#api-authentication-__codelineno-8-11"></a><span class="w">    </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teacher1&quot;</span><span class="p">,</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#api-authentication-__codelineno-8-12"></a><span class="w">    </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teacher1@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#api-authentication-__codelineno-8-13"></a><span class="w">    </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teacher&quot;</span><span class="p">,</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#api-authentication-__codelineno-8-14"></a><span class="w">    </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#api-authentication-__codelineno-8-15"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#api-authentication-__codelineno-8-16"></a><span class="p">]</span>
</span></code></pre></div>
<h3 id="api-authentication-2_1">2. 특정 사용자 조회<a class="headerlink" href="#api-authentication-2_1" title="Permanent link">&para;</a></h3>
<p><strong>GET</strong> <code>/api/users/{user_id}</code></p>
<p>특정 사용자의 정보를 조회합니다.</p>
<h4 id="api-authentication-_12">요청 헤더<a class="headerlink" href="#api-authentication-_12" title="Permanent link">&para;</a></h4>
<div class="language-text highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#api-authentication-__codelineno-9-1"></a>Authorization: Bearer &lt;token&gt;
</span></code></pre></div>
<h4 id="api-authentication-_13">응답<a class="headerlink" href="#api-authentication-_13" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#api-authentication-__codelineno-10-1"></a><span class="p">{</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#api-authentication-__codelineno-10-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#api-authentication-__codelineno-10-3"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1&quot;</span><span class="p">,</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#api-authentication-__codelineno-10-4"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#api-authentication-__codelineno-10-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span><span class="p">,</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#api-authentication-__codelineno-10-6"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#api-authentication-__codelineno-10-7"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="api-authentication-3_1">3. 사용자 생성 (관리자)<a class="headerlink" href="#api-authentication-3_1" title="Permanent link">&para;</a></h3>
<p><strong>POST</strong> <code>/api/users/</code></p>
<p>새로운 사용자를 생성합니다.</p>
<h4 id="api-authentication-_14">요청 본문<a class="headerlink" href="#api-authentication-_14" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#api-authentication-__codelineno-11-1"></a><span class="p">{</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#api-authentication-__codelineno-11-2"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;newstudent&quot;</span><span class="p">,</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#api-authentication-__codelineno-11-3"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;newstudent@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#api-authentication-__codelineno-11-4"></a><span class="w">  </span><span class="nt">&quot;password&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;securepassword&quot;</span><span class="p">,</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#api-authentication-__codelineno-11-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#api-authentication-__codelineno-11-6"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="api-authentication-_15">응답<a class="headerlink" href="#api-authentication-_15" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#api-authentication-__codelineno-12-1"></a><span class="p">{</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#api-authentication-__codelineno-12-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#api-authentication-__codelineno-12-3"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;newstudent&quot;</span><span class="p">,</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#api-authentication-__codelineno-12-4"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;newstudent@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#api-authentication-__codelineno-12-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student&quot;</span><span class="p">,</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#api-authentication-__codelineno-12-6"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#api-authentication-__codelineno-12-7"></a><span class="p">}</span>
</span></code></pre></div>
<h3 id="api-authentication-4">4. 사용자 정보 수정<a class="headerlink" href="#api-authentication-4" title="Permanent link">&para;</a></h3>
<p><strong>PUT</strong> <code>/api/users/{user_id}</code></p>
<p>사용자 정보를 수정합니다.</p>
<h4 id="api-authentication-_16">요청 본문<a class="headerlink" href="#api-authentication-_16" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#api-authentication-__codelineno-13-1"></a><span class="p">{</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#api-authentication-__codelineno-13-2"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;updated@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#api-authentication-__codelineno-13-3"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teacher&quot;</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#api-authentication-__codelineno-13-4"></a><span class="p">}</span>
</span></code></pre></div>
<h4 id="api-authentication-_17">응답<a class="headerlink" href="#api-authentication-_17" title="Permanent link">&para;</a></h4>
<div class="language-json highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#api-authentication-__codelineno-14-1"></a><span class="p">{</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#api-authentication-__codelineno-14-2"></a><span class="w">  </span><span class="nt">&quot;id&quot;</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#api-authentication-__codelineno-14-3"></a><span class="w">  </span><span class="nt">&quot;username&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;student1&quot;</span><span class="p">,</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#api-authentication-__codelineno-14-4"></a><span class="w">  </span><span class="nt">&quot;email&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;updated@example.com&quot;</span><span class="p">,</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#api-authentication-__codelineno-14-5"></a><span class="w">  </span><span class="nt">&quot;role&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;teacher&quot;</span><span class="p">,</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#api-authentication-__codelineno-14-6"></a><span class="w">  </span><span class="nt">&quot;created_at&quot;</span><span class="p">:</span><span class="w"> </span><span class="s2">&quot;2025-01-27T10:00:00Z&quot;</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#api-authentication-__codelineno-14-7"></a><span class="p">}</span>
</span></code></pre></div>
<h2 id="api-authentication-_18">🔒 권한 및 역할<a class="headerlink" href="#api-authentication-_18" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-_19">사용자 역할<a class="headerlink" href="#api-authentication-_19" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>student</strong>: 학생 - MAICE 채팅 시스템 사용</li>
<li><strong>teacher</strong>: 교사 - 학생 관리 및 학습 진도 확인</li>
<li><strong>admin</strong>: 관리자 - 시스템 전체 관리</li>
</ul>
<h3 id="api-authentication-_20">권한 매트릭스<a class="headerlink" href="#api-authentication-_20" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>기능</th>
<th>student</th>
<th>teacher</th>
<th>admin</th>
</tr>
</thead>
<tbody>
<tr>
<td>MAICE 채팅</td>
<td>✅</td>
<td>✅</td>
<td>✅</td>
</tr>
<tr>
<td>세션 조회</td>
<td>✅ (본인)</td>
<td>✅ (모든)</td>
<td>✅ (모든)</td>
</tr>
<tr>
<td>사용자 관리</td>
<td>❌</td>
<td>❌</td>
<td>✅</td>
</tr>
<tr>
<td>시스템 설정</td>
<td>❌</td>
<td>❌</td>
<td>✅</td>
</tr>
</tbody>
</table>
<h2 id="api-authentication-_21">🛡️ 보안 고려사항<a class="headerlink" href="#api-authentication-_21" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-1_2">1. 토큰 보안<a class="headerlink" href="#api-authentication-1_2" title="Permanent link">&para;</a></h3>
<ul>
<li>JWT 토큰 만료 시간: 1시간</li>
<li>토큰 갱신 메커니즘</li>
<li>로그아웃 시 토큰 무효화</li>
</ul>
<h3 id="api-authentication-2_2">2. 비밀번호 보안<a class="headerlink" href="#api-authentication-2_2" title="Permanent link">&para;</a></h3>
<ul>
<li>bcrypt 해싱</li>
<li>최소 길이 요구사항</li>
<li>복잡성 검증</li>
</ul>
<h3 id="api-authentication-3-api">3. API 보안<a class="headerlink" href="#api-authentication-3-api" title="Permanent link">&para;</a></h3>
<ul>
<li>CORS 설정</li>
<li>요청 속도 제한</li>
<li>입력 데이터 검증</li>
</ul>
<h2 id="api-authentication-_22">📝 에러 코드<a class="headerlink" href="#api-authentication-_22" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-_23">인증 관련 에러<a class="headerlink" href="#api-authentication-_23" title="Permanent link">&para;</a></h3>
<ul>
<li><code>401 Unauthorized</code>: 인증 실패</li>
<li><code>403 Forbidden</code>: 권한 부족</li>
<li><code>422 Unprocessable Entity</code>: 입력 데이터 오류</li>
</ul>
<h3 id="api-authentication-_24">일반 에러<a class="headerlink" href="#api-authentication-_24" title="Permanent link">&para;</a></h3>
<ul>
<li><code>400 Bad Request</code>: 잘못된 요청</li>
<li><code>404 Not Found</code>: 리소스 없음</li>
<li><code>500 Internal Server Error</code>: 서버 오류</li>
</ul>
<h2 id="api-authentication-_25">🔧 개발자 가이드<a class="headerlink" href="#api-authentication-_25" title="Permanent link">&para;</a></h2>
<h3 id="api-authentication-_26">토큰 사용 예시<a class="headerlink" href="#api-authentication-_26" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#api-authentication-__codelineno-15-1"></a><span class="c1">// 로그인</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#api-authentication-__codelineno-15-2"></a><span class="kd">const</span><span class="w"> </span><span class="nx">response</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/auth/login&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#api-authentication-__codelineno-15-3"></a><span class="w">  </span><span class="nx">method</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;POST&#39;</span><span class="p">,</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#api-authentication-__codelineno-15-4"></a><span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#api-authentication-__codelineno-15-5"></a><span class="w">    </span><span class="s1">&#39;Content-Type&#39;</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;application/json&#39;</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#api-authentication-__codelineno-15-6"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#api-authentication-__codelineno-15-7"></a><span class="w">  </span><span class="nx">body</span><span class="o">:</span><span class="w"> </span><span class="nb">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">({</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#api-authentication-__codelineno-15-8"></a><span class="w">    </span><span class="nx">username</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;student1&#39;</span><span class="p">,</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#api-authentication-__codelineno-15-9"></a><span class="w">    </span><span class="nx">password</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;password123&#39;</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#api-authentication-__codelineno-15-10"></a><span class="w">  </span><span class="p">})</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#api-authentication-__codelineno-15-11"></a><span class="p">});</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#api-authentication-__codelineno-15-12"></a>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#api-authentication-__codelineno-15-13"></a><span class="kd">const</span><span class="w"> </span><span class="nx">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#api-authentication-__codelineno-15-14"></a><span class="kd">const</span><span class="w"> </span><span class="nx">token</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">access_token</span><span class="p">;</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#api-authentication-__codelineno-15-15"></a>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#api-authentication-__codelineno-15-16"></a><span class="c1">// 인증된 요청</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#api-authentication-__codelineno-15-17"></a><span class="kd">const</span><span class="w"> </span><span class="nx">userResponse</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">await</span><span class="w"> </span><span class="nx">fetch</span><span class="p">(</span><span class="s1">&#39;/api/auth/me&#39;</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#api-authentication-__codelineno-15-18"></a><span class="w">  </span><span class="nx">headers</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#api-authentication-__codelineno-15-19"></a><span class="w">    </span><span class="s1">&#39;Authorization&#39;</span><span class="o">:</span><span class="w"> </span><span class="sb">`Bearer </span><span class="si">${</span><span class="nx">token</span><span class="si">}</span><span class="sb">`</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#api-authentication-__codelineno-15-20"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#api-authentication-__codelineno-15-21"></a><span class="p">});</span>
</span></code></pre></div>
<h3 id="api-authentication-_27">토큰 갱신<a class="headerlink" href="#api-authentication-_27" title="Permanent link">&para;</a></h3>
<div class="language-javascript highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#api-authentication-__codelineno-16-1"></a><span class="c1">// 토큰 만료 시 자동 갱신</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#api-authentication-__codelineno-16-2"></a><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">status</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">401</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#api-authentication-__codelineno-16-3"></a><span class="w">  </span><span class="c1">// 로그인 페이지로 리다이렉트</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#api-authentication-__codelineno-16-4"></a><span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">location</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;/login&#39;</span><span class="p">;</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#api-authentication-__codelineno-16-5"></a><span class="p">}</span>
</span></code></pre></div></section></section></section>
                    <section class='print-page md-section' id='section-5' heading-number='5'>
                        <h1>설문 자료<a class='headerlink' href='#section-5' title='Permanent link'></a>
                        </h1>
                    <section class="print-page" id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80" heading-number="5.1"><h1 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-maice">MAICE 효과성 입증을 위한 사후 설문조사지<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-maice" title="Permanent link">&para;</a></h1>
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_1">설문지 개요<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_1" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>목적</strong>: 명료화 기반 AI 학습 도구 MAICE의 효과성 입증</li>
<li><strong>대상</strong>: 고등학교 2학년 학생 (40명)</li>
<li><strong>설계</strong>: 사후 설문, 그룹 간 비교 (Agent vs Freepass)</li>
<li><strong>소요 시간</strong>: 약 15-20분</li>
<li><strong>이론적 근거</strong>: 명료화 이론, 메타인지 이론, TAM, Polya 문제해결</li>
</ul>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a">A. 기본 정보<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a1">A1. 개인정보<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>반</strong>: ______ 반</li>
<li><strong>성별</strong>: □ 남 □ 여</li>
<li><strong>수학 성적</strong> (최근 시험): □ 상 □ 중상 □ 중 □ 중하 □ 하</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a2-ai">A2. AI 도구 사용 경험 (사용 전)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-a2-ai" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>사용하기 전 ChatGPT나 AI 학습 도구 사용 경험이 있나요?</strong></li>
<li>
<p>□ 있음 (약 ____개월) □ 없음</p>
</li>
<li>
<p><strong>사용하기 전 수학 학습에서 AI를 활용한 경험이 있나요?</strong></p>
</li>
<li>□ 자주 사용 (주 3회 이상)</li>
<li>□ 가끔 사용 (주 1-2회)</li>
<li>□ 거의 사용하지 않음</li>
<li>□ 전혀 사용하지 않음</li>
</ol>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b">B. 질문 명료화 능력 평가 (현재 상태 측정)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b1">B1. 질문의 명확성 자아인식<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b1" title="Permanent link">&para;</a></h3>
<p><strong>다음 문항들은 여러분의 수학 질문 습관에 대한 것입니다. (5점 척도)</strong></p>
<p><strong>(1점: 전혀 아니다, 5점: 매우 그렇다)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>현재 내가 수학 질문을 할 때 무엇을 알고 싶은지 명확하다고 느낀다 (명시성)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>질문할 때 충분한 맥락을 함께 제시한다 (완결성)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>내 질문을 다른 사람이 이해하기 쉽다고 생각한다 (구조화)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4</td>
<td>어려운 개념을 질문할 때 구체적인 예시를 들어 설명한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5</td>
<td>모호한 질문을 받으면 스스로 더 명확하게 표현하려고 노력한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<p><strong>이론적 근거</strong>: King (1994)의 효과적 질문의 특징 (명시성, 완결성, 구조화)</p>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b2">B2. 모호한 질문 인식 능력<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-b2" title="Permanent link">&para;</a></h3>
<p><strong>다음 중 어떤 질문이 더 효과적이라고 생각하나요?</strong></p>
<ol>
<li>
<p>□ "수학적 귀납법이 뭐야?" 
   □ "수학적 귀납법의 기본 원리를 증명 예시로 설명해줘"</p>
</li>
<li>
<p>□ "문제 풀이법 알려줘" 
   □ "이 부등식에서 귀납 가정을 어떻게 활용하는지 모르겠어요"</p>
</li>
<li>
<p>□ "왜 안되나요?" 
   □ "k+1 단계 증명에서 이 부분이 왜 성립하는지 이해가 안됩니다"</p>
</li>
</ol>
<p><strong>이론적 근거</strong>: Graesser &amp; Person (1994)의 질문 분류 이론</p>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c-ai">C. AI 상호작용 경험 평가 (그룹 간 비교)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c-ai" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c1">C1. 대화 품질 인식 (질문 명료화 효과 검증)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c1" title="Permanent link">&para;</a></h3>
<p><strong>AI와의 대화 경험에 대해 평가해주세요. (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>AI가 내 질문의 의도를 정확히 파악했다고 느꼈다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>AI의 대답이 내가 원하는 정보를 제공했다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>대화를 통해 내가 무엇을 모르는지 명확해졌다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4</td>
<td>AI의 추가 질문이 학습에 도움이 되었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5</td>
<td>대화 후 다음 질문을 어떻게 할지 알게 되었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<p><strong>이론적 근거</strong>: 질문 명료화 이론 (King, 1994; Chin &amp; Osborne, 2008)</p>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c2">C2. 자기주도적 질문 능력 (현재 상태)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-c2" title="Permanent link">&para;</a></h3>
<p><strong>다음 문항들은 여러분의 현재 학습 방식에 대한 것입니다. (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>학습할 때 내가 무엇을 모르는지 명확히 파악한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>어려운 내용을 이해하기 위해 질문을 스스로 만든다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>질문을 통해 개념의 핵심을 파악하려고 노력한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4</td>
<td>학습 과정에서 "왜?"를 자주 스스로에게 묻는다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5</td>
<td>문제를 풀 때 어느 부분이 어려운지 스스로 인식한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<p><strong>이론적 근거</strong>: 메타인지 이론 (Flavell, 1979) + 듀이의 반성적 사고 (1991)</p>
<hr />
<h2 imaice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d">D. 수학적 귀납법 개념 이해도 평가 (학습 효과 측정)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d1">D1. 개념 이해도 평가<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d1" title="Permanent link">&para;</a></h3>
<p><strong>다음 내용에 대해 얼마나 이해하고 있나요? (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>학습 내용 (이론적 근거: 논문 2.5장)</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>수학적 귀납법의 논리적 구조 (도미노 원리)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>기본 단계(n=1) 증명의 중요성과 방법</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>귀납 가정 "P(k)가 성립한다고 가정"의 의미</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4</td>
<td>귀납 단계에서 P(k)를 활용하여 P(k+1) 증명</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5</td>
<td>등식 증명 vs 부등식 증명의 차이점</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>6</td>
<td>귀납 가정의 역할과 한계</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<p><strong>이론적 근거</strong>: Harel &amp; Sowder (1998), Dubinsky (1991)의 수학적 귀납법 학습 특성</p>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d2-polya-4">D2. 문제해결 능력 자가평가 (Polya 4단계 기반)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-d2-polya-4" title="Permanent link">&para;</a></h3>
<p><strong>수학적 귀납법 문제를 해결할 때 다음을 얼마나 수행하나요? (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>단계 (이론: Polya, 1945)</th>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1단계: 문제 이해</td>
<td>문제의 목표와 조건을 명확히 파악한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2단계: 계획 수립</td>
<td>기본 단계와 귀납 단계를 구분하여 계획한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3단계: 계획 실행</td>
<td>귀납 가정을 활용하여 k+1 단계를 증명한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4단계: 검토</td>
<td>증명 과정을 다시 검토하고 확인한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e-tam">E. 시스템 사용 만족도 (TAM 기반, 그룹 간 비교)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e-tam" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e1-perceived-usefulness">E1. 인지된 유용성 (Perceived Usefulness)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e1-perceived-usefulness" title="Permanent link">&para;</a></h3>
<p><strong>이 도구가 학습에 도움이 되었다고 생각하나요? (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항 (이론: Davis, 1989)</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>이 도구가 수학 학습 성과 향상에 도움이 되었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>이 도구로 학습 효율이 높아졌다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>이 도구를 통해 더 깊이 있는 이해가 가능해졌다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e2-perceived-ease-of-use">E2. 인지된 사용 용이성 (Perceived Ease of Use)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e2-perceived-ease-of-use" title="Permanent link">&para;</a></h3>
<p><strong>이 도구를 사용하기 쉬웠나요? (5점 척도)</strong></p>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항 (이론: Davis, 1989)</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>이 도구는 사용하기 쉽다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>이 도구 사용법을 쉽게 배웠다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>이 도구와 자연스럽게 대화할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e3-intention-to-use">E3. 사용 의도 (Intention to Use)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-e3-intention-to-use" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>번호</th>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>앞으로 이 도구를 계속 사용하고 싶다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2</td>
<td>다른 수학 단원에서도 이 도구를 사용하고 싶다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3</td>
<td>친구들에게 이 도구를 추천하고 싶다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f">F. 개방형 질문 (질적 분석용)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f1">F1. 명료화 경험에 대한 질문<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f1" title="Permanent link">&para;</a></h3>
<p><strong>※ 이 문항은 모든 학생에게 질문하지만, 응답 내용은 다를 수 있습니다.</strong></p>
<ol>
<li><strong>AI와 대화할 때, AI가 추가 질문을 한 경험이 있나요? 있다면 어떤 경우였나요?</strong></li>
</ol>
<p>[답변란] </p>
<hr />
<hr />
<ol>
<li><strong>그 추가 질문이 도움이 되었나요? 왜 그렇게 생각하나요?</strong></li>
</ol>
<p>[답변란]</p>
<hr />
<hr />
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f2">F2. 학습 경험 및 변화 인식<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f2" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>이 도구를 사용한 후, 수학에 대해 질문하는 방식이나 학습 방식이 달라진 점이 있나요?</strong></li>
</ol>
<p>[답변란]</p>
<hr />
<hr />
<ol>
<li><strong>이번 학습 경험에서 가장 도움이 되었던 점은 무엇인가요?</strong></li>
</ol>
<p>[답변란]</p>
<hr />
<hr />
<ol>
<li><strong>개선되었으면 하는 점이 있다면 무엇인가요?</strong></li>
</ol>
<p>[답변란]</p>
<hr />
<hr />
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-g">G. 측정 변인 및 분석 계획 (수정)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-g" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_2">정량적 분석 (사후 설문만 사용)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_2" title="Permanent link">&para;</a></h3>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1-b1-b2">1. 질문 명료화 능력 (B1, B2)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1-b1-b2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>측정</strong>: 그룹 간 비교</li>
<li><strong>검증</strong>: 독립표본 t-검정</li>
<li><strong>예상 결과</strong>: Agent 그룹의 질문 명료화 능력이 더 높을 것</li>
</ul>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2-c1">2. 대화 품질 인식 (C1)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2-c1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>측정</strong>: 그룹 간 비교</li>
<li><strong>검증</strong>: 독립표본 t-검정</li>
<li><strong>예상 결과</strong>: Agent 그룹의 대화 품질 인식이 더 높을 것</li>
</ul>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3-c2">3. 자기주도적 질문 능력 (C2)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3-c2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>측정</strong>: 그룹 간 비교</li>
<li><strong>검증</strong>: 독립표본 t-검정</li>
<li><strong>예상 결과</strong>: Agent 그룹이 더 높을 것</li>
</ul>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4-d1-d2">4. 학습 효과 (D1, D2)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4-d1-d2" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>측정</strong>: 그룹 간 비교</li>
<li><strong>검증</strong>: 독립표본 t-검정</li>
<li><strong>예상 결과</strong>: Agent 그룹이 더 높을 수 있음</li>
</ul>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-5-e1-e2-e3">5. 시스템 만족도 (E1, E2, E3)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-5-e1-e2-e3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>측정</strong>: 그룹 간 비교</li>
<li><strong>검증</strong>: 독립표본 t-검정</li>
<li><strong>예상 결과</strong>: 두 그룹 모두 만족도 높음 (차이 없을 수도 있음)</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_3">질적 분석<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_3" title="Permanent link">&para;</a></h3>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f1_1">F1: 명료화 경험<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f1_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>목적</strong>: Agent 그룹의 명료화 경험을 구체적으로 파악</li>
<li><strong>분석 방법</strong>: 주제 분석 (Thematic Analysis)</li>
<li><strong>예상 결과</strong>: Agent 그룹은 "추가 질문 경험" 언급, Freepass 그룹은 그렇지 않음</li>
</ul>
<h4 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f2_1">F2: 학습 경험 및 변화<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-f2_1" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>목적</strong>: 질문 습관과 학습 방식의 변화 파악</li>
<li><strong>분석 방법</strong>: 주제 분석</li>
<li><strong>예상 결과</strong>: 그룹별로 다른 주제 도출</li>
</ul>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_4">분석 방법<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_4" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_5">통계 분석<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_5" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>그룹 간 차이 검증</strong>: 독립표본 t-검정</li>
<li><strong>공변량 분석</strong>: 수학 성적 (A1-3)을 공변량으로 포함할 수 있음</li>
<li><strong>요인분석</strong>: B1, C1, C2 등의 구조 분석</li>
<li><strong>상관관계 분석</strong>: 변인 간 관계 파악</li>
</ol>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_6">질적 분석<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_6" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>주제 분석 (Thematic Analysis)</strong>: F1, F2</li>
<li><strong>내용 분석</strong>: 그룹별 경험 차이 도출</li>
<li><strong>교차 분석</strong>: 양적 결과와 질적 결과 교차 검증</li>
</ol>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_7">예상 검증 결과<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_7" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-agent-vs-freepass">Agent 그룹 vs Freepass 그룹 (사후 설문 기준)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-agent-vs-freepass" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>질문 명료화 능력 (B1, B2)</strong>: Agent &gt; Freepass</li>
<li><strong>대화 품질 인식 (C1)</strong>: Agent = Freepass 또는 Agent &gt; Freepass</li>
<li><strong>자기주도적 질문 (C2)</strong>: Agent &gt; Freepass</li>
<li><strong>학습 효과 (D1, D2)</strong>: Agent = Freepass 또는 Agent &gt; Freepass</li>
<li><strong>시스템 만족도 (E)</strong>: 두 그룹 유사</li>
</ol>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_8">주의사항<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_8" title="Permanent link">&para;</a></h2>
<ol>
<li><strong>중립성 유지</strong>: "명료화", "agent", "freepass" 등 그룹 구분 용어 사용 금지</li>
<li><strong>동등한 응답 기회</strong>: 모든 학생에게 동일한 질문 제공</li>
<li><strong>질적-양적 통합</strong>: F 섹션으로 깊이 있는 경험 파악</li>
<li><strong>라이스 존경</strong>: 학생의 응답을 존중하고 판단하지 않기</li>
</ol>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_9">문항 수 및 소요 시간<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_9" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>총 문항 수</strong>: 약 25개 (5점 척도) + 5개 (개방형) = 30개</li>
<li><strong>예상 소요 시간</strong>: 15-20분</li>
<li><strong>설문 전 안내</strong>: 약 5분</li>
<li><strong>총 소요</strong>: 약 20-25분</li>
</ul>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_10">설문지의 이론적 근거 요약<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_10" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1">1. 질문 명료화 이론<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: King (1994), Chin &amp; Osborne (2008)</li>
<li><strong>적용</strong>: B1, B2, C1</li>
<li><strong>검증 내용</strong>: 명료화가 질문 능력 향상에 미치는 영향</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2">2. 메타인지 이론<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: Flavell (1979)</li>
<li><strong>적용</strong>: C2</li>
<li><strong>검증 내용</strong>: 자기주도적 학습 능력 향상</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3-tam">3. 기술수용모델 (TAM)<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3-tam" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: Davis (1989)</li>
<li><strong>적용</strong>: E1, E2, E3</li>
<li><strong>검증 내용</strong>: AI 학습 도구에 대한 수용도</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4">4. 수학적 귀납법 학습 특성<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: Harel &amp; Sowder (1998), 논문 2.5장</li>
<li><strong>적용</strong>: D1</li>
<li><strong>검증 내용</strong>: 개념 이해도 향상</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-5">5. 문제해결 이론<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: Polya (1945)</li>
<li><strong>적용</strong>: D2</li>
<li><strong>검증 내용</strong>: 문제해결 능력 향상</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-6">6. 듀이의 반성적 사고<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>출처</strong>: Dewey (1991)</li>
<li><strong>적용</strong>: C2 (함축적)</li>
<li><strong>검증 내용</strong>: 반성적 학습 능력</li>
</ul>
<hr />
<h2 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_11">사후 설문만으로도 충분한 이유<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-_11" title="Permanent link">&para;</a></h2>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1_1">1. 그룹 간 비교 가능<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-1_1" title="Permanent link">&para;</a></h3>
<ul>
<li>Agent 그룹과 Freepass 그룹 간 차이 검증 가능</li>
<li>명료화 효과를 그룹 차이로 입증</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2_1">2. 이론적 근거 명확<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2_1" title="Permanent link">&para;</a></h3>
<ul>
<li>각 문항이 이론에 기반</li>
<li>학술적 엄밀성 유지</li>
</ul>
<hmaice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3">3. 실제 데이터 반영<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-3" title="Permanent link">&para;</a></h3>
<ul>
<li>세션 데이터의 패턴 반영</li>
<li>명료화 성공/과다/탈선 사례 모두 고려</li>
</ul>
<h3 id="maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4-">4. 질적-양적 통합<a class="headerlink" href="#maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-4-" title="Permanent link">&para;</a></h3>
<ul>
<li>F 섹션으로 구체적 경험 파악</li>
<li>Agent vs Freepass 경험 차이 도출 가능</li>
</ul></section><section class="print-page" id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80" heading-number="5.2"><h1 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_1">연구 참여 학생 설문조사지<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_1" title="Permanent link">&para;</a></h1>
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_2">설문 개요<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_2" title="Permanent link">&para;</a></h2>
<ul>
<li><strong>목적</strong>: AI 학습 도구 사용 경험 및 수학 학습 효과 분석</li>
<li><strong>대상</strong>: 고등학교 2학년 학생 (40명)</li>
<li><strong>실시 시점</strong>: 사전(사용 전) + 사후(2주 사용 후)</li>
<li><strong>소요 시간</strong>: 약 15-20분</li>
</ul>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a">A. 기본 정보 (사전 설문에만 포함)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a1">A1. 개인정보<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a1" title="Permanent link">&para;</a></h3>
<ul>
<li>학년: _____반</li>
<li>성별: □ 남 □ 여</li>
<li>수학 성적 (중간고사 기준): □ 상 □ 중상 □ 중 □ 중하 □ 하</li>
</ul>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a2-ai">A2. AI 도구 사용 경험<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-a2-ai" title="Permanent link">&para;</a></h3>
<ol>
<li>ChatGPT나 AI 학습 도구 사용 경험이 있나요?</li>
<li>
<p>□ 있음 (□ 개월 사용) □ 없음</p>
</li>
<li>
<p>수학 학습에서 AI를 활용한 경험이 있나요?</p>
</li>
<li>□ 자주 사용 (주 3회 이상)</li>
<li>□ 가끔 사용 (주 1-2회)</li>
<li>□ 거의 사용하지 않음</li>
<li>□ 전혀 사용하지 않음</li>
</ol>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-b-">B. 수학적 귀납법 학습 태도 및 인식 (사전-사후)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-b-" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-b1-5">B1. 수학적 귀납법에 대한 인식 (5점 척도)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-b1-5" title="Permanent link">&para;</a></h3>
<p><strong>다음 문항들에 대해 자신의 생각에 가장 가까운 점수를 선택해주세요.</strong></p>
<p><strong>(1점: 전혀 그렇지 않다, 2점: 그렇지 않다, 3점: 보통이다, 4점: 그렇다, 5점: 매우 그렇다)</strong></p>
<table>
<thead>
<tr>
<th>문항</th>
<th>1점</th>
<th>2점</th>
<th>3점</th>
<th>4점</th>
<th>5점</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. 수학적 귀납법은 어려운 개념이다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2. 수학적 귀납법 증명 문제를 풀 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3. 수학적 귀납법의 기본 원리를 이해한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4. 귀납 가정을 어떻게 활용하는지 안다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5. 기본 단계와 귀납 단계를 구분할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c">C. 학습 만족도 및 경험 평가 (사후 설문)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-rq2">C1. 시스템 사용 만족도 (RQ2 관련)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-rq2" title="Permanent link">&para;</a></h3>
<h4 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-1-tam">C1-1. 기술 수용 및 사용 경험 (TAM 이론 기반)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-1-tam" title="Permanent link">&para;</a></h4>
<p><strong>2주간의 AI 학습 도구 사용 경험에 대해 평가해주세요. (5점 척도)</strong></p>
<p><strong>가. 인지된 유용성 (Perceived Usefulness)</strong>
| 평가 항목 | 1점 (전혀) | 2점 (아니오) | 3점 (보통) | 4점 (그렇다) | 5점 (매우) |
|-----------|------------|--------------|------------|--------------|-------------|
| 1. 이 도구가 수학 학습 성과 향상에 도움이 되었다 | ○ | ○ | ○ | ○ | ○ |
| 2. 이 도구를 사용하면 학습 효율이 높아졌다 | ○ | ○ | ○ | ○ | ○ |</p>
<p><strong>나. 인지된 사용 용이성 (Perceived Ease of Use)</strong>
| 평가 항목 | 1점 (전혀) | 2점 (아니오) | 3점 (보통) | 4점 (그렇다) | 5점 (매우) |
|-----------|------------|--------------|------------|--------------|-------------|
| 3. 이 도구는 사용하기 쉽다 | ○ | ○ | ○ | ○ | ○ |
| 4. 이 도구 사용법을 쉽게 배웠다 | ○ | ○ | ○ | ○ | ○ |</p>
<p><strong>다. 사용의도 (Intention to Use)</strong>
| 평가 항목 | 1점 (전혀) | 2점 (아니오) | 3점 (보통) | 4점 (그렇다) | 5점 (매우) |
|-----------|------------|--------------|------------|--------------|-------------|
| 5. 앞으로 이 도구를 계속 사용하고 싶다 | ○ | ○ | ○ | ○ | ○ |
| 6. 다른 수학 단원에서도 이 도구를 사용하고 싶다 | ○ | ○ | ○ | ○ | ○ |</p>
<h4 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-2-ai">C1-2. AI와의 상호작용 경험 (질문 생성 및 개선 이론 기반)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-c1-2-ai" title="Permanent link">&para;</a></h4>
<p><strong>AI 학습 도구와의 대화 경험에 대해 평가해주세요:</strong></p>
<table>
<thead>
<tr>
<th>평가 항목</th>
<th>1점 (전혀)</th>
<th>2점 (아니오)</th>
<th>3점 (보통)</th>
<th>4점 (그렇다)</th>
<th>5점 (매우)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. AI의 응답이 내 학습에 도움이 되었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2. AI와의 대화 과정이 유용했다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3. 대화를 통해 이해도가 향상되었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4. 빠르게 답을 받을 수 있어 효율적이었다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5. 더 많은 설명이나 질문이 필요했다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>6. AI와의 대화가 자연스럽고 편안했다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>7. AI가 내 질문을 잘 이해했다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>8. 학습 과정에서 충분한 도움을 받았다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d-rq2">D. 메타인지 능력 평가 (사전-사후, RQ2 핵심)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d-rq2" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d1-5">D1. 학습 자기 인식 (듀이의 반성적 사고 이론 기반, 5점 척도)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d1-5" title="Permanent link">&para;</a></h3>
<p><strong>다음 문항들에 대해 자신의 학습 상황에 가장 가까운 점수를 선택해주세요.</strong></p>
<p><strong>※ 듀이의 반성적 사고 5단계와 연결된 평가:</strong></p>
<table>
<thead>
<tr>
<th>문항 (연결된 반성적 사고 단계)</th>
<th>1점 (전혀)</th>
<th>2점 (아니오)</th>
<th>3점 (보통)</th>
<th>4점 (그렇다)</th>
<th>5점 (매우)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1단계-문제 상황 인식</strong>: 내가 수학 문제를 해결할 때 어떤 단계에서 어려움을 겪는지 알고 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>3단계-가설 설정</strong>: 문제를 풀기 전에 어떤 방법을 시도해야 할지 계획을 세운다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>2단계-문제 정의</strong>: 내가 이해하지 못한 부분을 정확히 파악할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>4단계-가설 검증</strong>: 학습할 때 무엇을 모르는지 스스로 질문한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>5단계-결론 도출</strong>: 학습한 내용을 스스로 점검하고 확인한다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d2-5">D2. 질문 구체화 능력 (질문 생성 및 개선 이론 기반, 5점 척도)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-d2-5" title="Permanent link">&para;</a></h3>
<p><strong>※ 효과적 질문의 특징(구조화, 완결성, 명시성)을 기반한 평가:</strong></p>
<table>
<thead>
<tr>
<th>문항</th>
<th>1점 (전혀)</th>
<th>2점 (아니오)</th>
<th>3점 (보통)</th>
<th>4점 (그렇다)</th>
<th>5점 (매우)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. 막연한 질문보다 구체적인 질문을 하는 편이다 (구조화)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2. 질문할 때 무엇을 알고 싶은지 명확히 표현한다 (명시성)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3. 어려운 부분을 구체적으로 설명할 수 있다 (완결성)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4. 질문을 통해 내 문제점을 파악한다 (메타인지적 질문)</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e-rq1">E. 학습 효과 관련 평가 (RQ1 관련)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e-rq1" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e1">E1. 수학적 귀납법 학습 성과 인식 (수학적 귀납법 학습 특성 기반, 사후)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e1" title="Permanent link">&para;</a></h3>
<p><strong>2주간의 학습 후 다음 내용에 대해 얼마나 잘 이해하게 되었나요? (5점 척도)</strong>
<strong>※ 논문 2.5장에서 제시한 학생들의 주요 어려움 영역별 평가:</strong></p>
<table>
<thead>
<tr>
<th>학습 내용</th>
<th>1점 (이해 안됨)</th>
<th>2점 (조금 이해)</th>
<th>3점 (보통)</th>
<th>4점 (잘 이해됨)</th>
<th>5점 (완전 이해)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. 수학적 귀납법의 기본 원리</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>2. 기본 단계(n=1) 증명 방법</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>3. 귀납 가정의 의미와 활용</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>4. 귀납 단계 증명 과정</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td>5. 등식과 부등식 증명의 차이점</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e2-polya-4">E2. 문제해결 능력 변화 인식 (Polya의 문제해결 4단계 이론 기반, 사후)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-e2-polya-4" title="Permanent link">&para;</a></h3>
<p><strong>※ Polya(1945)의 문제해결 4단계와 연결된 평가:</strong></p>
<table>
<thead>
<tr>
<th>문항 (연결된 문제해결 단계)</th>
<th>1점 (전혀)</th>
<th>2점 (아니오)</th>
<th>3점 (보통)</th>
<th>4점 (그렇다)</th>
<th>5점 (매우)</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>1단계-문제 이해하기</strong>: 수학적 귀납법 문제의 조건과 목표를 명확히 파악할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>2단계-계획 세우기</strong>: 문제를 단계별로 분석하고 증명 계획을 세울 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>3단계-계획 실행하기</strong>: 수학적 귀납법 문제를 독립적으로 해결할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
<tr>
<td><strong>4단계-돌아보기</strong>: 다른 사람에게 수학적 귀납법을 설명하고 검증할 수 있다</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
<td>○</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-f">F. 개방형 질문 (질적 데이터 수집)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-f" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-f1">F1. 학습 경험에 대한 자유 응답<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-f1" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>이번 학습 도구 사용 경험에서 가장 도움이 되었던 점은 무엇인가요?</strong></li>
</ol>
<p>[답변란] _________________________________________________________</p>
<ol>
<li><strong>어려웠던 점이나 개선되었으면 하는 점은 무엇인가요?</strong></li>
</ol>
<p>[답변란] _________________________________________________________</p>
<ol>
<li><strong>AI와의 대화 과정은 어떤 느낌이었나요? 처음에는 어떠했고, 나중에는 어떻게 변했나요?</strong></li>
</ol>
<p>[답변란] _________________________________________________________</p>
<ol>
<li><strong>빠른 답변과 추가 질문이나 설명을 통한 대화 중 어떤 것을 더 선호하나요? 그 이유는 무엇인가요?</strong></li>
</ol>
<p>[답변란] _________________________________________________________</p>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-g">G. 추가 관찰 항목 (연구자용)<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-g" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-g1">G1. 설문 실시 상황<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-g1" title="Permanent link">&para;</a></h3>
<ul>
<li>설문 실시일: _____년 ___월 ___일</li>
<li>설문 소요 시간: _____분</li>
<li>설문 완료율: □ 완전 완료 □ 부분 완료</li>
<li>특이사항: _________________________________________________</li>
</ul>
<hr />
<h2 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_3">설문 분석 계획<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_3" title="Permanent link">&para;</a></h2>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_4">정량적 분석 항목<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_4" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>B1</strong>: 수학적 귀납법 인식 변화 (사전-사후 비교)</li>
<li><strong>C1</strong>: 학습 만족도 및 상호작용 경험 분석 (그룹 간 비교)</li>
<li><strong>D1, D2</strong>: 메타인지 능력 변화 (사전-사후, 그룹 간 비교)</li>
<li><strong>E1, E2</strong>: 학습 효과 인식 (그룹 간 비교)</li>
</ol>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_5">질적 분석 항목<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_5" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>F1</strong>: 개방형 질문에 대한 주제 분석 (Thematic Analysis)</li>
<li>대화 과정 경험 분석 (그룹별 차이점 도출)</li>
<li>시스템 만족도와 개선점 도출</li>
</ul>
<h3 id="%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_6">통계 분석 방법<a class="headerlink" href="#%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-_6" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>사전-사후 비교</strong>: 대응표본 t-검정</li>
<li><strong>그룹 간 비교</strong>: 독립표본 t-검정  </li>
<li><strong>신뢰도 분석</strong>: Cronbach's α</li>
<li><strong>구조 분석</strong>: 요인분석 (필요시)</li>
</ul>
<hr />
<p><strong>설문지 구성 특징 및 이론적 근거:</strong>
1. <strong>RQ1 관련</strong>: 학습 효과 측정 (E1, E2)
   - <strong>E1</strong>: 수학적 귀납법 학습 특성 기반 (논문 2.5장)
   - <strong>E2</strong>: Polya의 문제해결 4단계 이론 기반
2. <strong>RQ2 관련</strong>: 학습 경험 및 메타인지 측정 (C1, D1, D2)
   - <strong>C1-1</strong>: 기술수용모델(TAM) 기반
   - <strong>C1-2</strong>: 질문 생성 및 개선 이론 기반 (논문 2.1장)
   - <strong>D1</strong>: 듀이의 반성적 사고 5단계 이론 기반 (논문 2.3장)
   - <strong>D2</strong>: 효과적 질문의 특징(구조화, 완결성, 명시성) 기반
3. <strong>중립적 문항</strong>: 그룹 차이를 노출하지 않는 동일한 질문
4. <strong>사전-사후 비교</strong>: 변화 측정 가능
5. <strong>질적-양적 통합</strong>: 개방형 질문으로 깊이 있는 분석</p>
<p><strong>주의사항:</strong>
- 두 그룹 모두에게 동일한 설문지 제공
- "명료화", "프리패스" 등 그룹 차이를 드러내는 용어 사용 금지
- 실제 그룹 차이는 응답 패턴 분석을 통해 도출</p></section><section class="print-page" id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd" heading-number="5.3"><h1 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-maice">MAICE 설문조사지 개선 사항 요약<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-maice" title="Permanent link">&para;</a></h1>
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_1">🎯 주요 개선 사항<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_1" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1">1. <strong>명료화 효과 검증 문항 추가</strong> (핵심!)<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1" title="Permanent link">&para;</a></h3>
<h4 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_2">기존 설문의 한계:<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_2" title="Permanent link">&para;</a></h4>
<ul>
<li>질문 명료화 능력 측정 문항 부재</li>
<li>명료화 경험에 대한 직접적 평가 없음</li>
</ul>
<h4 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_3">개선 사항:<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_3" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>B1</strong>: 질문의 명확성 자아인식 (5문항, 5점 척도)</li>
<li>명시성, 완결성, 구조화 측정</li>
<li>이론: King (1994), Graesser &amp; Person (1994)</li>
<li><strong>B2</strong>: 모호한 질문 인식 능력</li>
<li>효과적 질문 vs 비효과적 질문 구분 능력</li>
<li><strong>C1</strong>: 대화 품질 인식</li>
<li>AI가 질문 의도를 파악했는지</li>
<li>추가 질문이 도움이 되었는지</li>
<li><strong>F1</strong>: 명료화 경험에 대한 개방형 질문</li>
<li>Agent 그룹의 구체적 경험 파악</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2">2. <strong>이론적 근거 명시화</strong><a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2" title="Permanent link">&para;</a></h3>
<p>각 문항마다 이론적 근거 명시:
- <strong>B1, B2</strong>: 질문 명료화 이론 (King, 1994)
- <strong>C1</strong>: 질문 명료화 효과 검증
- <strong>C2</strong>: 메타인지 이론 (Flavell, 1979)
- <strong>D1</strong>: 수학적 귀납법 학습 특성 (논문 2.5장)
- <strong>D2</strong>: Polya의 문제해결 4단계
- <strong>E1-E3</strong>: 기술수용모델 (TAM, Davis, 1989)</p>
<h%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3">3. <strong>학습 효과 측정 강화</strong><a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3" title="Permanent link">&para;</a></h3>
<h4 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-e1">기존: E1 (수학적 귀납법 학습 성과)<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-e1" title="Permanent link">&para;</a></h4>
<h4 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-d2-polya-4">추가: D2 (Polya의 문제해결 4단계 기반 평가)<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-d2-polya-4" title="Permanent link">&para;</a></h4>
<ul>
<li>1단계: 문제 이해하기</li>
<li>2단계: 계획 수립</li>
<li>3단계: 계획 실행</li>
<li>4단계: 검토</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4-">4. <strong>정량-질적 통합 강화</strong><a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4-" title="Permanent link">&para;</a></h3>
<h4 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_4">질적 분석 문항 확대:<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_4" title="Permanent link">&para;</a></h4>
<ul>
<li><strong>F1</strong>: 명료화 경험 (Agent 그룹 구체적 경험)</li>
<li><strong>F2</strong>: 질문 습관의 변화 (사전-사후 비교)</li>
<li><strong>F3</strong>: 학습 경험 (긍정적/부정적)</li>
</ul>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_5">📊 검증 가능한 연구 가설<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_5" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_1">가설 1: 명료화 능력 향상<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>측정</strong>: B1, B2 (사전-사후)</li>
<li><strong>예상</strong>: Agent 그룹의 향상이 Freepass 그룹보다 큼</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_1">가설 2: 대화 품질 인식<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>측정</strong>: C1</li>
<li><strong>예상</strong>: Agent 그룹이 더 높음 (명료화로 의도 파악 정확도 증가)</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_1">가설 3: 자기주도적 학습<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_1" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>측정</strong>: C2 (사전-사후)</li>
<li><strong>예상</strong>: Agent 그룹의 향상이 더 큼</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4">가설 4: 학습 효과<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>측정</strong>: D1, D2</li>
<li><strong>예상</strong>: 두 그룹 모두 향상, Agent 그룹이 더 높을 수 있음</li>
</ul>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_6">🔬 분석 방법<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_6" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_7">정량 분석<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_7" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>대응표본 t-검정</strong>: 사전-사후 비교</li>
<li><strong>독립표본 t-검정</strong>: 그룹 간 비교</li>
<li><strong>요인분석</strong>: B1, C1, C2 등의 구조 분석</li>
<li><strong>회귀분석</strong>: 변인 간 인과관계 검증</li>
</ol>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_8">질적 분석<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_8" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>주제 분석 (Thematic Analysis)</strong>: F1, F3</li>
<li><strong>내용 분석</strong>: F2</li>
<li><strong>그룹 간 비교</strong>: Agent vs Freepass 경험 차이</li>
</ol>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_9">✨ 기존 설문지 대비 장점<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_9" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_2">1. 명료화 효과 직접 검증<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_2" title="Permanent link">&para;</a></h3>
<ul>
<li>기존: 간접적 측정만 가능</li>
<li>개선: 명료화 능력 자체를 측정</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_2">2. 이론적 엄밀성<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_2" title="Permanent link">&para;</a></h3>
<ul>
<li>기존: 일부 문항의 이론적 근거 불명확</li>
<li>개선: 모든 문항에 명확한 이론적 근거</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_2">3. 연구 가설 검증 가능<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_2" title="Permanent link">&para;</a></h3>
<ul>
<li>기존: 효과 검증이 애매함</li>
<li>개선: 명확한 가설 설정 및 검증 가능</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4_1">4. 다차원적 측정<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-4_1" title="Permanent link">&para;</a></h3>
<ul>
<li>기존: 학습 효과 위주</li>
<li>개선: 질문 능력, 대화 품질, 학습 효과, 시스템 만족도 모두 측정</li>
</ul>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_10">📋 실제 세션 데이터 반영<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_10" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_11">세션 분석에서 발견된 패턴 반영:<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_11" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>명료화 성공 사례</strong> (세션 13, 17, 20)</li>
<li>"하이" → 명료화 → "수열의 합 일반항 구하기"</li>
<li>
<p><strong>반영</strong>: C1 문항에 "AI가 내 질문 의도를 정확히 파악했다" 포함</p>
</li>
<li>
<p><strong>명료화 과다 사례</strong> (세션 61, 124)</p>
</li>
<li>5회, 9회 명료화 → 학습 방해</li>
<li>
<p><strong>반영</strong>: F1에서 "추가 질문이 도움이 되었나요?"로 평가</p>
</li>
<li>
<p><strong>프리패스 탈선 사례</strong> (세션 15, 23)</p>
</li>
<li>비수학 질문에 즉시 답변 → 학습 이탈</li>
<li>
<p><strong>반영</strong>: C1, C2로 학습 집중도 측정</p>
</li>
<li>
<p><strong>효과적인 명료화 사례</strong> (세션 51, 75)</p>
</li>
<li>명료화 후 심화 학습 유도</li>
<li><strong>반영</strong>: C2 "어려운 내용 이해를 위해 질문을 만든다"</li>
</ol>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_12">🎓 학술적 기여<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_12" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_3">1. 질문 명료화 효과 검증<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-1_3" title="Permanent link">&para;</a></h3>
<ul>
<li>AI 교육에서 명료화 시스템의 효과를 정량적으로 검증</li>
<li>메타인지 향상 검증</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_3">2. 이론의 실증적 검증<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2_3" title="Permanent link">&para;</a></h3>
<ul>
<li>듀이의 반성적 사고 이론</li>
<li>질문 명료화 이론</li>
<li>메타인지 이론</li>
</ul>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_3">3. 실용적 함의<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-3_3" title="Permanent link">&para;</a></h3>
<ul>
<li>AI 학습 도구 설계 방향 제시</li>
<li>명료화 시스템의 활용 범위 제시</li>
</ul>
<hr />
<h2 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_13">📝 수정 권장사항<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_13" title="Permanent link">&para;</a></h2>
<h3 id="%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_14">추가 고려 사항:<a class="headerlink" href="#%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-_14" title="Permanent link">&para;</a></h3>
<ol>
<li><strong>총 35개 문항 (5점 척도) + 5개 개방형</strong></li>
<li>시간: 약 25분 소요</li>
<li>
<p>중간에 휴식 제공 권장</p>
</li>
<li>
<p><strong>그룹 차이 노출 방지</strong></p>
</li>
<li>설문 시 "명료화" 용어 사용 금지</li>
<li>
<p>모든 학생에게 동일한 질문 제공</p>
</li>
<li>
<p><strong>신뢰도 검증</strong></p>
</li>
<li>Cronbach's α 계산</li>
<li>
<p>문항 간 상관관계 분석</p>
</li>
<li>
<p><strong>필드 테스트 권장</strong></p>
</li>
<li>소규모 (5-10명)로 먼저 실시</li>
<li>문항 이해도 확인</li>
<li>시간 소요 확인</li>
</ol></section></section><section class="print-page" id="feedback" heading-number="6"><h1 id="feedback-_1">피드백 및 의견<a class="headerlink" href="#feedback-_1" title="Permanent link">&para;</a></h1>
<hr />
<h2 id="feedback-_2">📝 피드백 가이드<a class="headerlink" href="#feedback-_2" title="Permanent link">&para;</a></h2>
<p>논문에 대한 의견, 질문, 개선 제안 등을 자유롭게 남겨주세요.</p>
<h3 id="feedback-_3">피드백 주제별 카테고리<a class="headerlink" href="#feedback-_3" title="Permanent link">&para;</a></h3>
<div class="admonition question">
<p class="admonition-title">연구 방법론</p>
<p>연구 설계, 실험 절차, 데이터 분석 방법에 대한 의견</p>
</div>
<div class="admonition info">
<p class="admonition-title">이론적 배경</p>
<p>선행 연구, 이론적 근거, 개념 정의에 대한 의견</p>
</div>
<div class="admonition tip">
<p class="admonition-title">시스템 설계</p>
<p>MAICE 시스템 아키텍처, 기술 구현에 대한 의견</p>
</div>
<div class="admonition note">
<p class="admonition-title">결과 해석</p>
<p>실험 결과, 통계 분석, 논의 내용에 대한 의견</p>
</div>
<div class="admonition success">
<p class="admonition-title">전반적 구성</p>
<p>논문 구조, 표현, 가독성에 대한 의견</p>
</div>
<hr />
<h2 id="feedback-_4">💬 댓글로 피드백 남기기<a class="headerlink" href="#feedback-_4" title="Permanent link">&para;</a></h2>
<p>아래 댓글 섹션을 이용하여 자유롭게 의견을 남겨주세요.</p>
<ul>
<li><strong>특정 챕터에 대한 피드백</strong>: 해당 챕터 페이지에서 댓글로 남겨주세요</li>
<li><strong>전체적인 피드백</strong>: 이 페이지에서 댓글로 남겨주세요</li>
<li><strong>긴급하거나 상세한 피드백</strong>: 이메일로 연락주세요</li>
</ul>
<hr />
<h2 id="feedback-_5">📧 이메일로 피드백 보내기<a class="headerlink" href="#feedback-_5" title="Permanent link">&para;</a></h2>
<p>상세한 피드백이나 비공개 의견은 이메일로 보내주세요.</p>
<p><strong>저자</strong>: 김규봉 (부산대학교 AI융합교육전공, 학번: 202373389)<br />
<strong>이메일 주소</strong>: [이메일을 입력하세요]</p>
<h3 id="feedback-_6">이메일 피드백 템플릿<a class="headerlink" href="#feedback-_6" title="Permanent link">&para;</a></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#feedback-__codelineno-0-1"></a>제목: [MAICE 논문 피드백] 챕터명 또는 주제
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#feedback-__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#feedback-__codelineno-0-3"></a>1. 피드백 대상
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#feedback-__codelineno-0-4"></a>   - 챕터: 
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#feedback-__codelineno-0-5"></a>   - 페이지/섹션: 
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#feedback-__codelineno-0-6"></a>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#feedback-__codelineno-0-7"></a>2. 피드백 내용
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#feedback-__codelineno-0-8"></a>   - 
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#feedback-__codelineno-0-9"></a>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#feedback-__codelineno-0-10"></a>3. 개선 제안
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#feedback-__codelineno-0-11"></a>   - 
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#feedback-__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#feedback-__codelineno-0-13"></a>4. 기타 의견
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#feedback-__codelineno-0-14"></a>   - 
</span></code></pre></div>
<hr />
<h2 id="feedback-_7">🙏 감사 인사<a class="headerlink" href="#feedback-_7" title="Permanent link">&para;</a></h2>
<p>논문을 읽어주시고 소중한 피드백을 주셔서 감사합니다!</p>
<p>모든 의견은 논문 개선에 큰 도움이 됩니다.</p>
<hr />
<h2 id="feedback-_8">📊 피드백 현황<a class="headerlink" href="#feedback-_8" title="Permanent link">&para;</a></h2>
<div class="admonition info">
<p class="admonition-title">피드백 통계</p>
<ul>
<li><strong>총 피드백 수</strong>: 0건</li>
<li><strong>반영 완료</strong>: 0건</li>
<li><strong>검토 중</strong>: 0건</li>
<li><strong>답변 대기</strong>: 0건</li>
</ul>
</div>
<hr />
<div class="admonition tip">
<p class="admonition-title">효과적인 피드백 작성 팁</p>
<ol>
<li><strong>구체적으로</strong>: "이 부분이 이해하기 어려웠습니다" → "3.2절의 명료화 프로세스 흐름도가 복잡해서 단계별 설명이 필요합니다"</li>
<li><strong>건설적으로</strong>: 문제점과 함께 개선 방향도 제시해주세요</li>
<li><strong>맥락 제공</strong>: 어떤 관점에서 보셨는지 (예: 교사, 연구자, 학생) 알려주시면 좋습니다</li>
<li><strong>우선순위</strong>: 중요도가 높은 피드백부터 작성해주세요</li>
</ol>
</div></section></div><style>.print-site-enumerate-headings #index > h1:before { content: '1 ' }

                .print-site-enumerate-headings #index h2:before { content: '1.' counter(counter-index-2) ' ' }
                .print-site-enumerate-headings #index h2 {  counter-reset: counter-index-3 ;  counter-increment: counter-index-2 }
            
                .print-site-enumerate-headings #index h3:before { content: '1.' counter(counter-index-2) '.' counter(counter-index-3) ' ' }
                .print-site-enumerate-headings #index h3 {  counter-increment: counter-index-3 }
            
.print-site-enumerate-headings #section-2 > h1:before { content: '2 ' }
.print-site-enumerate-headings #chapters-01-introduction > h1:before { content: '2.1 ' }

                .print-site-enumerate-headings #chapters-01-introduction h2:before { content: '2.1.' counter(counter-chapters-01-introduction-2) ' ' }
                .print-site-enumerate-headings #chapters-01-introduction h2 {  counter-increment: counter-chapters-01-introduction-2 }
            
.print-site-enumerate-headings #chapters-02-theoretical-background > h1:before { content: '2.2 ' }

                .print-site-enumerate-headings #chapters-02-theoretical-background h2:before { content: '2.2.' counter(counter-chapters-02-theoretical-background-2) ' ' }
                .print-site-enumerate-headings #chapters-02-theoretical-background h2 {  counter-increment: counter-chapters-02-theoretical-background-2 }
            
.print-site-enumerate-headings #chapters-03-system-design > h1:before { content: '2.3 ' }

                .print-site-enumerate-headings #chapters-03-system-design h2:before { content: '2.3.' counter(counter-chapters-03-system-design-2) ' ' }
                .print-site-enumerate-headings #chapters-03-system-design h2 {  counter-increment: counter-chapters-03-system-design-2 }
            
.print-site-enumerate-headings #chapters-04-system-implementation > h1:before { content: '2.4 ' }

                .print-site-enumerate-headings #chapters-04-system-implementation h2:before { content: '2.4.' counter(counter-chapters-04-system-implementation-2) ' ' }
                .print-site-enumerate-headings #chapters-04-system-implementation h2 {  counter-increment: counter-chapters-04-system-implementation-2 }
            
.print-site-enumerate-headings #chapters-05-mathematical-induction-application > h1:before { content: '2.5 ' }

                .print-site-enumerate-headings #chapters-05-mathematical-induction-application h2:before { content: '2.5.' counter(counter-chapters-05-mathematical-induction-application-2) ' ' }
                .print-site-enumerate-headings #chapters-05-mathematical-induction-application h2 {  counter-increment: counter-chapters-05-mathematical-induction-application-2 }
            
.print-site-enumerate-headings #chapters-06-research-methods > h1:before { content: '2.6 ' }

                .print-site-enumerate-headings #chapters-06-research-methods h2:before { content: '2.6.' counter(counter-chapters-06-research-methods-2) ' ' }
                .print-site-enumerate-headings #chapters-06-research-methods h2 {  counter-increment: counter-chapters-06-research-methods-2 }
            
.print-site-enumerate-headings #chapters-07-results > h1:before { content: '2.7 ' }

                .print-site-enumerate-headings #chapters-07-results h2:before { content: '2.7.' counter(counter-chapters-07-results-2) ' ' }
                .print-site-enumerate-headings #chapters-07-results h2 {  counter-increment: counter-chapters-07-results-2 }
            
.print-site-enumerate-headings #chapters-08-discussion-conclusion > h1:before { content: '2.8 ' }

                .print-site-enumerate-headings #chapters-08-discussion-conclusion h2:before { content: '2.8.' counter(counter-chapters-08-discussion-conclusion-2) ' ' }
                .print-site-enumerate-headings #chapters-08-discussion-conclusion h2 {  counter-increment: counter-chapters-08-discussion-conclusion-2 }
            
.print-site-enumerate-headings #chapters-09-references > h1:before { content: '2.9 ' }

                .print-site-enumerate-headings #chapters-09-references h2:before { content: '2.9.' counter(counter-chapters-09-references-2) ' ' }
                .print-site-enumerate-headings #chapters-09-references h2 {  counter-increment: counter-chapters-09-references-2 }
            
.print-site-enumerate-headings #section-3 > h1:before { content: '3 ' }
.print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c > h1:before { content: '3.1 ' }

                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c h2:before { content: '3.1.' counter(counter-%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-2) ' ' }
                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c h2 {  counter-increment: counter-%eb%b6%80%eb%a1%9d_a_%eb%a3%a8%eb%b8%8c%eb%a6%ad_%ec%83%81%ec%84%b8%ec%84%a4%eb%aa%85%ec%84%9c-2 }
            
.print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c > h1:before { content: '3.2 ' }

                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c h2:before { content: '3.2.' counter(counter-%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-2) ' ' }
                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c h2 {  counter-increment: counter-%eb%b6%80%eb%a1%9d_b_ai%ec%b1%84%ec%a0%90_%ea%b2%b0%ea%b3%bc_%ec%83%98%ed%94%8c-2 }
            
.print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c > h1:before { content: '3.3 ' }

                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c h2:before { content: '3.3.' counter(counter-%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-2) ' ' }
                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c h2 {  counter-increment: counter-%eb%b6%80%eb%a1%9d_c_%ed%86%b5%ea%b3%84%eb%b6%84%ec%84%9d_%ec%83%81%ec%84%b8%ed%91%9c-2 }
            
.print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8 > h1:before { content: '3.4 ' }

                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8 h2:before { content: '3.4.' counter(counter-%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-2) ' ' }
                .print-site-enumerate-headings #%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8 h2 {  counter-increment: counter-%eb%b6%80%eb%a1%9d_d_%ec%97%b0%ea%b5%ac_%ec%8b%a0%eb%a2%b0%ec%84%b1_%ec%b2%b4%ed%81%ac%eb%a6%ac%ec%8a%a4%ed%8a%b8-2 }
            
.print-site-enumerate-headings #section-4 > h1:before { content: '4 ' }
.print-site-enumerate-headings #section-4-1 > h1:before { content: '4.1 ' }
.print-site-enumerate-headings #architecture-overview > h1:before { content: '4.1.1 ' }

.print-site-enumerate-headings #architecture-agent-system > h1:before { content: '4.1.2 ' }

.print-site-enumerate-headings #architecture-backend-architecture > h1:before { content: '4.1.3 ' }

.print-site-enumerate-headings #architecture-frontend-architecture > h1:before { content: '4.1.4 ' }

.print-site-enumerate-headings #section-4-2 > h1:before { content: '4.2 ' }
.print-site-enumerate-headings #api-maice-api > h1:before { content: '4.2.1 ' }

.print-site-enumerate-headings #api-authentication > h1:before { content: '4.2.2 ' }

.print-site-enumerate-headings #section-5 > h1:before { content: '5 ' }
.print-site-enumerate-headings #maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80 > h1:before { content: '5.1 ' }

                .print-site-enumerate-headings #maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80 h2:before { content: '5.1.' counter(counter-maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2) ' ' }
                .print-site-enumerate-headings #maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80 h2 {  counter-increment: counter-maice_%ec%82%ac%ed%9b%84%ec%84%a4%eb%ac%b8%ec%a7%80-2 }
            
.print-site-enumerate-headings #%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80 > h1:before { content: '5.2 ' }

                .print-site-enumerate-headings #%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80 h2:before { content: '5.2.' counter(counter-%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-2) ' ' }
                .print-site-enumerate-headings #%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80 h2 {  counter-increment: counter-%ed%95%99%ec%83%9d_%ec%84%a4%eb%ac%b8%ec%a1%b0%ec%82%ac%ec%a7%80-2 }
            
.print-site-enumerate-headings #%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd > h1:before { content: '5.3 ' }

                .print-site-enumerate-headings #%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd h2:before { content: '5.3.' counter(counter-%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2) ' ' }
                .print-site-enumerate-headings #%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd h2 {  counter-increment: counter-%ec%84%a4%eb%ac%b8%ec%a7%80_%ea%b0%9c%ec%84%a0%ec%82%ac%ed%95%ad_%ec%9a%94%ec%95%bd-2 }
            
.print-site-enumerate-headings #feedback > h1:before { content: '6 ' }

                .print-site-enumerate-headings #feedback h2:before { content: '6.' counter(counter-feedback-2) ' ' }
                .print-site-enumerate-headings #feedback h2 {  counter-reset: counter-feedback-3 ;  counter-increment: counter-feedback-2 }
            
                .print-site-enumerate-headings #feedback h3:before { content: '6.' counter(counter-feedback-2) '.' counter(counter-feedback-3) ' ' }
                .print-site-enumerate-headings #feedback h3 {  counter-increment: counter-feedback-3 }
            </style>









  




                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  맨위로
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2025 김규봉 (부산대학교 AI융합교육전공)
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://github.com/YOUR_USERNAME" target="_blank" rel="noopener" title="GitHub" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "/", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "navigation.footer", "search.suggest", "search.highlight", "search.share", "toc.follow", "toc.integrate", "content.code.copy", "content.action.edit", "content.action.view"], "search": "../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub428", "clipboard.copy": "\ud074\ub9bd\ubcf4\ub4dc\ub85c \ubcf5\uc0ac", "search.result.more.one": "\uc774 \ubb38\uc11c\uc5d0\uc11c 1\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.more.other": "\uc774 \ubb38\uc11c\uc5d0\uc11c #\uac1c\uc758 \uac80\uc0c9 \uacb0\uacfc \ub354 \ubcf4\uae30", "search.result.none": "\uac80\uc0c9\uc5b4\uc640 \uc77c\uce58\ud558\ub294 \ubb38\uc11c\uac00 \uc5c6\uc2b5\ub2c8\ub2e4", "search.result.one": "1\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.other": "#\uac1c\uc758 \uc77c\uce58\ud558\ub294 \ubb38\uc11c", "search.result.placeholder": "\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694", "search.result.term.missing": "\ud3ec\ud568\ub418\uc9c0 \uc54a\uc740 \uac80\uc0c9\uc5b4", "select.version": "\ubc84\uc804 \uc120\ud0dd"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.f55a23d4.min.js"></script>
      
        <script src="../js/print-site.js"></script>
      
        <script src="../javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
        <script src="https://unpkg.com/mermaid@10/dist/mermaid.min.js"></script>
      
        <script src="../javascripts/mermaid-init.js"></script>
      
    
  </body>
</html>